{
  "conversation_id": "2d17304f-32eb-4a5a-9d7f-133b650006ea",
  "next_message": null,
  "history": [
    [
      {
        "additional_context": "",
        "env_context": {
          "env_state": {
            "operating_system": "macos",
            "current_working_directory": "/Users/orrb/personal/workspace/personal-ai",
            "environment_variables": []
          }
        },
        "content": {
          "Prompt": {
            "prompt": "how can i see why whatsapp_indexer mcp server is still loading"
          }
        },
        "images": null
      },
      {
        "ToolUse": {
          "message_id": "7f244f45-a108-4db4-a29c-00bd59a1397f",
          "content": "To troubleshoot why the `whatsapp_indexer` MCP server is still loading, you can check several things:\n\n## Check MCP Server Status\n\nFirst, let's see what MCP servers are currently configured and their status:",
          "tool_uses": [
            {
              "id": "tooluse_4U8UnNptThm4TRYh41OvfA",
              "name": "execute_bash",
              "orig_name": "execute_bash",
              "args": {
                "command": "q config list",
                "summary": "Check Q CLI configuration to see MCP servers"
              },
              "orig_args": {
                "command": "q config list",
                "summary": "Check Q CLI configuration to see MCP servers"
              }
            }
          ]
        }
      }
    ],
    [
      {
        "additional_context": "",
        "env_context": {
          "env_state": {
            "operating_system": "macos",
            "current_working_directory": "/Users/orrb/personal/workspace/personal-ai",
            "environment_variables": []
          }
        },
        "content": {
          "ToolUseResults": {
            "tool_use_results": [
              {
                "tool_use_id": "tooluse_4U8UnNptThm4TRYh41OvfA",
                "content": [
                  {
                    "Json": {
                      "exit_status": "2",
                      "stdout": "",
                      "stderr": "error: unrecognized subcommand 'config'\n\nUsage: q [OPTIONS] [COMMAND]\n\nFor more information, try '--help'.\n\nThis command may be valid in newer versions of the Amazon Q CLI. Try running q update."
                    }
                  }
                ],
                "status": "Success"
              }
            ]
          }
        },
        "images": null
      },
      {
        "ToolUse": {
          "message_id": "e9de0a91-ae40-4aca-af6e-1bf027c65701",
          "content": "Let me check the Q CLI help to see available commands:",
          "tool_uses": [
            {
              "id": "tooluse_s2RBn3C2TT62ObjLm_rIOg",
              "name": "execute_bash",
              "orig_name": "execute_bash",
              "args": {
                "summary": "Check Q CLI help for available commands",
                "command": "q --help"
              },
              "orig_args": {
                "summary": "Check Q CLI help for available commands",
                "command": "q --help"
              }
            }
          ]
        }
      }
    ],
    [
      {
        "additional_context": "",
        "env_context": {
          "env_state": {
            "operating_system": "macos",
            "current_working_directory": "/Users/orrb/personal/workspace/personal-ai",
            "environment_variables": []
          }
        },
        "content": {
          "ToolUseResults": {
            "tool_use_results": [
              {
                "tool_use_id": "tooluse_s2RBn3C2TT62ObjLm_rIOg",
                "content": [
                  {
                    "Json": {
                      "exit_status": "0",
                      "stdout": "\nq (Amazon Q CLI)\n\nPopular Subcommands              Usage: q [subcommand]\n‚ï≠‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚ïÆ\n‚îÇ chat         Chat with Amazon Q                    ‚îÇ\n‚îÇ translate    Natural Language to Shell translation ‚îÇ\n‚îÇ doctor       Debug installation issues             ‚îÇ \n‚îÇ settings     Customize appearance & behavior       ‚îÇ\n‚îÇ quit         Quit the app                          ‚îÇ\n‚ï∞‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚ïØ\n\nTo see all subcommands, use:\n ‚ùØ q --help-all\n„Ö§",
                      "stderr": ""
                    }
                  }
                ],
                "status": "Success"
              }
            ]
          }
        },
        "images": null
      },
      {
        "ToolUse": {
          "message_id": "04783ce0-6266-4887-a9fc-f23b7828c446",
          "content": "Let me check the settings command to see MCP server configuration:",
          "tool_uses": [
            {
              "id": "tooluse_Td6nwAXpQTe9UpukPmHYsw",
              "name": "execute_bash",
              "orig_name": "execute_bash",
              "args": {
                "summary": "Check Q CLI settings for MCP server configuration",
                "command": "q settings --help"
              },
              "orig_args": {
                "summary": "Check Q CLI settings for MCP server configuration",
                "command": "q settings --help"
              }
            }
          ]
        }
      }
    ],
    [
      {
        "additional_context": "",
        "env_context": {
          "env_state": {
            "operating_system": "macos",
            "current_working_directory": "/Users/orrb/personal/workspace/personal-ai",
            "environment_variables": []
          }
        },
        "content": {
          "ToolUseResults": {
            "tool_use_results": [
              {
                "tool_use_id": "tooluse_Td6nwAXpQTe9UpukPmHYsw",
                "content": [
                  {
                    "Json": {
                      "exit_status": "0",
                      "stdout": "Customize appearance & behavior\n\nUsage: q settings [OPTIONS] [KEY] [VALUE]\n       q settings <COMMAND>\n\nCommands:\n  open  Open the settings file\n  all   List all the settings\n  help  Print this message or the help of the given subcommand(s)\n\nArguments:\n  [KEY]\n          key\n\n  [VALUE]\n          value\n\nOptions:\n  -d, --delete\n          Delete a value\n\n  -f, --format <FORMAT>\n          Format of the output\n          \n          [default: plain]\n\n          Possible values:\n          - plain:       Outputs the results as markdown\n          - json:        Outputs the results as JSON\n          - json-pretty: Outputs the results as pretty print JSON\n\n  -v, --verbose...\n          Increase logging verbosity\n\n  -h, --help\n          Print help (see a summary with '-h')",
                      "stderr": ""
                    }
                  }
                ],
                "status": "Success"
              }
            ]
          }
        },
        "images": null
      },
      {
        "ToolUse": {
          "message_id": "3b5b442f-b23e-4e2b-945d-0c0e9151a705",
          "content": "Let me check all settings to see MCP server configuration:",
          "tool_uses": [
            {
              "id": "tooluse_wjozeSo4RySrnkPc3zwfOw",
              "name": "execute_bash",
              "orig_name": "execute_bash",
              "args": {
                "summary": "List all Q CLI settings to see MCP server configuration",
                "command": "q settings all"
              },
              "orig_args": {
                "summary": "List all Q CLI settings to see MCP server configuration",
                "command": "q settings all"
              }
            }
          ]
        }
      }
    ],
    [
      {
        "additional_context": "",
        "env_context": {
          "env_state": {
            "operating_system": "macos",
            "current_working_directory": "/Users/orrb/personal/workspace/personal-ai",
            "environment_variables": []
          }
        },
        "content": {
          "ToolUseResults": {
            "tool_use_results": [
              {
                "tool_use_id": "tooluse_wjozeSo4RySrnkPc3zwfOw",
                "content": [
                  {
                    "Json": {
                      "exit_status": "0",
                      "stdout": "autocomplete.disable = true\nautocomplete.insertSpaceAutomatically = false\nautocomplete.keybindings.control+f = \"ignore\"\nautocomplete.keybindings.control+r = \"toggleHistoryMode\"\nautocomplete.keybindings.option+f = \"ignore\"\nchat.defaultModel = \"claude-4-sonnet\"\nmcp.loadedBefore = true",
                      "stderr": ""
                    }
                  }
                ],
                "status": "Success"
              }
            ]
          }
        },
        "images": null
      },
      {
        "ToolUse": {
          "message_id": "2fe63b04-fb35-42fd-8249-e6018290bdc8",
          "content": "Let me check if there's a settings file we can examine directly:",
          "tool_uses": [
            {
              "id": "tooluse_VFwXEf3IR22CXT-Ek3FHUQ",
              "name": "execute_bash",
              "orig_name": "execute_bash",
              "args": {
                "summary": "Open Q CLI settings file to see MCP configuration",
                "command": "q settings open"
              },
              "orig_args": {
                "summary": "Open Q CLI settings file to see MCP configuration",
                "command": "q settings open"
              }
            }
          ]
        }
      }
    ],
    [
      {
        "additional_context": "",
        "env_context": {
          "env_state": {
            "operating_system": "macos",
            "current_working_directory": "/Users/orrb/personal/workspace/personal-ai",
            "environment_variables": []
          }
        },
        "content": {
          "ToolUseResults": {
            "tool_use_results": [
              {
                "tool_use_id": "tooluse_VFwXEf3IR22CXT-Ek3FHUQ",
                "content": [
                  {
                    "Json": {
                      "exit_status": "0",
                      "stdout": "",
                      "stderr": ""
                    }
                  }
                ],
                "status": "Success"
              }
            ]
          }
        },
        "images": null
      },
      {
        "ToolUse": {
          "message_id": "db36066f-72ab-4276-b9ce-46b806a67044",
          "content": "Let me check the doctor command which might provide debugging information:",
          "tool_uses": [
            {
              "id": "tooluse_FLuMHdprSW2QITat8SWfBw",
              "name": "execute_bash",
              "orig_name": "execute_bash",
              "args": {
                "summary": "Run Q CLI doctor to debug installation and MCP server issues",
                "command": "q doctor"
              },
              "orig_args": {
                "summary": "Run Q CLI doctor to debug installation and MCP server issues",
                "command": "q doctor"
              }
            }
          ]
        }
      }
    ],
    [
      {
        "additional_context": "",
        "env_context": {
          "env_state": {
            "operating_system": "macos",
            "current_working_directory": "/Users/orrb/personal/workspace/personal-ai",
            "environment_variables": []
          }
        },
        "content": {
          "ToolUseResults": {
            "tool_use_results": [
              {
                "tool_use_id": "tooluse_FLuMHdprSW2QITat8SWfBw",
                "content": [
                  {
                    "Json": {
                      "exit_status": "0",
                      "stdout": "\u001b[?25l\u001b[2K\u001b[?25h\n‚úò Amazon Q terminal integrations: This terminal is not running with the latest integration, please restart your terminal\n\n  Q_TERM=1.12.4\n\n\n‚úò Doctor found errors. Please fix them and try again.\n\nIf you are not sure how to fix it, please open an issue with q issue to let us know!\n",
                      "stderr": "\r‚†ã Running checks...\r‚†ô Running checks..."
                    }
                  }
                ],
                "status": "Success"
              }
            ]
          }
        },
        "images": null
      },
      {
        "ToolUse": {
          "message_id": "21a3c926-6a35-4e74-a6d0-2669f40a21bf",
          "content": "The doctor command shows there might be terminal integration issues. Let me check if there are any MCP-related log files or configuration files:",
          "tool_uses": [
            {
              "id": "tooluse_zoQn8WsET2iDD2-NbvECEw",
              "name": "execute_bash",
              "orig_name": "execute_bash",
              "args": {
                "summary": "Look for Q CLI configuration directory",
                "command": "find ~ -name \"*q*\" -type d 2>/dev/null | grep -E \"(\\.q|amazon|config)\" | head -10"
              },
              "orig_args": {
                "summary": "Look for Q CLI configuration directory",
                "command": "find ~ -name \"*q*\" -type d 2>/dev/null | grep -E \"(\\.q|amazon|config)\" | head -10"
              }
            }
          ]
        }
      }
    ],
    [
      {
        "additional_context": "",
        "env_context": {
          "env_state": {
            "operating_system": "macos",
            "current_working_directory": "/Users/orrb/personal/workspace/personal-ai",
            "environment_variables": []
          }
        },
        "content": {
          "CancelledToolUses": {
            "prompt": "The user interrupted the tool execution.",
            "tool_use_results": [
              {
                "tool_use_id": "tooluse_zoQn8WsET2iDD2-NbvECEw",
                "content": [
                  {
                    "Text": "Tool use was cancelled by the user"
                  }
                ],
                "status": "Error"
              }
            ]
          }
        },
        "images": null
      },
      {
        "Response": {
          "message_id": null,
          "content": "Tool uses were interrupted, waiting for the next user prompt"
        }
      }
    ],
    [
      {
        "additional_context": "",
        "env_context": {
          "env_state": {
            "operating_system": "macos",
            "current_working_directory": "/Users/orrb/personal/workspace/personal-ai",
            "environment_variables": []
          }
        },
        "content": {
          "Prompt": {
            "prompt": "q context status"
          }
        },
        "images": null
      },
      {
        "ToolUse": {
          "message_id": "a7008a5a-11cf-4903-9946-1001ccb302a6",
          "content": "",
          "tool_uses": [
            {
              "id": "tooluse_d_rYr_CDSkeq1df0eWL8tw",
              "name": "execute_bash",
              "orig_name": "execute_bash",
              "args": {
                "summary": "Check Q CLI context status",
                "command": "q context status"
              },
              "orig_args": {
                "summary": "Check Q CLI context status",
                "command": "q context status"
              }
            }
          ]
        }
      }
    ],
    [
      {
        "additional_context": "",
        "env_context": {
          "env_state": {
            "operating_system": "macos",
            "current_working_directory": "/Users/orrb/personal/workspace/personal-ai",
            "environment_variables": []
          }
        },
        "content": {
          "ToolUseResults": {
            "tool_use_results": [
              {
                "tool_use_id": "tooluse_d_rYr_CDSkeq1df0eWL8tw",
                "content": [
                  {
                    "Json": {
                      "exit_status": "2",
                      "stdout": "",
                      "stderr": "error: unrecognized subcommand 'context'\n\nUsage: q [OPTIONS] [COMMAND]\n\nFor more information, try '--help'.\n\nThis command may be valid in newer versions of the Amazon Q CLI. Try running q update."
                    }
                  }
                ],
                "status": "Success"
              }
            ]
          }
        },
        "images": null
      },
      {
        "ToolUse": {
          "message_id": "29fd0c0f-3ffa-4ec3-824e-5d0feeab8542",
          "content": "The `context` subcommand isn't available in your current version of the Q CLI. Let me check what version you're running and see all available commands:",
          "tool_uses": [
            {
              "id": "tooluse_YH_GDvRAT2ONnnuE9oF5Ig",
              "name": "execute_bash",
              "orig_name": "execute_bash",
              "args": {
                "summary": "Check Q CLI version",
                "command": "q --version"
              },
              "orig_args": {
                "summary": "Check Q CLI version",
                "command": "q --version"
              }
            }
          ]
        }
      }
    ],
    [
      {
        "additional_context": "",
        "env_context": {
          "env_state": {
            "operating_system": "macos",
            "current_working_directory": "/Users/orrb/personal/workspace/personal-ai",
            "environment_variables": []
          }
        },
        "content": {
          "CancelledToolUses": {
            "prompt": "The user interrupted the tool execution.",
            "tool_use_results": [
              {
                "tool_use_id": "tooluse_YH_GDvRAT2ONnnuE9oF5Ig",
                "content": [
                  {
                    "Text": "Tool use was cancelled by the user"
                  }
                ],
                "status": "Error"
              }
            ]
          }
        },
        "images": null
      },
      {
        "Response": {
          "message_id": null,
          "content": "Tool uses were interrupted, waiting for the next user prompt"
        }
      }
    ],
    [
      {
        "additional_context": "",
        "env_context": {
          "env_state": {
            "operating_system": "macos",
            "current_working_directory": "/Users/orrb/personal/workspace/personal-ai",
            "environment_variables": []
          }
        },
        "content": {
          "Prompt": {
            "prompt": "this repository is for app that listens to whatsapp messages and index them and exposes mcp server that let query this index. when i load the mcp server into q cli it is stuck in loading state"
          }
        },
        "images": null
      },
      {
        "ToolUse": {
          "message_id": "9997cb8b-dd7a-435b-a42f-7fff99d07366",
          "content": "To troubleshoot why your WhatsApp indexer MCP server is stuck in loading state, let's check a few things:\n\n## 1. Check the MCP server implementation\n\nFirst, let's look at your MCP server code to see how it's structured:",
          "tool_uses": [
            {
              "id": "tooluse_9aAyYLdAQOy_vQKrxI9XFQ",
              "name": "fs_read",
              "orig_name": "fs_read",
              "args": {
                "mode": "Directory",
                "path": "."
              },
              "orig_args": {
                "mode": "Directory",
                "path": "."
              }
            }
          ]
        }
      }
    ],
    [
      {
        "additional_context": "",
        "env_context": {
          "env_state": {
            "operating_system": "macos",
            "current_working_directory": "/Users/orrb/personal/workspace/personal-ai",
            "environment_variables": []
          }
        },
        "content": {
          "ToolUseResults": {
            "tool_use_results": [
              {
                "tool_use_id": "tooluse_9aAyYLdAQOy_vQKrxI9XFQ",
                "content": [
                  {
                    "Text": "drwxr-xr-x 16 503 20 512 Jul 27 13:27 ./whatsapp-indexer"
                  }
                ],
                "status": "Success"
              }
            ]
          }
        },
        "images": null
      },
      {
        "ToolUse": {
          "message_id": "cc1991f7-b598-4857-ba26-0bfd9458bdda",
          "content": "",
          "tool_uses": [
            {
              "id": "tooluse_fmALBl5JS62_bkZRpYhd4g",
              "name": "fs_read",
              "orig_name": "fs_read",
              "args": {
                "mode": "Directory",
                "path": "./whatsapp-indexer"
              },
              "orig_args": {
                "mode": "Directory",
                "path": "./whatsapp-indexer"
              }
            }
          ]
        }
      }
    ],
    [
      {
        "additional_context": "",
        "env_context": {
          "env_state": {
            "operating_system": "macos",
            "current_working_directory": "/Users/orrb/personal/workspace/personal-ai",
            "environment_variables": []
          }
        },
        "content": {
          "ToolUseResults": {
            "tool_use_results": [
              {
                "tool_use_id": "tooluse_fmALBl5JS62_bkZRpYhd4g",
                "content": [
                  {
                    "Text": "drwxr-xr-x 4 503 20 128 Jul 27 13:28 ./whatsapp-indexer/.wwebjs_cache\ndrwxr-xr-x 255 503 20 8160 Jul 27 13:19 ./whatsapp-indexer/node_modules\n-rw-r--r-- 1 503 20 6846 Jul 27 13:19 ./whatsapp-indexer/README.md\n-rw-r--r-- 1 503 20 1142 Jul 27 13:10 ./whatsapp-indexer/.gitignore\n-rw-r--r-- 1 503 20 115923 Jul 27 13:19 ./whatsapp-indexer/package-lock.json\n-rw-r--r-- 1 503 20 931 Jul 27 13:18 ./whatsapp-indexer/package.json\n-rw-r--r-- 1 503 20 202 Jul 27 13:19 ./whatsapp-indexer/.env\ndrwxr-xr-x 3 503 20 96 Jul 27 13:20 ./whatsapp-indexer/.wwebjs_auth\ndrwxr-xr-x 3 503 20 96 Jul 27 13:18 ./whatsapp-indexer/scripts\n-rwxr-xr-x 1 503 20 231 Jul 27 13:12 ./whatsapp-indexer/start-mcp.sh\n-rw-r--r-- 1 503 20 202 Jul 27 13:16 ./whatsapp-indexer/.env.example\n-rwxr-xr-x 1 503 20 391 Jul 27 13:20 ./whatsapp-indexer/start-indexer.sh\ndrwxr-xr-x 4 503 20 128 Jul 27 13:38 ./whatsapp-indexer/data\ndrwxr-xr-x 9 503 20 288 Jul 27 13:18 ./whatsapp-indexer/src"
                  }
                ],
                "status": "Success"
              }
            ]
          }
        },
        "images": null
      },
      {
        "ToolUse": {
          "message_id": "4acd21e6-71d8-40bd-a5df-f2ea6855db6c",
          "content": "Let's check the MCP server startup script and main files:",
          "tool_uses": [
            {
              "id": "tooluse_kdMapF2UQSyYl26_wW9M6A",
              "name": "fs_read",
              "orig_name": "fs_read",
              "args": {
                "mode": "Line",
                "path": "./whatsapp-indexer/start-mcp.sh"
              },
              "orig_args": {
                "mode": "Line",
                "path": "./whatsapp-indexer/start-mcp.sh"
              }
            }
          ]
        }
      }
    ],
    [
      {
        "additional_context": "",
        "env_context": {
          "env_state": {
            "operating_system": "macos",
            "current_working_directory": "/Users/orrb/personal/workspace/personal-ai",
            "environment_variables": []
          }
        },
        "content": {
          "ToolUseResults": {
            "tool_use_results": [
              {
                "tool_use_id": "tooluse_kdMapF2UQSyYl26_wW9M6A",
                "content": [
                  {
                    "Text": "#!/bin/bash\n\n# WhatsApp Indexer MCP Server Startup Script\ncd \"$(dirname \"$0\")\"\n\n# Load environment variables\nif [ -f .env ]; then\n    export $(cat .env | grep -v '^#' | xargs)\nfi\n\n# Start the MCP server\nexec node src/mcp-server.js"
                  }
                ],
                "status": "Success"
              }
            ]
          }
        },
        "images": null
      },
      {
        "ToolUse": {
          "message_id": "29fab570-1c65-467c-b6dd-260399d00e35",
          "content": "",
          "tool_uses": [
            {
              "id": "tooluse_g3mFNmlAR0OzwK8BuvbE4Q",
              "name": "fs_read",
              "orig_name": "fs_read",
              "args": {
                "mode": "Line",
                "path": "./whatsapp-indexer/src"
              },
              "orig_args": {
                "mode": "Line",
                "path": "./whatsapp-indexer/src"
              }
            }
          ]
        }
      }
    ],
    [
      {
        "additional_context": "",
        "env_context": {
          "env_state": {
            "operating_system": "macos",
            "current_working_directory": "/Users/orrb/personal/workspace/personal-ai",
            "environment_variables": []
          }
        },
        "content": {
          "ToolUseResults": {
            "tool_use_results": [
              {
                "tool_use_id": "tooluse_g3mFNmlAR0OzwK8BuvbE4Q",
                "content": [
                  {
                    "Text": "Failed to validate tool parameters: './whatsapp-indexer/src' is not a file"
                  }
                ],
                "status": "Error"
              }
            ]
          }
        },
        "images": null
      },
      {
        "ToolUse": {
          "message_id": "037393da-43b4-4e83-be14-e87e4844a98a",
          "content": "",
          "tool_uses": [
            {
              "id": "tooluse_r0JvgT4JRXOboe5km2XyfA",
              "name": "fs_read",
              "orig_name": "fs_read",
              "args": {
                "mode": "Directory",
                "path": "./whatsapp-indexer/src"
              },
              "orig_args": {
                "mode": "Directory",
                "path": "./whatsapp-indexer/src"
              }
            }
          ]
        }
      }
    ],
    [
      {
        "additional_context": "",
        "env_context": {
          "env_state": {
            "operating_system": "macos",
            "current_working_directory": "/Users/orrb/personal/workspace/personal-ai",
            "environment_variables": []
          }
        },
        "content": {
          "ToolUseResults": {
            "tool_use_results": [
              {
                "tool_use_id": "tooluse_r0JvgT4JRXOboe5km2XyfA",
                "content": [
                  {
                    "Text": "-rw-r--r-- 1 503 20 5465 Jul 27 13:07 ./whatsapp-indexer/src/database.js\n-rw-r--r-- 1 503 20 6754 Jul 27 13:24 ./whatsapp-indexer/src/whatsapp-client.js\n-rw-r--r-- 1 503 20 5282 Jul 27 13:24 ./whatsapp-indexer/src/message-processor.js\n-rw-r--r-- 1 503 20 852 Jul 27 13:09 ./whatsapp-indexer/src/index.js\n-rw-r--r-- 1 503 20 688 Jul 27 13:17 ./whatsapp-indexer/src/config.js\n-rw-r--r-- 1 503 20 13696 Jul 27 13:09 ./whatsapp-indexer/src/mcp-server.js\n-rw-r--r-- 1 503 20 10289 Jul 27 13:26 ./whatsapp-indexer/src/local-vector-store.js"
                  }
                ],
                "status": "Success"
              }
            ]
          }
        },
        "images": null
      },
      {
        "ToolUse": {
          "message_id": "a5e66c4f-259b-44ef-940f-bc36e15a238f",
          "content": "Let's examine the MCP server implementation:",
          "tool_uses": [
            {
              "id": "tooluse_gicmYle5STuif8J1cYZTcg",
              "name": "fs_read",
              "orig_name": "fs_read",
              "args": {
                "mode": "Line",
                "path": "./whatsapp-indexer/src/mcp-server.js"
              },
              "orig_args": {
                "mode": "Line",
                "path": "./whatsapp-indexer/src/mcp-server.js"
              }
            }
          ]
        }
      }
    ],
    [
      {
        "additional_context": "",
        "env_context": {
          "env_state": {
            "operating_system": "macos",
            "current_working_directory": "/Users/orrb/personal/workspace/personal-ai",
            "environment_variables": []
          }
        },
        "content": {
          "ToolUseResults": {
            "tool_use_results": [
              {
                "tool_use_id": "tooluse_gicmYle5STuif8J1cYZTcg",
                "content": [
                  {
                    "Text": "import { Server } from '@modelcontextprotocol/sdk/server/index.js';\nimport { StdioServerTransport } from '@modelcontextprotocol/sdk/server/stdio.js';\nimport {\n  CallToolRequestSchema,\n  ListToolsRequestSchema,\n} from '@modelcontextprotocol/sdk/types.js';\nimport WhatsAppClient from './whatsapp-client.js';\nimport * as chrono from 'chrono-node';\n\nclass WhatsAppMCPServer {\n  constructor() {\n    this.server = new Server(\n      {\n        name: 'whatsapp-indexer',\n        version: '1.0.0',\n      },\n      {\n        capabilities: {\n          tools: {},\n        },\n      }\n    );\n    \n    this.whatsappClient = new WhatsAppClient();\n    this.setupTools();\n  }\n\n  setupTools() {\n    // List available tools\n    this.server.setRequestHandler(ListToolsRequestSchema, async () => {\n      return {\n        tools: [\n          {\n            name: 'search_messages',\n            description: 'Search WhatsApp messages using natural language queries. Supports semantic search and filters by sender, date, and content type.',\n            inputSchema: {\n              type: 'object',\n              properties: {\n                query: {\n                  type: 'string',\n                  description: 'Natural language search query (e.g., \"get me the url Roni sent me for the thai restaurant\")',\n                },\n                limit: {\n                  type: 'number',\n                  description: 'Maximum number of results to return (default: 10)',\n                  default: 10,\n                },\n              },\n              required: ['query'],\n            },\n          },\n          {\n            name: 'get_urls_by_sender',\n            description: 'Get all URLs shared by a specific person',\n            inputSchema: {\n              type: 'object',\n              properties: {\n                sender_name: {\n                  type: 'string',\n                  description: 'Name of the person who sent the URLs',\n                },\n                limit: {\n                  type: 'number',\n                  description: 'Maximum number of URLs to return (default: 20)',\n                  default: 20,\n                },\n              },\n              required: ['sender_name'],\n            },\n          },\n          {\n            name: 'get_messages_by_date',\n            description: 'Get messages from a specific date or date range',\n            inputSchema: {\n              type: 'object',\n              properties: {\n                date_query: {\n                  type: 'string',\n                  description: 'Date or date range in natural language (e.g., \"today\", \"this week\", \"last Monday\", \"January 15\")',\n                },\n                sender_name: {\n                  type: 'string',\n                  description: 'Optional: filter by specific sender',\n                },\n              },\n              required: ['date_query'],\n            },\n          },\n          {\n            name: 'find_schedule_with_person',\n            description: 'Find scheduling-related messages with a specific person',\n            inputSchema: {\n              type: 'object',\n              properties: {\n                person_name: {\n                  type: 'string',\n                  description: 'Name of the person to find scheduling messages with',\n                },\n                time_period: {\n                  type: 'string',\n                  description: 'Time period to search (e.g., \"this week\", \"next week\", \"today\")',\n                  default: 'this week',\n                },\n              },\n              required: ['person_name'],\n            },\n          },\n          {\n            name: 'check_plans_for_day',\n            description: 'Check if there are any plans or appointments for a specific day',\n            inputSchema: {\n              type: 'object',\n              properties: {\n                day: {\n                  type: 'string',\n                  description: 'Day to check for plans (e.g., \"Wednesday\", \"tomorrow\", \"January 20\")',\n                },\n              },\n              required: ['day'],\n            },\n          },\n        ],\n      };\n    });\n\n    // Handle tool calls\n    this.server.setRequestHandler(CallToolRequestSchema, async (request) => {\n      const { name, arguments: args } = request.params;\n\n      try {\n        switch (name) {\n          case 'search_messages':\n            return await this.handleSearchMessages(args);\n          \n          case 'get_urls_by_sender':\n            return await this.handleGetUrlsBySender(args);\n          \n          case 'get_messages_by_date':\n            return await this.handleGetMessagesByDate(args);\n          \n          case 'find_schedule_with_person':\n            return await this.handleFindScheduleWithPerson(args);\n          \n          case 'check_plans_for_day':\n            return await this.handleCheckPlansForDay(args);\n          \n          default:\n            throw new Error(`Unknown tool: ${name}`);\n        }\n      } catch (error) {\n        return {\n          content: [\n            {\n              type: 'text',\n              text: `Error: ${error.message}`,\n            },\n          ],\n        };\n      }\n    });\n  }\n\n  async handleSearchMessages(args) {\n    const { query, limit = 10 } = args;\n    \n    const results = await this.whatsappClient.searchMessages(query, { limit });\n    \n    if (results.results.length === 0) {\n      return {\n        content: [\n          {\n            type: 'text',\n            text: `No messages found for query: \"${query}\"`,\n          },\n        ],\n      };\n    }\n\n    const formattedResults = results.results.map(msg => {\n      const date = new Date(msg.timestamp).toLocaleString();\n      const urls = msg.urls ? msg.urls.split('|').join(', ') : '';\n      \n      return `**From:** ${msg.senderName || msg.sender_name}\n**Date:** ${date}\n**Message:** ${msg.content}\n${urls ? `**URLs:** ${urls}` : ''}\n**Relevance Score:** ${msg.relevanceScore?.toFixed(3) || 'N/A'}\n---`;\n    }).join('\\n\\n');\n\n    return {\n      content: [\n        {\n          type: 'text',\n          text: `Found ${results.results.length} messages for \"${query}\":\\n\\n${formattedResults}`,\n        },\n      ],\n    };\n  }\n\n  async handleGetUrlsBySender(args) {\n    const { sender_name, limit = 20 } = args;\n    \n    const urls = await this.whatsappClient.getUrlsBySender(sender_name, limit);\n    \n    if (urls.length === 0) {\n      return {\n        content: [\n          {\n            type: 'text',\n            text: `No URLs found from ${sender_name}`,\n          },\n        ],\n      };\n    }\n\n    const formattedUrls = urls.map(urlData => {\n      const date = new Date(urlData.timestamp).toLocaleString();\n      return `**URL:** ${urlData.url}\n**Domain:** ${urlData.domain || 'Unknown'}\n**Date:** ${date}\n**Context:** ${urlData.content.substring(0, 100)}...\n---`;\n    }).join('\\n\\n');\n\n    return {\n      content: [\n        {\n          type: 'text',\n          text: `Found ${urls.length} URLs from ${sender_name}:\\n\\n${formattedUrls}`,\n        },\n      ],\n    };\n  }\n\n  async handleGetMessagesByDate(args) {\n    const { date_query, sender_name } = args;\n    \n    // Parse the date query\n    const parsedDates = chrono.parse(date_query);\n    if (parsedDates.length === 0) {\n      throw new Error(`Could not parse date: \"${date_query}\"`);\n    }\n\n    const date = parsedDates[0].start.date();\n    const startOfDay = new Date(date);\n    startOfDay.setHours(0, 0, 0, 0);\n    const endOfDay = new Date(date);\n    endOfDay.setHours(23, 59, 59, 999);\n\n    const messages = await this.whatsappClient.getMessagesByDateRange(\n      startOfDay.getTime(),\n      endOfDay.getTime(),\n      sender_name\n    );\n\n    if (messages.length === 0) {\n      const senderText = sender_name ? ` from ${sender_name}` : '';\n      return {\n        content: [\n          {\n            type: 'text',\n            text: `No messages found${senderText} for ${date_query}`,\n          },\n        ],\n      };\n    }\n\n    const formattedMessages = messages.map(msg => {\n      const time = new Date(msg.timestamp).toLocaleTimeString();\n      const urls = msg.urls ? ` [URLs: ${msg.urls}]` : '';\n      \n      return `**${time} - ${msg.sender_name}:** ${msg.content}${urls}`;\n    }).join('\\n');\n\n    const senderText = sender_name ? ` from ${sender_name}` : '';\n    return {\n      content: [\n        {\n          type: 'text',\n          text: `Found ${messages.length} messages${senderText} for ${date_query}:\\n\\n${formattedMessages}`,\n        },\n      ],\n    };\n  }\n\n  async handleFindScheduleWithPerson(args) {\n    const { person_name, time_period = 'this week' } = args;\n    \n    // Create a search query that looks for scheduling-related messages\n    const schedulingQuery = `${person_name} meet meeting schedule appointment plan when time`;\n    \n    // Parse time period to get date range\n    const parsedDates = chrono.parse(time_period);\n    let dateRange = null;\n    \n    if (parsedDates.length > 0) {\n      const date = parsedDates[0].start.date();\n      // For \"this week\", create a week range\n      if (time_period.toLowerCase().includes('week')) {\n        const startOfWeek = new Date(date);\n        startOfWeek.setDate(date.getDate() - date.getDay());\n        startOfWeek.setHours(0, 0, 0, 0);\n        \n        const endOfWeek = new Date(startOfWeek);\n        endOfWeek.setDate(startOfWeek.getDate() + 6);\n        endOfWeek.setHours(23, 59, 59, 999);\n        \n        dateRange = {\n          start: startOfWeek.getTime(),\n          end: endOfWeek.getTime(),\n        };\n      }\n    }\n\n    const results = await this.whatsappClient.searchMessages(schedulingQuery, {\n      limit: 20,\n    });\n\n    // Filter results for the specific person and scheduling content\n    const schedulingMessages = results.results.filter(msg => {\n      const senderMatch = msg.senderName?.toLowerCase().includes(person_name.toLowerCase()) ||\n                         msg.sender_name?.toLowerCase().includes(person_name.toLowerCase());\n      const contentMatch = /\\b(meet|meeting|schedule|appointment|plan|when|time|tomorrow|today|monday|tuesday|wednesday|thursday|friday|saturday|sunday)\\b/i.test(msg.content);\n      \n      return senderMatch && contentMatch;\n    });\n\n    if (schedulingMessages.length === 0) {\n      return {\n        content: [\n          {\n            type: 'text',\n            text: `No scheduling messages found with ${person_name} for ${time_period}`,\n          },\n        ],\n      };\n    }\n\n    const formattedMessages = schedulingMessages.map(msg => {\n      const date = new Date(msg.timestamp).toLocaleString();\n      return `**${date} - ${msg.senderName || msg.sender_name}:** ${msg.content}`;\n    }).join('\\n\\n');\n\n    return {\n      content: [\n        {\n          type: 'text',\n          text: `Found ${schedulingMessages.length} scheduling-related messages with ${person_name} for ${time_period}:\\n\\n${formattedMessages}`,\n        },\n      ],\n    };\n  }\n\n  async handleCheckPlansForDay(args) {\n    const { day } = args;\n    \n    // Parse the day\n    const parsedDates = chrono.parse(day);\n    if (parsedDates.length === 0) {\n      throw new Error(`Could not parse day: \"${day}\"`);\n    }\n\n    const date = parsedDates[0].start.date();\n    const startOfDay = new Date(date);\n    startOfDay.setHours(0, 0, 0, 0);\n    const endOfDay = new Date(date);\n    endOfDay.setHours(23, 59, 59, 999);\n\n    // Search for plan-related messages on that day\n    const planQuery = 'plan plans meeting appointment schedule busy free available';\n    \n    const results = await this.whatsappClient.searchMessages(planQuery, {\n      limit: 50,\n    });\n\n    // Filter for messages on the specific day that mention plans\n    const dayPlans = results.results.filter(msg => {\n      const messageDate = new Date(msg.timestamp);\n      const isOnDay = messageDate >= startOfDay && messageDate <= endOfDay;\n      const hasPlanContent = /\\b(plan|plans|meeting|appointment|schedule|busy|free|available)\\b/i.test(msg.content);\n      \n      return isOnDay && hasPlanContent;\n    });\n\n    if (dayPlans.length === 0) {\n      return {\n        content: [\n          {\n            type: 'text',\n            text: `No plans found for ${day}`,\n          },\n        ],\n      };\n    }\n\n    const formattedPlans = dayPlans.map(msg => {\n      const time = new Date(msg.timestamp).toLocaleTimeString();\n      return `**${time} - ${msg.senderName || msg.sender_name}:** ${msg.content}`;\n    }).join('\\n\\n');\n\n    return {\n      content: [\n        {\n          type: 'text',\n          text: `Found ${dayPlans.length} plan-related messages for ${day}:\\n\\n${formattedPlans}`,\n        },\n      ],\n    };\n  }\n\n  async start() {\n    console.log('üöÄ Starting WhatsApp MCP Server...');\n    \n    // Initialize WhatsApp client\n    await this.whatsappClient.initialize();\n    \n    // Start MCP server\n    const transport = new StdioServerTransport();\n    await this.server.connect(transport);\n    \n    console.log('‚úÖ WhatsApp MCP Server is running');\n  }\n\n  async stop() {\n    console.log('üõë Stopping WhatsApp MCP Server...');\n    await this.whatsappClient.shutdown();\n    console.log('‚úÖ WhatsApp MCP Server stopped');\n  }\n}\n\n// Handle graceful shutdown\nprocess.on('SIGINT', async () => {\n  console.log('\\nüõë Received SIGINT, shutting down gracefully...');\n  if (global.mcpServer) {\n    await global.mcpServer.stop();\n  }\n  process.exit(0);\n});\n\nprocess.on('SIGTERM', async () => {\n  console.log('\\nüõë Received SIGTERM, shutting down gracefully...');\n  if (global.mcpServer) {\n    await global.mcpServer.stop();\n  }\n  process.exit(0);\n});\n\n// Start the server\nconst mcpServer = new WhatsAppMCPServer();\nglobal.mcpServer = mcpServer;\n\nmcpServer.start().catch(error => {\n  console.error('‚ùå Failed to start MCP server:', error);\n  process.exit(1);\n});"
                  }
                ],
                "status": "Success"
              }
            ]
          }
        },
        "images": null
      },
      {
        "ToolUse": {
          "message_id": "0dbeb6f5-6a41-48ff-aec2-7f5f362773cf",
          "content": "Now let's check the WhatsApp client initialization:",
          "tool_uses": [
            {
              "id": "tooluse_0WCFJsLUScig3wdAt0bXaA",
              "name": "fs_read",
              "orig_name": "fs_read",
              "args": {
                "mode": "Line",
                "path": "./whatsapp-indexer/src/whatsapp-client.js",
                "start_line": 1,
                "end_line": 50
              },
              "orig_args": {
                "mode": "Line",
                "path": "./whatsapp-indexer/src/whatsapp-client.js",
                "start_line": 1,
                "end_line": 50
              }
            }
          ]
        }
      }
    ],
    [
      {
        "additional_context": "",
        "env_context": {
          "env_state": {
            "operating_system": "macos",
            "current_working_directory": "/Users/orrb/personal/workspace/personal-ai",
            "environment_variables": []
          }
        },
        "content": {
          "ToolUseResults": {
            "tool_use_results": [
              {
                "tool_use_id": "tooluse_0WCFJsLUScig3wdAt0bXaA",
                "content": [
                  {
                    "Text": "import pkg from 'whatsapp-web.js';\nconst { Client, LocalAuth } = pkg;\nimport qrcode from 'qrcode-terminal';\nimport Database from './database.js';\nimport LocalVectorStore from './local-vector-store.js';\nimport MessageProcessor from './message-processor.js';\n\nclass WhatsAppClient {\n  constructor() {\n    this.client = new Client({\n      authStrategy: new LocalAuth(),\n      puppeteer: {\n        headless: true,\n        args: ['--no-sandbox', '--disable-setuid-sandbox'],\n      },\n    });\n    \n    this.database = new Database();\n    this.vectorStore = new LocalVectorStore();\n    this.messageProcessor = new MessageProcessor();\n    this.isReady = false;\n  }\n\n  async initialize() {\n    console.log('üöÄ Initializing WhatsApp Indexer...');\n    \n    // Initialize database and vector store\n    await this.database.initialize();\n    await this.vectorStore.initialize();\n    \n    // Set up WhatsApp client event handlers\n    this.setupEventHandlers();\n    \n    // Initialize WhatsApp client\n    await this.client.initialize();\n  }\n\n  setupEventHandlers() {\n    this.client.on('qr', (qr) => {\n      console.log('üì± Scan this QR code with your WhatsApp:');\n      qrcode.generate(qr, { small: true });\n    });\n\n    this.client.on('ready', () => {\n      console.log('‚úÖ WhatsApp client is ready!');\n      this.isReady = true;\n    });\n\n    this.client.on('authenticated', () => {\n      console.log('üîê WhatsApp client authenticated');"
                  }
                ],
                "status": "Success"
              }
            ]
          }
        },
        "images": null
      },
      {
        "ToolUse": {
          "message_id": "29296a65-12c9-4797-afc3-bf12c6ad46dc",
          "content": "The issue is likely that the MCP server is waiting for WhatsApp authentication/initialization, which can take time or get stuck. Let's check if there are any logs or if the WhatsApp client is properly authenticated:\n\n## 2. Test the MCP server manually\n\nLet's try running the MCP server manually to see what happens:",
          "tool_uses": [
            {
              "id": "tooluse_p47lzkBSSKmdT--Bv0QYlw",
              "name": "execute_bash",
              "orig_name": "execute_bash",
              "args": {
                "summary": "Test the MCP server startup manually",
                "command": "cd ./whatsapp-indexer && timeout 10s ./start-mcp.sh"
              },
              "orig_args": {
                "summary": "Test the MCP server startup manually",
                "command": "cd ./whatsapp-indexer && timeout 10s ./start-mcp.sh"
              }
            }
          ]
        }
      }
    ],
    [
      {
        "additional_context": "",
        "env_context": {
          "env_state": {
            "operating_system": "macos",
            "current_working_directory": "/Users/orrb/personal/workspace/personal-ai",
            "environment_variables": []
          }
        },
        "content": {
          "ToolUseResults": {
            "tool_use_results": [
              {
                "tool_use_id": "tooluse_p47lzkBSSKmdT--Bv0QYlw",
                "content": [
                  {
                    "Json": {
                      "exit_status": "127",
                      "stdout": "",
                      "stderr": "bash: timeout: command not found"
                    }
                  }
                ],
                "status": "Success"
              }
            ]
          }
        },
        "images": null
      },
      {
        "ToolUse": {
          "message_id": "c7633359-774c-4b1f-a29c-54f34632de98",
          "content": "",
          "tool_uses": [
            {
              "id": "tooluse_21iRccfMQJK2T5_QRoNz6g",
              "name": "execute_bash",
              "orig_name": "execute_bash",
              "args": {
                "summary": "Test the MCP server startup manually with gtimeout",
                "command": "cd ./whatsapp-indexer && gtimeout 10s ./start-mcp.sh"
              },
              "orig_args": {
                "summary": "Test the MCP server startup manually with gtimeout",
                "command": "cd ./whatsapp-indexer && gtimeout 10s ./start-mcp.sh"
              }
            }
          ]
        }
      }
    ],
    [
      {
        "additional_context": "",
        "env_context": {
          "env_state": {
            "operating_system": "macos",
            "current_working_directory": "/Users/orrb/personal/workspace/personal-ai",
            "environment_variables": []
          }
        },
        "content": {
          "ToolUseResults": {
            "tool_use_results": [
              {
                "tool_use_id": "tooluse_21iRccfMQJK2T5_QRoNz6g",
                "content": [
                  {
                    "Json": {
                      "exit_status": "127",
                      "stdout": "",
                      "stderr": "bash: gtimeout: command not found"
                    }
                  }
                ],
                "status": "Success"
              }
            ]
          }
        },
        "images": null
      },
      {
        "ToolUse": {
          "message_id": "af128442-19a9-417f-b17f-1336339fb220",
          "content": "",
          "tool_uses": [
            {
              "id": "tooluse_FkBZpEptR8-dtXILc27vXQ",
              "name": "execute_bash",
              "orig_name": "execute_bash",
              "args": {
                "summary": "Test the MCP server startup manually",
                "command": "cd ./whatsapp-indexer && ./start-mcp.sh &"
              },
              "orig_args": {
                "summary": "Test the MCP server startup manually",
                "command": "cd ./whatsapp-indexer && ./start-mcp.sh &"
              }
            }
          ]
        }
      }
    ],
    [
      {
        "additional_context": "",
        "env_context": {
          "env_state": {
            "operating_system": "macos",
            "current_working_directory": "/Users/orrb/personal/workspace/personal-ai",
            "environment_variables": []
          }
        },
        "content": {
          "ToolUseResults": {
            "tool_use_results": [
              {
                "tool_use_id": "tooluse_FkBZpEptR8-dtXILc27vXQ",
                "content": [
                  {
                    "Json": {
                      "exit_status": "0",
                      "stdout": "",
                      "stderr": ""
                    }
                  }
                ],
                "status": "Success"
              }
            ]
          }
        },
        "images": null
      },
      {
        "ToolUse": {
          "message_id": "49c33ed3-97a3-4903-a547-a7b797021dcf",
          "content": "Let me check if the process is running and what it's doing:",
          "tool_uses": [
            {
              "id": "tooluse_rEIjvSaNSfO3MmFb4GoT1A",
              "name": "execute_bash",
              "orig_name": "execute_bash",
              "args": {
                "summary": "Check if MCP server process is running",
                "command": "ps aux | grep mcp-server"
              },
              "orig_args": {
                "summary": "Check if MCP server process is running",
                "command": "ps aux | grep mcp-server"
              }
            }
          ]
        }
      }
    ],
    [
      {
        "additional_context": "",
        "env_context": {
          "env_state": {
            "operating_system": "macos",
            "current_working_directory": "/Users/orrb/personal/workspace/personal-ai",
            "environment_variables": []
          }
        },
        "content": {
          "ToolUseResults": {
            "tool_use_results": [
              {
                "tool_use_id": "tooluse_rEIjvSaNSfO3MmFb4GoT1A",
                "content": [
                  {
                    "Json": {
                      "exit_status": "0",
                      "stdout": "orrb              2086   0.0  0.0 410724208   1392 s001  S+    4:50PM   0:00.00 grep mcp-server\norrb              2084   0.0  0.0 410724736   1792 s001  S+    4:50PM   0:00.00 bash -c ps aux | grep mcp-server\norrb             99570   0.0  0.2 433714240  55568 s001  S     4:44PM   0:00.79 node src/mcp-server.js",
                      "stderr": ""
                    }
                  }
                ],
                "status": "Success"
              }
            ]
          }
        },
        "images": null
      },
      {
        "ToolUse": {
          "message_id": "57f593a0-70c8-4af8-85f2-70b85e37b85f",
          "content": "The process is running. Let's check if there are any logs or output:",
          "tool_uses": [
            {
              "id": "tooluse_snniRIt5RJGgzlh6BQUkag",
              "name": "execute_bash",
              "orig_name": "execute_bash",
              "args": {
                "summary": "Check the environment and database status",
                "command": "cd ./whatsapp-indexer && ls -la data/"
              },
              "orig_args": {
                "summary": "Check the environment and database status",
                "command": "cd ./whatsapp-indexer && ls -la data/"
              }
            }
          ]
        }
      }
    ],
    [
      {
        "additional_context": "",
        "env_context": {
          "env_state": {
            "operating_system": "macos",
            "current_working_directory": "/Users/orrb/personal/workspace/personal-ai",
            "environment_variables": []
          }
        },
        "content": {
          "ToolUseResults": {
            "tool_use_results": [
              {
                "tool_use_id": "tooluse_snniRIt5RJGgzlh6BQUkag",
                "content": [
                  {
                    "Json": {
                      "exit_status": "0",
                      "stdout": "total 80\ndrwxr-xr-x@  4 orrb  staff    128 ◊ô◊ï◊ú 27 16:50 .\ndrwxr-xr-x@ 16 orrb  staff    512 ◊ô◊ï◊ú 27 16:27 ..\n-rw-r--r--@  1 orrb  staff  40960 ◊ô◊ï◊ú 27 16:50 messages.db\ndrwxr-xr-x@  4 orrb  staff    128 ◊ô◊ï◊ú 27 16:19 vector_store",
                      "stderr": ""
                    }
                  }
                ],
                "status": "Success"
              }
            ]
          }
        },
        "images": null
      },
      {
        "ToolUse": {
          "message_id": "c7bd9b83-8940-4412-992a-104ec7f15c44",
          "content": "Let's check the environment variables:",
          "tool_uses": [
            {
              "id": "tooluse_1ZHXHizARuq-HN-ZoG365A",
              "name": "fs_read",
              "orig_name": "fs_read",
              "args": {
                "mode": "Line",
                "path": "./whatsapp-indexer/.env"
              },
              "orig_args": {
                "mode": "Line",
                "path": "./whatsapp-indexer/.env"
              }
            }
          ]
        }
      }
    ],
    [
      {
        "additional_context": "",
        "env_context": {
          "env_state": {
            "operating_system": "macos",
            "current_working_directory": "/Users/orrb/personal/workspace/personal-ai",
            "environment_variables": []
          }
        },
        "content": {
          "ToolUseResults": {
            "tool_use_results": [
              {
                "tool_use_id": "tooluse_1ZHXHizARuq-HN-ZoG365A",
                "content": [
                  {
                    "Text": "# Local Vector Store Configuration\nVECTOR_STORE_PATH=./data/vector_store\nMODEL_NAME=Xenova/all-MiniLM-L6-v2\n\n# Database\nDATABASE_PATH=./data/messages.db\n\n# MCP Server Configuration\nMCP_SERVER_PORT=3000"
                  }
                ],
                "status": "Success"
              }
            ]
          }
        },
        "images": null
      },
      {
        "ToolUse": {
          "message_id": "07d9147d-f90e-4477-a636-ed9ce8b7ad8f",
          "content": "## 3. The likely issue\n\nBased on the code analysis, the problem is that your MCP server is waiting for WhatsApp authentication during initialization. In the `mcp-server.js`, the `start()` method calls:\n\n```javascript\nawait this.whatsappClient.initialize();\n```\n\nAnd in `whatsapp-client.js`, this method:\n1. Initializes the database and vector store\n2. Sets up event handlers \n3. Calls `await this.client.initialize()` which waits for WhatsApp authentication\n\nThe WhatsApp client will either:\n- Show a QR code that needs to be scanned\n- Wait for existing authentication to be validated\n- Get stuck if there are authentication issues\n\n## 4. Solutions\n\nHere are a few ways to fix this:\n\n### Option 1: Make WhatsApp initialization non-blocking\n\nModify the MCP server to start without waiting for WhatsApp to be ready:",
          "tool_uses": [
            {
              "id": "tooluse_BzrVat2eTM2bLgvKq3EiPQ",
              "name": "fs_write",
              "orig_name": "fs_write",
              "args": {
                "command": "str_replace",
                "path": "./whatsapp-indexer/src/mcp-server.js",
                "old_str": "  async start() {\n    console.log('üöÄ Starting WhatsApp MCP Server...');\n    \n    // Initialize WhatsApp client\n    await this.whatsappClient.initialize();\n    \n    // Start MCP server\n    const transport = new StdioServerTransport();\n    await this.server.connect(transport);\n    \n    console.log('‚úÖ WhatsApp MCP Server is running');\n  }",
                "new_str": "  async start() {\n    console.log('üöÄ Starting WhatsApp MCP Server...');\n    \n    // Start MCP server first\n    const transport = new StdioServerTransport();\n    await this.server.connect(transport);\n    \n    console.log('‚úÖ WhatsApp MCP Server is running');\n    \n    // Initialize WhatsApp client in background (non-blocking)\n    this.whatsappClient.initialize().catch(error => {\n      console.error('‚ùå Failed to initialize WhatsApp client:', error);\n    });\n  }"
              },
              "orig_args": {
                "command": "str_replace",
                "path": "./whatsapp-indexer/src/mcp-server.js",
                "old_str": "  async start() {\n    console.log('üöÄ Starting WhatsApp MCP Server...');\n    \n    // Initialize WhatsApp client\n    await this.whatsappClient.initialize();\n    \n    // Start MCP server\n    const transport = new StdioServerTransport();\n    await this.server.connect(transport);\n    \n    console.log('‚úÖ WhatsApp MCP Server is running');\n  }",
                "new_str": "  async start() {\n    console.log('üöÄ Starting WhatsApp MCP Server...');\n    \n    // Start MCP server first\n    const transport = new StdioServerTransport();\n    await this.server.connect(transport);\n    \n    console.log('‚úÖ WhatsApp MCP Server is running');\n    \n    // Initialize WhatsApp client in background (non-blocking)\n    this.whatsappClient.initialize().catch(error => {\n      console.error('‚ùå Failed to initialize WhatsApp client:', error);\n    });\n  }"
              }
            }
          ]
        }
      }
    ],
    [
      {
        "additional_context": "",
        "env_context": {
          "env_state": {
            "operating_system": "macos",
            "current_working_directory": "/Users/orrb/personal/workspace/personal-ai",
            "environment_variables": []
          }
        },
        "content": {
          "ToolUseResults": {
            "tool_use_results": [
              {
                "tool_use_id": "tooluse_BzrVat2eTM2bLgvKq3EiPQ",
                "content": [
                  {
                    "Text": ""
                  }
                ],
                "status": "Success"
              }
            ]
          }
        },
        "images": null
      },
      {
        "ToolUse": {
          "message_id": "13aa3c19-d296-47eb-ba90-3a002cea06d5",
          "content": "### Option 2: Add timeout and better error handling\n\nLet's also modify the tool handlers to check if WhatsApp is ready:",
          "tool_uses": [
            {
              "id": "tooluse_g0mpNis4Rr-uJ4nfCYf_-Q",
              "name": "fs_write",
              "orig_name": "fs_write",
              "args": {
                "path": "./whatsapp-indexer/src/mcp-server.js",
                "new_str": "  async handleSearchMessages(args) {\n    if (!this.whatsappClient.isReady) {\n      return {\n        content: [\n          {\n            type: 'text',\n            text: 'WhatsApp client is not ready yet. Please wait for authentication to complete.',\n          },\n        ],\n      };\n    }\n\n    const { query, limit = 10 } = args;",
                "old_str": "  async handleSearchMessages(args) {\n    const { query, limit = 10 } = args;",
                "command": "str_replace"
              },
              "orig_args": {
                "path": "./whatsapp-indexer/src/mcp-server.js",
                "new_str": "  async handleSearchMessages(args) {\n    if (!this.whatsappClient.isReady) {\n      return {\n        content: [\n          {\n            type: 'text',\n            text: 'WhatsApp client is not ready yet. Please wait for authentication to complete.',\n          },\n        ],\n      };\n    }\n\n    const { query, limit = 10 } = args;",
                "old_str": "  async handleSearchMessages(args) {\n    const { query, limit = 10 } = args;",
                "command": "str_replace"
              }
            }
          ]
        }
      }
    ],
    [
      {
        "additional_context": "",
        "env_context": {
          "env_state": {
            "operating_system": "macos",
            "current_working_directory": "/Users/orrb/personal/workspace/personal-ai",
            "environment_variables": []
          }
        },
        "content": {
          "ToolUseResults": {
            "tool_use_results": [
              {
                "tool_use_id": "tooluse_g0mpNis4Rr-uJ4nfCYf_-Q",
                "content": [
                  {
                    "Text": ""
                  }
                ],
                "status": "Success"
              }
            ]
          }
        },
        "images": null
      },
      {
        "ToolUse": {
          "message_id": "78de4247-34c6-40d8-a945-5b78fe8b4e0c",
          "content": "Let's add the same check to other handlers:",
          "tool_uses": [
            {
              "id": "tooluse_OlVySqUyQY2-UhNHClmuGg",
              "name": "fs_write",
              "orig_name": "fs_write",
              "args": {
                "path": "./whatsapp-indexer/src/mcp-server.js",
                "new_str": "  async handleGetUrlsBySender(args) {\n    if (!this.whatsappClient.isReady) {\n      return {\n        content: [\n          {\n            type: 'text',\n            text: 'WhatsApp client is not ready yet. Please wait for authentication to complete.',\n          },\n        ],\n      };\n    }\n\n    const { sender_name, limit = 20 } = args;",
                "old_str": "  async handleGetUrlsBySender(args) {\n    const { sender_name, limit = 20 } = args;",
                "command": "str_replace"
              },
              "orig_args": {
                "path": "./whatsapp-indexer/src/mcp-server.js",
                "new_str": "  async handleGetUrlsBySender(args) {\n    if (!this.whatsappClient.isReady) {\n      return {\n        content: [\n          {\n            type: 'text',\n            text: 'WhatsApp client is not ready yet. Please wait for authentication to complete.',\n          },\n        ],\n      };\n    }\n\n    const { sender_name, limit = 20 } = args;",
                "old_str": "  async handleGetUrlsBySender(args) {\n    const { sender_name, limit = 20 } = args;",
                "command": "str_replace"
              }
            }
          ]
        }
      }
    ],
    [
      {
        "additional_context": "",
        "env_context": {
          "env_state": {
            "operating_system": "macos",
            "current_working_directory": "/Users/orrb/personal/workspace/personal-ai",
            "environment_variables": []
          }
        },
        "content": {
          "ToolUseResults": {
            "tool_use_results": [
              {
                "tool_use_id": "tooluse_OlVySqUyQY2-UhNHClmuGg",
                "content": [
                  {
                    "Text": ""
                  }
                ],
                "status": "Success"
              }
            ]
          }
        },
        "images": null
      },
      {
        "ToolUse": {
          "message_id": "eecec4ae-0c15-4575-be17-3f677f8bd921",
          "content": "",
          "tool_uses": [
            {
              "id": "tooluse_8fZUmklbRzKhrGyVW6A-tQ",
              "name": "fs_write",
              "orig_name": "fs_write",
              "args": {
                "path": "./whatsapp-indexer/src/mcp-server.js",
                "new_str": "  async handleGetMessagesByDate(args) {\n    if (!this.whatsappClient.isReady) {\n      return {\n        content: [\n          {\n            type: 'text',\n            text: 'WhatsApp client is not ready yet. Please wait for authentication to complete.',\n          },\n        ],\n      };\n    }\n\n    const { date_query, sender_name } = args;",
                "old_str": "  async handleGetMessagesByDate(args) {\n    const { date_query, sender_name } = args;",
                "command": "str_replace"
              },
              "orig_args": {
                "path": "./whatsapp-indexer/src/mcp-server.js",
                "new_str": "  async handleGetMessagesByDate(args) {\n    if (!this.whatsappClient.isReady) {\n      return {\n        content: [\n          {\n            type: 'text',\n            text: 'WhatsApp client is not ready yet. Please wait for authentication to complete.',\n          },\n        ],\n      };\n    }\n\n    const { date_query, sender_name } = args;",
                "old_str": "  async handleGetMessagesByDate(args) {\n    const { date_query, sender_name } = args;",
                "command": "str_replace"
              }
            }
          ]
        }
      }
    ],
    [
      {
        "additional_context": "",
        "env_context": {
          "env_state": {
            "operating_system": "macos",
            "current_working_directory": "/Users/orrb/personal/workspace/personal-ai",
            "environment_variables": []
          }
        },
        "content": {
          "ToolUseResults": {
            "tool_use_results": [
              {
                "tool_use_id": "tooluse_8fZUmklbRzKhrGyVW6A-tQ",
                "content": [
                  {
                    "Text": ""
                  }
                ],
                "status": "Success"
              }
            ]
          }
        },
        "images": null
      },
      {
        "ToolUse": {
          "message_id": "cca783c2-b738-4ebf-9bd4-6516a25c3f74",
          "content": "",
          "tool_uses": [
            {
              "id": "tooluse_1AckWM2dQxWzAIm0TS71_w",
              "name": "fs_write",
              "orig_name": "fs_write",
              "args": {
                "path": "./whatsapp-indexer/src/mcp-server.js",
                "new_str": "  async handleFindScheduleWithPerson(args) {\n    if (!this.whatsappClient.isReady) {\n      return {\n        content: [\n          {\n            type: 'text',\n            text: 'WhatsApp client is not ready yet. Please wait for authentication to complete.',\n          },\n        ],\n      };\n    }\n\n    const { person_name, time_period = 'this week' } = args;",
                "old_str": "  async handleFindScheduleWithPerson(args) {\n    const { person_name, time_period = 'this week' } = args;",
                "command": "str_replace"
              },
              "orig_args": {
                "path": "./whatsapp-indexer/src/mcp-server.js",
                "new_str": "  async handleFindScheduleWithPerson(args) {\n    if (!this.whatsappClient.isReady) {\n      return {\n        content: [\n          {\n            type: 'text',\n            text: 'WhatsApp client is not ready yet. Please wait for authentication to complete.',\n          },\n        ],\n      };\n    }\n\n    const { person_name, time_period = 'this week' } = args;",
                "old_str": "  async handleFindScheduleWithPerson(args) {\n    const { person_name, time_period = 'this week' } = args;",
                "command": "str_replace"
              }
            }
          ]
        }
      }
    ],
    [
      {
        "additional_context": "",
        "env_context": {
          "env_state": {
            "operating_system": "macos",
            "current_working_directory": "/Users/orrb/personal/workspace/personal-ai",
            "environment_variables": []
          }
        },
        "content": {
          "ToolUseResults": {
            "tool_use_results": [
              {
                "tool_use_id": "tooluse_1AckWM2dQxWzAIm0TS71_w",
                "content": [
                  {
                    "Text": ""
                  }
                ],
                "status": "Success"
              }
            ]
          }
        },
        "images": null
      },
      {
        "ToolUse": {
          "message_id": "f0a29618-2fe6-447c-a9bb-9d31a946f084",
          "content": "",
          "tool_uses": [
            {
              "id": "tooluse_eFWBVfn7Tu62_H-Az-_c_g",
              "name": "fs_write",
              "orig_name": "fs_write",
              "args": {
                "path": "./whatsapp-indexer/src/mcp-server.js",
                "new_str": "  async handleCheckPlansForDay(args) {\n    if (!this.whatsappClient.isReady) {\n      return {\n        content: [\n          {\n            type: 'text',\n            text: 'WhatsApp client is not ready yet. Please wait for authentication to complete.',\n          },\n        ],\n      };\n    }\n\n    const { day } = args;",
                "old_str": "  async handleCheckPlansForDay(args) {\n    const { day } = args;",
                "command": "str_replace"
              },
              "orig_args": {
                "path": "./whatsapp-indexer/src/mcp-server.js",
                "new_str": "  async handleCheckPlansForDay(args) {\n    if (!this.whatsappClient.isReady) {\n      return {\n        content: [\n          {\n            type: 'text',\n            text: 'WhatsApp client is not ready yet. Please wait for authentication to complete.',\n          },\n        ],\n      };\n    }\n\n    const { day } = args;",
                "old_str": "  async handleCheckPlansForDay(args) {\n    const { day } = args;",
                "command": "str_replace"
              }
            }
          ]
        }
      }
    ],
    [
      {
        "additional_context": "",
        "env_context": {
          "env_state": {
            "operating_system": "macos",
            "current_working_directory": "/Users/orrb/personal/workspace/personal-ai",
            "environment_variables": []
          }
        },
        "content": {
          "ToolUseResults": {
            "tool_use_results": [
              {
                "tool_use_id": "tooluse_eFWBVfn7Tu62_H-Az-_c_g",
                "content": [
                  {
                    "Text": ""
                  }
                ],
                "status": "Success"
              }
            ]
          }
        },
        "images": null
      },
      {
        "ToolUse": {
          "message_id": "ded43d35-7f1e-4573-8569-d7e30b115581",
          "content": "### Option 3: Add a status tool\n\nLet's add a tool to check the WhatsApp connection status:",
          "tool_uses": [
            {
              "id": "tooluse_OZE7OLQ8TkeGdtmUpH3HNA",
              "name": "fs_write",
              "orig_name": "fs_write",
              "args": {
                "path": "./whatsapp-indexer/src/mcp-server.js",
                "new_str": "        tools: [\n          {\n            name: 'whatsapp_status',\n            description: 'Check the status of the WhatsApp client connection',\n            inputSchema: {\n              type: 'object',\n              properties: {},\n            },\n          },\n          {",
                "old_str": "        tools: [\n          {",
                "command": "str_replace"
              },
              "orig_args": {
                "path": "./whatsapp-indexer/src/mcp-server.js",
                "new_str": "        tools: [\n          {\n            name: 'whatsapp_status',\n            description: 'Check the status of the WhatsApp client connection',\n            inputSchema: {\n              type: 'object',\n              properties: {},\n            },\n          },\n          {",
                "old_str": "        tools: [\n          {",
                "command": "str_replace"
              }
            }
          ]
        }
      }
    ],
    [
      {
        "additional_context": "",
        "env_context": {
          "env_state": {
            "operating_system": "macos",
            "current_working_directory": "/Users/orrb/personal/workspace/personal-ai",
            "environment_variables": []
          }
        },
        "content": {
          "ToolUseResults": {
            "tool_use_results": [
              {
                "tool_use_id": "tooluse_OZE7OLQ8TkeGdtmUpH3HNA",
                "content": [
                  {
                    "Text": ""
                  }
                ],
                "status": "Success"
              }
            ]
          }
        },
        "images": null
      },
      {
        "ToolUse": {
          "message_id": "821b8d4b-538c-46a3-af53-86fe0d7823d5",
          "content": "",
          "tool_uses": [
            {
              "id": "tooluse_bwFzPJn8Rly7kL7TSVR04w",
              "name": "fs_write",
              "orig_name": "fs_write",
              "args": {
                "path": "./whatsapp-indexer/src/mcp-server.js",
                "new_str": "      try {\n        switch (name) {\n          case 'whatsapp_status':\n            return await this.handleWhatsAppStatus(args);\n          \n          case 'search_messages':",
                "old_str": "      try {\n        switch (name) {\n          case 'search_messages':",
                "command": "str_replace"
              },
              "orig_args": {
                "path": "./whatsapp-indexer/src/mcp-server.js",
                "new_str": "      try {\n        switch (name) {\n          case 'whatsapp_status':\n            return await this.handleWhatsAppStatus(args);\n          \n          case 'search_messages':",
                "old_str": "      try {\n        switch (name) {\n          case 'search_messages':",
                "command": "str_replace"
              }
            }
          ]
        }
      }
    ],
    [
      {
        "additional_context": "",
        "env_context": {
          "env_state": {
            "operating_system": "macos",
            "current_working_directory": "/Users/orrb/personal/workspace/personal-ai",
            "environment_variables": []
          }
        },
        "content": {
          "ToolUseResults": {
            "tool_use_results": [
              {
                "tool_use_id": "tooluse_bwFzPJn8Rly7kL7TSVR04w",
                "content": [
                  {
                    "Text": ""
                  }
                ],
                "status": "Success"
              }
            ]
          }
        },
        "images": null
      },
      {
        "ToolUse": {
          "message_id": "3915f053-d6a8-46d1-82aa-d5652d33feaa",
          "content": "Now let's add the status handler method:",
          "tool_uses": [
            {
              "id": "tooluse_gDF5cU_-Q1igJGG2PAvj2w",
              "name": "fs_write",
              "orig_name": "fs_write",
              "args": {
                "path": "./whatsapp-indexer/src/mcp-server.js",
                "new_str": "  }\n\n  async handleWhatsAppStatus(args) {\n    const status = this.whatsappClient.isReady ? 'Connected and ready' : 'Not ready (authenticating or disconnected)';\n    \n    return {\n      content: [\n        {\n          type: 'text',\n          text: `WhatsApp Client Status: ${status}`,\n        },\n      ],\n    };\n  }\n\n  async handleSearchMessages(args) {",
                "old_str": "  }\n\n  async handleSearchMessages(args) {",
                "command": "str_replace"
              },
              "orig_args": {
                "path": "./whatsapp-indexer/src/mcp-server.js",
                "new_str": "  }\n\n  async handleWhatsAppStatus(args) {\n    const status = this.whatsappClient.isReady ? 'Connected and ready' : 'Not ready (authenticating or disconnected)';\n    \n    return {\n      content: [\n        {\n          type: 'text',\n          text: `WhatsApp Client Status: ${status}`,\n        },\n      ],\n    };\n  }\n\n  async handleSearchMessages(args) {",
                "old_str": "  }\n\n  async handleSearchMessages(args) {",
                "command": "str_replace"
              }
            }
          ]
        }
      }
    ],
    [
      {
        "additional_context": "",
        "env_context": {
          "env_state": {
            "operating_system": "macos",
            "current_working_directory": "/Users/orrb/personal/workspace/personal-ai",
            "environment_variables": []
          }
        },
        "content": {
          "ToolUseResults": {
            "tool_use_results": [
              {
                "tool_use_id": "tooluse_gDF5cU_-Q1igJGG2PAvj2w",
                "content": [
                  {
                    "Text": ""
                  }
                ],
                "status": "Success"
              }
            ]
          }
        },
        "images": null
      },
      {
        "ToolUse": {
          "message_id": "2cc27d9f-6223-4164-94df-511aed805cf3",
          "content": "Now let's kill the existing process and restart it:",
          "tool_uses": [
            {
              "id": "tooluse_ccjO5ekWTC62qOcBnZGSRQ",
              "name": "execute_bash",
              "orig_name": "execute_bash",
              "args": {
                "summary": "Kill the existing MCP server process",
                "command": "pkill -f \"node src/mcp-server.js\""
              },
              "orig_args": {
                "summary": "Kill the existing MCP server process",
                "command": "pkill -f \"node src/mcp-server.js\""
              }
            }
          ]
        }
      }
    ],
    [
      {
        "additional_context": "",
        "env_context": {
          "env_state": {
            "operating_system": "macos",
            "current_working_directory": "/Users/orrb/personal/workspace/personal-ai",
            "environment_variables": []
          }
        },
        "content": {
          "ToolUseResults": {
            "tool_use_results": [
              {
                "tool_use_id": "tooluse_ccjO5ekWTC62qOcBnZGSRQ",
                "content": [
                  {
                    "Json": {
                      "exit_status": "0",
                      "stdout": "",
                      "stderr": ""
                    }
                  }
                ],
                "status": "Success"
              }
            ]
          }
        },
        "images": null
      },
      {
        "ToolUse": {
          "message_id": "f6d6ba5e-545f-45bc-b48a-de649826c275",
          "content": "Now let's test the updated server:",
          "tool_uses": [
            {
              "id": "tooluse_t_L525RPSPq9f6-064gdKg",
              "name": "execute_bash",
              "orig_name": "execute_bash",
              "args": {
                "summary": "Test the updated MCP server",
                "command": "cd ./whatsapp-indexer && node src/mcp-server.js &"
              },
              "orig_args": {
                "summary": "Test the updated MCP server",
                "command": "cd ./whatsapp-indexer && node src/mcp-server.js &"
              }
            }
          ]
        }
      }
    ],
    [
      {
        "additional_context": "",
        "env_context": {
          "env_state": {
            "operating_system": "macos",
            "current_working_directory": "/Users/orrb/personal/workspace/personal-ai",
            "environment_variables": []
          }
        },
        "content": {
          "ToolUseResults": {
            "tool_use_results": [
              {
                "tool_use_id": "tooluse_t_L525RPSPq9f6-064gdKg",
                "content": [
                  {
                    "Json": {
                      "exit_status": "0",
                      "stdout": "",
                      "stderr": ""
                    }
                  }
                ],
                "status": "Success"
              }
            ]
          }
        },
        "images": null
      },
      {
        "ToolUse": {
          "message_id": "a4db99e8-fe94-466c-82a3-58c3b02f9a1c",
          "content": "Let's check if it's running and see any output:",
          "tool_uses": [
            {
              "id": "tooluse_m9U-1y8fQ0mwrTrUWCYpMQ",
              "name": "execute_bash",
              "orig_name": "execute_bash",
              "args": {
                "summary": "Check if the process started successfully",
                "command": "ps aux | grep mcp-server | grep -v grep"
              },
              "orig_args": {
                "summary": "Check if the process started successfully",
                "command": "ps aux | grep mcp-server | grep -v grep"
              }
            }
          ]
        }
      }
    ],
    [
      {
        "additional_context": "",
        "env_context": {
          "env_state": {
            "operating_system": "macos",
            "current_working_directory": "/Users/orrb/personal/workspace/personal-ai",
            "environment_variables": []
          }
        },
        "content": {
          "ToolUseResults": {
            "tool_use_results": [
              {
                "tool_use_id": "tooluse_m9U-1y8fQ0mwrTrUWCYpMQ",
                "content": [
                  {
                    "Json": {
                      "exit_status": "1",
                      "stdout": "",
                      "stderr": ""
                    }
                  }
                ],
                "status": "Success"
              }
            ]
          }
        },
        "images": null
      },
      {
        "ToolUse": {
          "message_id": "f209a419-ecc3-421e-abbe-7e795fc26a20",
          "content": "Let me try running it in the foreground to see any errors:",
          "tool_uses": [
            {
              "id": "tooluse_IYk8sDaaRN-jJ6zK_5bjfQ",
              "name": "execute_bash",
              "orig_name": "execute_bash",
              "args": {
                "summary": "Run MCP server in foreground to see output",
                "command": "cd ./whatsapp-indexer && echo \"Testing MCP server startup...\" && node src/mcp-server.js"
              },
              "orig_args": {
                "summary": "Run MCP server in foreground to see output",
                "command": "cd ./whatsapp-indexer && echo \"Testing MCP server startup...\" && node src/mcp-server.js"
              }
            }
          ]
        }
      }
    ],
    [
      {
        "additional_context": "",
        "env_context": {
          "env_state": {
            "operating_system": "macos",
            "current_working_directory": "/Users/orrb/personal/workspace/personal-ai",
            "environment_variables": []
          }
        },
        "content": {
          "CancelledToolUses": {
            "prompt": "The user interrupted the tool execution.",
            "tool_use_results": [
              {
                "tool_use_id": "tooluse_IYk8sDaaRN-jJ6zK_5bjfQ",
                "content": [
                  {
                    "Text": "Tool use was cancelled by the user"
                  }
                ],
                "status": "Error"
              }
            ]
          }
        },
        "images": null
      },
      {
        "Response": {
          "message_id": null,
          "content": "Tool uses were interrupted, waiting for the next user prompt"
        }
      }
    ],
    [
      {
        "additional_context": "",
        "env_context": {
          "env_state": {
            "operating_system": "macos",
            "current_working_directory": "/Users/orrb/personal/workspace/personal-ai",
            "environment_variables": []
          }
        },
        "content": {
          "Prompt": {
            "prompt": "the exeuctions hangs"
          }
        },
        "images": null
      },
      {
        "ToolUse": {
          "message_id": "6fd24612-933d-479e-aa8b-fe929a9c6f25",
          "content": "The execution hangs because the MCP server is waiting for WhatsApp authentication. Here are the key issues and solutions:\n\n## The Problem\n\nYour MCP server hangs during startup because:\n\n1. **WhatsApp Authentication**: The `whatsappClient.initialize()` call waits for WhatsApp Web authentication, which can:\n   - Show a QR code that needs scanning\n   - Wait indefinitely for existing auth to validate\n   - Get stuck on network/auth issues\n\n2. **Blocking Initialization**: The MCP server won't start until WhatsApp is fully ready\n\n## Quick Fix\n\nThe changes I made should help, but let's also add a timeout to prevent hanging:",
          "tool_uses": [
            {
              "id": "tooluse_g4kreHL2SW6rOW2jGEC24w",
              "name": "fs_write",
              "orig_name": "fs_write",
              "args": {
                "path": "./whatsapp-indexer/src/mcp-server.js",
                "command": "str_replace",
                "old_str": "    // Initialize WhatsApp client in background (non-blocking)\n    this.whatsappClient.initialize().catch(error => {\n      console.error('‚ùå Failed to initialize WhatsApp client:', error);\n    });",
                "new_str": "    // Initialize WhatsApp client in background (non-blocking) with timeout\n    Promise.race([\n      this.whatsappClient.initialize(),\n      new Promise((_, reject) => \n        setTimeout(() => reject(new Error('WhatsApp initialization timeout')), 30000)\n      )\n    ]).catch(error => {\n      console.error('‚ùå Failed to initialize WhatsApp client:', error);\n      console.log('üí° MCP server will continue running. WhatsApp tools will show \"not ready\" status.');\n    });"
              },
              "orig_args": {
                "path": "./whatsapp-indexer/src/mcp-server.js",
                "command": "str_replace",
                "old_str": "    // Initialize WhatsApp client in background (non-blocking)\n    this.whatsappClient.initialize().catch(error => {\n      console.error('‚ùå Failed to initialize WhatsApp client:', error);\n    });",
                "new_str": "    // Initialize WhatsApp client in background (non-blocking) with timeout\n    Promise.race([\n      this.whatsappClient.initialize(),\n      new Promise((_, reject) => \n        setTimeout(() => reject(new Error('WhatsApp initialization timeout')), 30000)\n      )\n    ]).catch(error => {\n      console.error('‚ùå Failed to initialize WhatsApp client:', error);\n      console.log('üí° MCP server will continue running. WhatsApp tools will show \"not ready\" status.');\n    });"
              }
            }
          ]
        }
      }
    ],
    [
      {
        "additional_context": "",
        "env_context": {
          "env_state": {
            "operating_system": "macos",
            "current_working_directory": "/Users/orrb/personal/workspace/personal-ai",
            "environment_variables": []
          }
        },
        "content": {
          "ToolUseResults": {
            "tool_use_results": [
              {
                "tool_use_id": "tooluse_g4kreHL2SW6rOW2jGEC24w",
                "content": [
                  {
                    "Text": ""
                  }
                ],
                "status": "Success"
              }
            ]
          }
        },
        "images": null
      },
      {
        "ToolUse": {
          "message_id": "d214b091-f6b7-476c-a885-d5d3801f7091",
          "content": "## Alternative: Headless Mode Fix\n\nThe WhatsApp client might be hanging on headless browser issues. Let's also update the client config:",
          "tool_uses": [
            {
              "id": "tooluse_uoxWpeL3SJ6j4hT-KNIn3Q",
              "name": "fs_write",
              "orig_name": "fs_write",
              "args": {
                "path": "./whatsapp-indexer/src/whatsapp-client.js",
                "new_str": "    this.client = new Client({\n      authStrategy: new LocalAuth(),\n      puppeteer: {\n        headless: true,\n        args: [\n          '--no-sandbox', \n          '--disable-setuid-sandbox',\n          '--disable-dev-shm-usage',\n          '--disable-accelerated-2d-canvas',\n          '--no-first-run',\n          '--no-zygote',\n          '--disable-gpu'\n        ],\n        timeout: 60000,\n      },\n    });",
                "old_str": "    this.client = new Client({\n      authStrategy: new LocalAuth(),\n      puppeteer: {\n        headless: true,\n        args: ['--no-sandbox', '--disable-setuid-sandbox'],\n      },\n    });",
                "command": "str_replace"
              },
              "orig_args": {
                "path": "./whatsapp-indexer/src/whatsapp-client.js",
                "new_str": "    this.client = new Client({\n      authStrategy: new LocalAuth(),\n      puppeteer: {\n        headless: true,\n        args: [\n          '--no-sandbox', \n          '--disable-setuid-sandbox',\n          '--disable-dev-shm-usage',\n          '--disable-accelerated-2d-canvas',\n          '--no-first-run',\n          '--no-zygote',\n          '--disable-gpu'\n        ],\n        timeout: 60000,\n      },\n    });",
                "old_str": "    this.client = new Client({\n      authStrategy: new LocalAuth(),\n      puppeteer: {\n        headless: true,\n        args: ['--no-sandbox', '--disable-setuid-sandbox'],\n      },\n    });",
                "command": "str_replace"
              }
            }
          ]
        }
      }
    ],
    [
      {
        "additional_context": "",
        "env_context": {
          "env_state": {
            "operating_system": "macos",
            "current_working_directory": "/Users/orrb/personal/workspace/personal-ai",
            "environment_variables": []
          }
        },
        "content": {
          "ToolUseResults": {
            "tool_use_results": [
              {
                "tool_use_id": "tooluse_uoxWpeL3SJ6j4hT-KNIn3Q",
                "content": [
                  {
                    "Text": ""
                  }
                ],
                "status": "Success"
              }
            ]
          }
        },
        "images": null
      },
      {
        "ToolUse": {
          "message_id": "197247f0-64d1-4f6e-aada-ac195d58a551",
          "content": "## Test the Fix\n\nNow let's test the updated server:",
          "tool_uses": [
            {
              "id": "tooluse_RP-YBX50SZ-Y80RW3OK-mA",
              "name": "execute_bash",
              "orig_name": "execute_bash",
              "args": {
                "summary": "Test the updated MCP server with timeout",
                "command": "cd ./whatsapp-indexer && timeout 15s node src/mcp-server.js || echo \"Process completed or timed out\""
              },
              "orig_args": {
                "summary": "Test the updated MCP server with timeout",
                "command": "cd ./whatsapp-indexer && timeout 15s node src/mcp-server.js || echo \"Process completed or timed out\""
              }
            }
          ]
        }
      }
    ],
    [
      {
        "additional_context": "",
        "env_context": {
          "env_state": {
            "operating_system": "macos",
            "current_working_directory": "/Users/orrb/personal/workspace/personal-ai",
            "environment_variables": []
          }
        },
        "content": {
          "ToolUseResults": {
            "tool_use_results": [
              {
                "tool_use_id": "tooluse_RP-YBX50SZ-Y80RW3OK-mA",
                "content": [
                  {
                    "Json": {
                      "exit_status": "0",
                      "stdout": "Process completed or timed out",
                      "stderr": "bash: timeout: command not found"
                    }
                  }
                ],
                "status": "Success"
              }
            ]
          }
        },
        "images": null
      },
      {
        "ToolUse": {
          "message_id": "20badcd6-c2ff-4d9d-81d0-bc0101eeea2d",
          "content": "Let me use a different approach on macOS:",
          "tool_uses": [
            {
              "id": "tooluse_WFzxJJSDTi6W8UMz39KqkA",
              "name": "execute_bash",
              "orig_name": "execute_bash",
              "args": {
                "summary": "Test MCP server startup with background process",
                "command": "cd ./whatsapp-indexer && (node src/mcp-server.js &) && sleep 5 && echo \"Server should be running now\""
              },
              "orig_args": {
                "summary": "Test MCP server startup with background process",
                "command": "cd ./whatsapp-indexer && (node src/mcp-server.js &) && sleep 5 && echo \"Server should be running now\""
              }
            }
          ]
        }
      }
    ],
    [
      {
        "additional_context": "",
        "env_context": {
          "env_state": {
            "operating_system": "macos",
            "current_working_directory": "/Users/orrb/personal/workspace/personal-ai",
            "environment_variables": []
          }
        },
        "content": {
          "ToolUseResults": {
            "tool_use_results": [
              {
                "tool_use_id": "tooluse_WFzxJJSDTi6W8UMz39KqkA",
                "content": [
                  {
                    "Json": {
                      "exit_status": "0",
                      "stdout": "‚úÖ Using local vector store configuration\nüöÄ Starting WhatsApp MCP Server...\n‚úÖ WhatsApp MCP Server is running\nüöÄ Initializing WhatsApp Indexer...\nüöÄ Initializing local vector store...\nüì• Loading embedding model (this may take a moment on first run)...\nüìÇ Loading existing vector index...\n‚úÖ Loaded existing index with 10 vectors\n‚úÖ Local vector store initialized successfully\nüìä Index contains 10 vectors\nServer should be running now",
                      "stderr": ""
                    }
                  }
                ],
                "status": "Success"
              }
            ]
          }
        },
        "images": null
      },
      {
        "Response": {
          "message_id": "1083fe7e-2ead-4e19-9679-74550955cb17",
          "content": "Great! The server is now starting successfully. The key changes that fixed the hanging issue:\n\n## Summary of Fixes\n\n1. **Non-blocking WhatsApp initialization**: The MCP server now starts immediately and initializes WhatsApp in the background\n2. **Timeout protection**: Added a 30-second timeout to prevent indefinite hanging\n3. **Better error handling**: The server continues running even if WhatsApp fails to initialize\n4. **Status checking**: Added a `whatsapp_status` tool to check connection status\n5. **Graceful degradation**: All tools now check if WhatsApp is ready before executing\n\n## How to Use\n\nNow when you load the MCP server in Q CLI:\n\n1. **It will start immediately** instead of hanging\n2. **Use `whatsapp_status` tool** to check if WhatsApp is ready\n3. **Other tools will show \"not ready\"** until WhatsApp authentication completes\n4. **WhatsApp will authenticate in background** (may show QR code in logs if needed)\n\nThe server should now load properly in Q CLI without hanging!"
        }
      }
    ]
  ],
  "valid_history_range": [
    0,
    43
  ],
  "transcript": [
    "> /help",
    "> tools",
    "> /mcp",
    "> how can i see why whatsapp_indexer mcp server is still loading",
    "To troubleshoot why the `whatsapp_indexer` MCP server is still loading, you can check several things:\n\n## Check MCP Server Status\n\nFirst, let's see what MCP servers are currently configured and their status:\n[Tool uses: execute_bash]",
    "> t",
    "Let me check the Q CLI help to see available commands:\n[Tool uses: execute_bash]",
    "Let me check the settings command to see MCP server configuration:\n[Tool uses: execute_bash]",
    "Let me check all settings to see MCP server configuration:\n[Tool uses: execute_bash]",
    "Let me check if there's a settings file we can examine directly:\n[Tool uses: execute_bash]",
    "Let me check the doctor command which might provide debugging information:\n[Tool uses: execute_bash]",
    "The doctor command shows there might be terminal integration issues. Let me check if there are any MCP-related log files or configuration files:\n[Tool uses: execute_bash]",
    "Tool uses were interrupted, waiting for the next user prompt\n[Tool uses: none]",
    "> /mcp",
    "> q context status",
    "\n[Tool uses: execute_bash]",
    "The `context` subcommand isn't available in your current version of the Q CLI. Let me check what version you're running and see all available commands:\n[Tool uses: execute_bash]",
    "> /contxt",
    "> /mcp",
    "> this repository is for app that listens to whatsapp messages and index them and exposes mcp server that let query this index. when i load the mcp server into",
    "Tool uses were interrupted, waiting for the next user prompt\n[Tool uses: none]",
    "> this repository is for app that listens to whatsapp messages and index them and exposes mcp server that let query this index. when i load the mcp server into q cli it is stuck in loading state",
    "To troubleshoot why your WhatsApp indexer MCP server is stuck in loading state, let's check a few things:\n\n## 1. Check the MCP server implementation\n\nFirst, let's look at your MCP server code to see how it's structured:\n[Tool uses: fs_read]",
    "\n[Tool uses: fs_read]",
    "Let's check the MCP server startup script and main files:\n[Tool uses: fs_read]",
    "\n[Tool uses: fs_read]",
    "\n[Tool uses: fs_read]",
    "Let's examine the MCP server implementation:\n[Tool uses: fs_read]",
    "Now let's check the WhatsApp client initialization:\n[Tool uses: fs_read]",
    "The issue is likely that the MCP server is waiting for WhatsApp authentication/initialization, which can take time or get stuck. Let's check if there are any logs or if the WhatsApp client is properly authenticated:\n\n## 2. Test the MCP server manually\n\nLet's try running the MCP server manually to see what happens:\n[Tool uses: execute_bash]",
    "\n[Tool uses: execute_bash]",
    "\n[Tool uses: execute_bash]",
    "Let me check if the process is running and what it's doing:\n[Tool uses: execute_bash]",
    "The process is running. Let's check if there are any logs or output:\n[Tool uses: execute_bash]",
    "Let's check the environment variables:\n[Tool uses: fs_read]",
    "## 3. The likely issue\n\nBased on the code analysis, the problem is that your MCP server is waiting for WhatsApp authentication during initialization. In the `mcp-server.js`, the `start()` method calls:\n\n```javascript\nawait this.whatsappClient.initialize();\n```\n\nAnd in `whatsapp-client.js`, this method:\n1. Initializes the database and vector store\n2. Sets up event handlers \n3. Calls `await this.client.initialize()` which waits for WhatsApp authentication\n\nThe WhatsApp client will either:\n- Show a QR code that needs to be scanned\n- Wait for existing authentication to be validated\n- Get stuck if there are authentication issues\n\n## 4. Solutions\n\nHere are a few ways to fix this:\n\n### Option 1: Make WhatsApp initialization non-blocking\n\nModify the MCP server to start without waiting for WhatsApp to be ready:\n[Tool uses: fs_write]",
    "> t",
    "### Option 2: Add timeout and better error handling\n\nLet's also modify the tool handlers to check if WhatsApp is ready:\n[Tool uses: fs_write]",
    "Let's add the same check to other handlers:\n[Tool uses: fs_write]",
    "\n[Tool uses: fs_write]",
    "\n[Tool uses: fs_write]",
    "\n[Tool uses: fs_write]",
    "### Option 3: Add a status tool\n\nLet's add a tool to check the WhatsApp connection status:\n[Tool uses: fs_write]",
    "\n[Tool uses: fs_write]",
    "Now let's add the status handler method:\n[Tool uses: fs_write]",
    "Now let's kill the existing process and restart it:\n[Tool uses: execute_bash]",
    "Now let's test the updated server:\n[Tool uses: execute_bash]",
    "Let's check if it's running and see any output:\n[Tool uses: execute_bash]",
    "Let me try running it in the foreground to see any errors:\n[Tool uses: execute_bash]",
    "Tool uses were interrupted, waiting for the next user prompt\n[Tool uses: none]",
    "> the exeuctions hangs",
    "The execution hangs because the MCP server is waiting for WhatsApp authentication. Here are the key issues and solutions:\n\n## The Problem\n\nYour MCP server hangs during startup because:\n\n1. **WhatsApp Authentication**: The `whatsappClient.initialize()` call waits for WhatsApp Web authentication, which can:\n   - Show a QR code that needs scanning\n   - Wait indefinitely for existing auth to validate\n   - Get stuck on network/auth issues\n\n2. **Blocking Initialization**: The MCP server won't start until WhatsApp is fully ready\n\n## Quick Fix\n\nThe changes I made should help, but let's also add a timeout to prevent hanging:\n[Tool uses: fs_write]",
    "## Alternative: Headless Mode Fix\n\nThe WhatsApp client might be hanging on headless browser issues. Let's also update the client config:\n[Tool uses: fs_write]",
    "## Test the Fix\n\nNow let's test the updated server:\n[Tool uses: execute_bash]",
    "Let me use a different approach on macOS:\n[Tool uses: execute_bash]",
    "Great! The server is now starting successfully. The key changes that fixed the hanging issue:\n\n## Summary of Fixes\n\n1. **Non-blocking WhatsApp initialization**: The MCP server now starts immediately and initializes WhatsApp in the background\n2. **Timeout protection**: Added a 30-second timeout to prevent indefinite hanging\n3. **Better error handling**: The server continues running even if WhatsApp fails to initialize\n4. **Status checking**: Added a `whatsapp_status` tool to check connection status\n5. **Graceful degradation**: All tools now check if WhatsApp is ready before executing\n\n## How to Use\n\nNow when you load the MCP server in Q CLI:\n\n1. **It will start immediately** instead of hanging\n2. **Use `whatsapp_status` tool** to check if WhatsApp is ready\n3. **Other tools will show \"not ready\"** until WhatsApp authentication completes\n4. **WhatsApp will authenticate in background** (may show QR code in logs if needed)\n\nThe server should now load properly in Q CLI without hanging!\n[Tool uses: none]",
    "> /",
    "> /save ",
    "> /save 1"
  ],
  "tools": {
    "amzn_mcp": [
      {
        "ToolSpecification": {
          "name": "amzn_mcp___sim_update_issue",
          "description": "Update an existing SIM issue.\nThis tool allows updating various attributes of an existing issue including title, description, status, assignee, assigned folder, category, type, item, and assigned group.\nAt least one update parameter must be provided.\nThe issue ID can be either the P-number (e.g., P12345678) or the alias (e.g., CFN-12345).\nThe assignee should be a valid kerberos username without the @ANT.AMAZON.COM suffix.",
          "input_schema": {
            "json": {
              "additionalProperties": false,
              "$schema": "http://json-schema.org/draft-07/schema#",
              "type": "object",
              "properties": {
                "assignedGroup": {
                  "description": "Assigned group for the issue (e.g., \"Alexa-Routines-LLM\")",
                  "type": "string"
                },
                "assignee": {
                  "description": "New assignee kerberos username",
                  "type": "string"
                },
                "status": {
                  "type": "string",
                  "description": "New status for the issue (e.g., Open, Closed, Pending)"
                },
                "assignedFolder": {
                  "type": "string",
                  "description": "New assigned folder ID for the issue"
                },
                "title": {
                  "description": "New title for the issue",
                  "type": "string"
                },
                "issueId": {
                  "type": "string",
                  "description": "Issue ID or alias (e.g., P12345678 or CFN-12345)"
                },
                "item": {
                  "description": "Item for the issue (e.g., \"Voice Routines - Bug\")",
                  "type": "string"
                },
                "type": {
                  "type": "string",
                  "description": "Type for the issue (e.g., \"Routines\")"
                },
                "category": {
                  "type": "string",
                  "description": "Category for the issue (e.g., \"Alexa\")"
                },
                "description": {
                  "description": "New description for the issue",
                  "type": "string"
                }
              },
              "required": [
                "issueId"
              ]
            }
          }
        }
      },
      {
        "ToolSpecification": {
          "name": "amzn_mcp___read_orr",
          "description": "Read Operational Readiness Review (ORR) documents from https://www.orr.reflect.aws.dev/.\nORR documents contain detailed information about operational readiness reviews including:\n- Review questions and answers\n- Service or feature assessments\n- Operational readiness criteria\n- Launch approval status\n\n‚ö†Ô∏è IMPORTANT: This tool accesses sensitive operational review data that will be processed by the LLM.\nBefore using this tool, you MUST explicitly ask for user approval with the following message:\n\"I need to access an Operational Readiness Review (ORR) document which contains sensitive operational data.\nThis data will be processed by the LLM to answer your question. Do you approve accessing this ORR document?\"\n\nOnly proceed if the user explicitly approves. This confirmation is required even if the tool is auto-approved.\n\nExample usage:\nTo read an ORR document with a specific review ID:\n{ \"url\": \"https://www.orr.reflect.aws.dev/review/687e56b9-d3d4-4bd5-b033-379461c96381/questions\" }\n\nTo read an ORR template:\n{ \"url\": \"https://www.orr.reflect.aws.dev/template/787a767f-af3a-4747-97ca-b617d2e4cbe0/content\" }\n\nTo read only a specific section by ID:\n{ \"url\": \"https://www.orr.reflect.aws.dev/template/787a767f-af3a-4747-97ca-b617d2e4cbe0/content\", \"sectionId\": \"53886aad-5ef9-4450-9da0-de7365ef07cb\" }\n\nTo read only a specific section by title:\n{ \"url\": \"https://www.orr.reflect.aws.dev/template/787a767f-af3a-4747-97ca-b617d2e4cbe0/content\", \"sectionTitle\": \"Axiom 01 - AZ Resilience\" }\n\nTo read only a specific question by ID:\n{ \"url\": \"https://www.orr.reflect.aws.dev/template/787a767f-af3a-4747-97ca-b617d2e4cbe0/content\", \"questionId\": \"039ee146-7a05-4e4f-b10e-4eebb574f093\" }\n\nTo read only a specific question by prompt text (supports partial matching):\n{ \"url\": \"https://www.orr.reflect.aws.dev/template/787a767f-af3a-4747-97ca-b617d2e4cbe0/content\", \"questionPrompt\": \"AZ failure\" }",
          "input_schema": {
            "json": {
              "$schema": "http://json-schema.org/draft-07/schema#",
              "additionalProperties": false,
              "type": "object",
              "properties": {
                "url": {
                  "type": "string",
                  "format": "uri",
                  "description": "URL of the ORR document to read"
                },
                "sectionTitle": {
                  "type": "string",
                  "description": "Optional title of a specific section to return"
                },
                "questionId": {
                  "description": "Optional ID of a specific question to return",
                  "type": "string"
                },
                "sectionId": {
                  "type": "string",
                  "description": "Optional ID of a specific section to return"
                },
                "questionPrompt": {
                  "description": "Optional prompt text to search for in questions (supports partial matching)",
                  "type": "string"
                }
              },
              "required": [
                "url"
              ]
            }
          }
        }
      },
      {
        "ToolSpecification": {
          "name": "amzn_mcp___read_kingpin_goal",
          "description": "Read a Kingpin goal by ID, retrieving comprehensive details including metadata, description, status comments, and path to green information. Now supports goal history tracking with the includeHistory parameter, showing how status comments and path to green have changed over time. Path to Green represents specific actions needed to get at-risk goals back on track. Use maxVersions parameter to control the amount of history data returned. Kingpin is Amazon's internal source of truth for planning and commitments.",
          "input_schema": {
            "json": {
              "type": "object",
              "$schema": "http://json-schema.org/draft-07/schema#",
              "required": [
                "goalId"
              ],
              "properties": {
                "includeHistory": {
                  "type": "boolean",
                  "default": false,
                  "description": "Whether to include the goal's history in the response, showing changes to statusComments and pathToGreen fields over time (default: false)"
                },
                "maxVersions": {
                  "description": "Maximum number of versions to include in the history, used to limit returned information size for goals with extensive history (default: 10)",
                  "type": "number",
                  "default": 10
                },
                "goalId": {
                  "type": "string",
                  "description": "The ID of the Kingpin goal to read (numeric ID only, not the full URL)"
                }
              },
              "additionalProperties": false
            }
          }
        }
      },
      {
        "ToolSpecification": {
          "name": "amzn_mcp___search_internal_websites",
          "description": "Search using Amazon's internal search engine is.amazon.com\n\nAvailable scopes:\n- ALL: Search across all resources (default)\n- WIKI: Internal Wiki (Amazon's central tribal knowledge repository on w.amazon.com, historically the main knowledge source containing team wikis, product documentation, personal knowledge, and experiences across various roles)\n- AWS_DOCS: AWS Documentation (official AWS service documentation and guides)\n- SAGE_HORDE: Sage/Q&A Sites (technical questions, answers, and discussions from Amazon's internal knowledge sharing platform)\n- BUILDER_HUB: BuilderHub (documentation for Amazon's internal developer tools and resources)\n- INSIDE: Inside Amazon (company news, HR policies, employee resources, and corporate information)\n- BROADCAST: Broadcast (company-wide announcements and communications)\n- IT: IT Services (IT support documentation, guides, and resources)\n- APGL: APG Library (AWS Prescriptive Guidance Library for AWS Professional Services delivery guidance)\n- EVERGREEN: Evergreen documentation platform (Specifically documentation for Amazon API or AAPI, API references, guides, etc.) hosted on console.harmony.a2z.com\n- IVY: Ivy Help (guidance for Amazon's internal talent management system, including hiring and promotions)\n- LIST_ARCHIVE: Email List Archive (archived email communications from internal mailing lists)\n- tool: Search internal tools on Spyglass (Community recommended tools, services, and content)\n\nSorting options:\n- SCORE (Default, sorts by relevance)\n- MODIFICATION_DATE (Last Modified, use with sortOrder)\n\nExamples:\n1. Basic search:\n   { \"query\": \"lambda\" }\n\n2. Search AWS docs sorted by newest first:\n   { \"query\": \"lambda\", \"scope\": \"AWS_DOCS\", \"sortBy\": \"MODIFICATION_DATE\", \"sortOrder\": \"DESC\" }\n\n3. Search Wiki with pagination:\n   { \"query\": \"brazil\", \"scope\": \"WIKI\", \"page\": \"2\" }\n\n4. Search Evergreen documentation for API guides:\n   { \"query\": \"Cards getting started\", \"scope\": \"EVERGREEN\" }\n\n5. Search Sage for technical questions about a specific topic:\n   { \"query\": \"lambda function scope stack\", \"scope\": \"SAGE_HORDE\" }\n\n6. Get detailed information about a specific scope:\n   { \"query\": \"about-scope:SAGE_HORDE\" }\n\n7. Search Wiki for team documentation:\n   { \"query\": \"Mirai team onboarding\", \"scope\": \"WIKI\" }\n\n8. Search BuilderHub for developer tools:\n   { \"query\": \"Brazil workspace setup\", \"scope\": \"BUILDER_HUB\" }\n\n9. Search Inside Amazon for HR policies:\n   { \"query\": \"remote work policy\", \"scope\": \"INSIDE\" }\n\n10. Search APG Library for AWS implementation guides:\n   { \"query\": \"migration best practices\", \"scope\": \"APGL\" }\n\n11. Search Ivy Help for promotion information:\n   { \"query\": \"promotion cycle timeline\", \"scope\": \"IVY\" }\n12. Search Internal Tools for Badge Report:\n   { \"query\": \"badge report\", \"scope\": \"tool\" }\n13. Search PCS on internal tools\n   { \"query\": \"PCS\", \"scope\": \"tool\" }\n14. Search JSON Prettifier internal tool\n   { \"query\": \"JSON Prettifier\", \"scope\": \"tool\" }\n15. Search Design Inspector in internal tools\n   { \"query\": \"Design Inspector\", \"scope\": \"tool\" }\n16. Search useful plantUML tools\n   { \"query\": \"plantUML\", \"scope\": \"tool\" }\n17. Search helpful tools for interviews on Spyglass\n   { \"query\": \"interviews\", \"scope\": \"tool\" }\n\nTips:\n- Start with the ALL scope to get a general sense of available information across all resources\n- Once you identify the likely location of information, use a specific scope for more focused results\n- Use sortBy: \"MODIFICATION_DATE\" with sortOrder: \"DESC\" to find the most recently updated content\n- For pagination, increment the page parameter to see additional results beyond the first page\n- For detailed information about a specific scope, use the query \"about-scope:<SCOPE_NAME>\" (e.g., \"about-scope:SAGE_HORDE\")",
          "input_schema": {
            "json": {
              "$schema": "http://json-schema.org/draft-07/schema#",
              "type": "object",
              "required": [
                "query"
              ],
              "additionalProperties": false,
              "properties": {
                "query": {
                  "description": "Search query",
                  "type": "string"
                },
                "scope": {
                  "description": "Scope to search in (e.g., ALL, AWS_DOCS, WIKI, tool)",
                  "type": "string"
                },
                "sortOrder": {
                  "description": "Sort order (ASC for oldest first, DESC for newest first)",
                  "type": "string",
                  "enum": [
                    "ASC",
                    "DESC"
                  ]
                },
                "page": {
                  "description": "Page of the search result, starting from 1",
                  "type": "string"
                },
                "sortBy": {
                  "type": "string",
                  "description": "Sort field (SCORE, MODIFICATION_DATE)"
                }
              }
            }
          }
        }
      },
      {
        "ToolSpecification": {
          "name": "amzn_mcp___sfdc_opportunity_lookup",
          "description": "This tool is for looking up opportunities on the AWS Salesforce AKA AWSentral",
          "input_schema": {
            "json": {
              "type": "object",
              "additionalProperties": false,
              "$schema": "http://json-schema.org/draft-07/schema#",
              "properties": {
                "account_name": {
                  "description": "the name of the account with the opportunities, this will pull all opportunities that may be related to an account, but not directly associated.",
                  "type": "string"
                },
                "account_id": {
                  "type": "string",
                  "description": "the id of the account associated with the opportunity, this will pull all opportunities on an account, its best to use just the account_id"
                },
                "opportunity_name": {
                  "type": "string",
                  "description": "the name of the opportunity to search for"
                },
                "opportunity_id": {
                  "type": "string",
                  "description": "the id of the opportunity - this will only pull the 1 opportunity"
                }
              }
            }
          }
        }
      },
      {
        "ToolSpecification": {
          "name": "amzn_mcp___g2s2_create_cr",
          "description": "Creates a code review for a specified G2S2 stage version",
          "input_schema": {
            "json": {
              "properties": {
                "stageVersion": {
                  "type": "string",
                  "description": "The stage version to create a code review for"
                },
                "crId": {
                  "description": "Existing CR ID to update (optional)",
                  "type": "string"
                },
                "description": {
                  "description": "A CR description to add",
                  "type": "string"
                }
              },
              "type": "object",
              "additionalProperties": false,
              "$schema": "http://json-schema.org/draft-07/schema#",
              "required": [
                "stageVersion",
                "description"
              ]
            }
          }
        }
      },
      {
        "ToolSpecification": {
          "name": "amzn_mcp___taskei_create_sprint",
          "description": "\n    Create a new sprint in Taskei.\n    This tool allows you to create a sprint with specified parameters like name, room ID, start date, end date, etc.\n    Use this tool when you need to create a new sprint for planning and organizing tasks.\n    The sprint ID returned by this tool can be used with taskei_create_task and taskei_update_task tools.\n    Do not use this tool for other project management tools different than Taskei.",
          "input_schema": {
            "json": {
              "type": "object",
              "additionalProperties": false,
              "$schema": "http://json-schema.org/draft-07/schema#",
              "required": [
                "name",
                "room",
                "startDate",
                "endDate"
              ],
              "properties": {
                "name": {
                  "description": "The name of the sprint to create (required)",
                  "type": "string"
                },
                "room": {
                  "description": "The ID or name of the room where the sprint will be created (required)",
                  "type": "string"
                },
                "description": {
                  "description": "Goal of the sprint",
                  "type": "string"
                },
                "startDate": {
                  "description": "Start date of the sprint in ISO format (YYYY-MM-DD)",
                  "type": "string"
                },
                "capacity": {
                  "description": "Capacity of the sprint (story points)",
                  "type": "number"
                },
                "endDate": {
                  "type": "string",
                  "description": "End date of the sprint in ISO format (YYYY-MM-DD). Note: Sprint cannot exceed 31 days, so end date must be within 31 days (inclusive) of start date"
                },
                "personalWipLimit": {
                  "type": "number",
                  "description": "Personal work-in-progress limit for the sprint"
                }
              }
            }
          }
        }
      },
      {
        "ToolSpecification": {
          "name": "amzn_mcp___sim_search_issues",
          "description": "Search for SIM issues using a structured query syntax.\nThis tool allows searching for issues with various filters including status, assignee, requester, folder, date ranges, and ticket severity.\n\n\nQuery syntax examples:\n\n* Basic search: Lambda cold start\n\n* Filter by status: status:(Open)\n\n* Filter by assignee: assignee:(username)\n\n* Filter by requester: requester:(username)\n\n* Filter by folder: containingFolder:(folder-uuid)\n\n* Filter by date range: createDate:([2023-06-01T07:00:00.000Z TO 2025-03-01T08:00:00.000Z])\n\n* Filter by severity: extensions.tt.impact:(2) (severity must be a numerical value between 1-5)\n\n* Combine filters: status:(Open) assignee:(username) createDate:([2023-06-01T07:00:00.000Z TO 2025-03-01T08:00:00.000Z])\n\n\n\nSort options:\n\n* Sort by last updated: sort=lastUpdatedDate desc\n\n* Sort by creation date: sort=createDate asc\n\n\nRows options (a.k.a. how many SIMs to return per query):\n\n* Retrieve 10 results at a time: (rows=10)\n* Retrieve 35 results at a time: (rows=35)\nStart options:\n\n* Retrieve SIMs starting at the first result matching your query: start=0\n* Retrieve SIMs starting with the twentieth result matching your query: start=19\n\n\nPagination examples:\n\n* Query the first page of results with `(rows=10, start=0)`, then the second page with `(rows=10, start=10)`\n\n* Query the first page of results with `(rows=15)`, then the second page with `(rows=15, start=15)`",
          "input_schema": {
            "json": {
              "properties": {
                "query": {
                  "description": "Search query using SIM query syntax",
                  "type": "string"
                },
                "start": {
                  "type": "number",
                  "minimum": 0,
                  "description": "Which result number to start from (>=0, default: 0)"
                },
                "rows": {
                  "type": "number",
                  "exclusiveMinimum": 0,
                  "maximum": 1000,
                  "description": "Maximum number of issues to return (1-1000, default: 50)"
                },
                "sort": {
                  "description": "Optional sort parameter (e.g., \"lastUpdatedDate desc\")",
                  "type": "string"
                }
              },
              "required": [
                "query"
              ],
              "additionalProperties": false,
              "$schema": "http://json-schema.org/draft-07/schema#",
              "type": "object"
            }
          }
        }
      },
      {
        "ToolSpecification": {
          "name": "amzn_mcp___plantuml",
          "description": "Create and decode PlantUML diagrams using Amazon's internal PlantUML server.\nPlantUML allows creating UML diagrams from text descriptions.\n\nSupported operations:\n- encode: Convert PlantUML text to an encoded URL\n- decode: Extract PlantUML text from an encoded URL",
          "input_schema": {
            "json": {
              "$schema": "http://json-schema.org/draft-07/schema#",
              "type": "object",
              "additionalProperties": false,
              "properties": {
                "content": {
                  "description": "PlantUML content for encode operation",
                  "type": "string"
                },
                "url": {
                  "type": "string",
                  "format": "uri",
                  "description": "PlantUML URL for decode operation"
                },
                "operation": {
                  "enum": [
                    "encode",
                    "decode"
                  ],
                  "description": "The operation to perform",
                  "type": "string"
                }
              },
              "required": [
                "operation"
              ]
            }
          }
        }
      },
      {
        "ToolSpecification": {
          "name": "amzn_mcp___jira_get_attachment",
          "description": "Download an attachment from a JIRA issue",
          "input_schema": {
            "json": {
              "additionalProperties": false,
              "required": [
                "attachmentUrl"
              ],
              "type": "object",
              "properties": {
                "outputPath": {
                  "description": "Path where to save the downloaded attachment",
                  "type": "string"
                },
                "attachmentUrl": {
                  "description": "The URL of the attachment to download",
                  "minLength": 1,
                  "type": "string"
                }
              },
              "$schema": "http://json-schema.org/draft-07/schema#"
            }
          }
        }
      },
      {
        "ToolSpecification": {
          "name": "amzn_mcp___fetch_oncall_schedule",
          "description": "Fetches the OnCall schedule for the specified team and time range.\n\nReturns the matching schedule for the specified team within the given time range.\n\nExample:\n```json\n{\n  \"teamName\": \"ft-itc\",\n  \"from\": \"2025-06-01\",\n  \"to\": \"2025-06-07\"\n}\n```",
          "input_schema": {
            "json": {
              "required": [
                "teamName",
                "from",
                "to"
              ],
              "$schema": "http://json-schema.org/draft-07/schema#",
              "additionalProperties": false,
              "type": "object",
              "properties": {
                "to": {
                  "pattern": "\\d{4}-\\d{2}-\\d{2}",
                  "type": "string",
                  "description": "End date (YYYY-MM-DD) of the schedule. Must not be earlier than the start date."
                },
                "from": {
                  "description": "Start date (YYYY-MM-DD) of the schedule.",
                  "type": "string",
                  "pattern": "\\d{4}-\\d{2}-\\d{2}"
                },
                "teamName": {
                  "description": "The name of the OnCall team to fetch the schedule for.",
                  "type": "string"
                }
              }
            }
          }
        }
      },
      {
        "ToolSpecification": {
          "name": "amzn_mcp___read_permissions",
          "description": "Read team information from Amazon's internal permissions system.\n\nThis tool allows you to retrieve detailed information about team memberships,\noverrides, and rules from permissions.amazon.com team pages.\n\nYou MUST specify which tables OR rule sections to include in the response.\nAt least one of these parameters must be provided with at least one option selected.\nThe tool will only retrieve the specified tables and rule sections.\n\nAvailable tables:\n- additional_overrides: Additional Members overrides table\n- deny_overrides: Denied Members overrides table\n- team_membership: Team Membership table (large table, slow to retrieve)\n- team_audit: Team Audit log table (very large table, very slow to retrieve)\n\nAvailable rule sections:\n- rule_membership: Membership rules section\n- rule_additional_overrides: Additional Members overrides rules section\n\nFor large tables (especially team_membership and team_audit), you can use the\nmaxPages parameter to limit the number of pages processed and prevent timeouts.\nYou can also use tableFilters to narrow down the results.",
          "input_schema": {
            "json": {
              "additionalProperties": false,
              "required": [
                "teamUrl"
              ],
              "$schema": "http://json-schema.org/draft-07/schema#",
              "type": "object",
              "properties": {
                "tableFilters": {
                  "propertyNames": {
                    "enum": [
                      "additional_overrides",
                      "deny_overrides",
                      "team_membership",
                      "team_audit"
                    ]
                  },
                  "type": "object",
                  "description": "Filters to apply to specific tables. Each filter contains a query string or array of query strings and optional threshold.",
                  "additionalProperties": {
                    "properties": {
                      "threshold": {
                        "type": "number",
                        "minimum": 0,
                        "maximum": 1,
                        "default": 0.3,
                        "description": "Fuzzy match threshold (0-1). Lower = stricter match. Default is 0.3"
                      },
                      "query": {
                        "description": "Text or array of texts to search for in the table rows",
                        "anyOf": [
                          {
                            "description": "Text to search for in the table rows",
                            "type": "string"
                          },
                          {
                            "type": "array",
                            "items": {
                              "type": "string"
                            },
                            "description": "Multiple terms to search for in the table rows (combined with OR logic)"
                          }
                        ]
                      }
                    },
                    "additionalProperties": false,
                    "type": "object",
                    "required": [
                      "query"
                    ]
                  }
                },
                "tables": {
                  "items": {
                    "enum": [
                      "additional_overrides",
                      "deny_overrides",
                      "team_membership",
                      "team_audit"
                    ],
                    "type": "string"
                  },
                  "type": "array",
                  "description": "List of specific tables to include. At least one table or rule section must be specified."
                },
                "ruleSections": {
                  "description": "List of specific rule sections to include. At least one table or rule section must be specified.",
                  "type": "array",
                  "items": {
                    "type": "string",
                    "enum": [
                      "rule_membership",
                      "rule_additional_overrides"
                    ]
                  }
                },
                "maxPages": {
                  "type": "integer",
                  "exclusiveMinimum": 0,
                  "description": "Maximum number of pages to process per table. Use for very large tables to prevent timeouts."
                },
                "teamUrl": {
                  "type": "string",
                  "format": "uri",
                  "description": "URL of the permissions team page to read"
                }
              }
            }
          }
        }
      },
      {
        "ToolSpecification": {
          "name": "amzn_mcp___lock_unlock_quip_document",
          "description": "Lock or unlock a Quip document\n\nThis tool allows you to lock or unlock a Quip document to control whether it can be edited.\nWhen a document is locked, users cannot make changes to it (except for the document owner and users with admin privileges).\n\nExample usage:\n```json\n{\n  \"threadIdOrUrl\": \"https://quip-amazon.com/abc/Doc\",\n  \"lock\": true\n}\n```\n\nTo unlock a document:\n```json\n{\n  \"threadIdOrUrl\": \"https://quip-amazon.com/abc/Doc\",\n  \"lock\": false\n}\n```\n\nNote: You must have appropriate permissions to lock or unlock a document.",
          "input_schema": {
            "json": {
              "type": "object",
              "additionalProperties": false,
              "$schema": "http://json-schema.org/draft-07/schema#",
              "properties": {
                "lock": {
                  "description": "Tick the checkbox to lock or uncheck to unlock the document",
                  "type": "boolean"
                },
                "threadIdOrUrl": {
                  "type": "string",
                  "description": "The thread ID or Quip URL of the document to lock or unlock"
                }
              },
              "required": [
                "threadIdOrUrl",
                "lock"
              ]
            }
          }
        }
      },
      {
        "ToolSpecification": {
          "name": "amzn_mcp___lookup_team_code_resource",
          "description": "Looks up code artifacts, such as packages, version sets a given team",
          "input_schema": {
            "json": {
              "properties": {
                "team": {
                  "type": "string",
                  "description": "Bindle team as represented in https://permissions.amazon.com/a/team/{team}"
                }
              },
              "additionalProperties": false,
              "required": [
                "team"
              ],
              "$schema": "http://json-schema.org/draft-07/schema#",
              "type": "object"
            }
          }
        }
      },
      {
        "ToolSpecification": {
          "name": "amzn_mcp___sim_add_tag",
          "description": "Add a tag to an existing SIM issue.\nThe issue ID can be either the P-number (e.g., P12345678) or the alias (e.g., CFN-12345).\nThe assignee should be a valid kerberos username without the @ANT.AMAZON.COM suffix.",
          "input_schema": {
            "json": {
              "additionalProperties": false,
              "$schema": "http://json-schema.org/draft-07/schema#",
              "properties": {
                "issueId": {
                  "type": "string",
                  "description": "Issue ID or alias (e.g., P12345678 or CFN-12345)"
                },
                "tag": {
                  "description": "Tag to add to the issue",
                  "type": "string"
                }
              },
              "required": [
                "issueId",
                "tag"
              ],
              "type": "object"
            }
          }
        }
      },
      {
        "ToolSpecification": {
          "name": "amzn_mcp___jira_transition_issue",
          "description": "Transition a JIRA issue to a new status",
          "input_schema": {
            "json": {
              "additionalProperties": false,
              "$schema": "http://json-schema.org/draft-07/schema#",
              "type": "object",
              "properties": {
                "comment": {
                  "type": "string",
                  "description": "Optional comment to add during transition"
                },
                "fields": {
                  "additionalProperties": {},
                  "type": "object",
                  "description": "Optional fields to update during transition"
                },
                "transitionId": {
                  "description": "The ID of the transition",
                  "type": "string",
                  "minLength": 1
                },
                "issueIdOrKey": {
                  "description": "The ID or key of the issue",
                  "minLength": 1,
                  "type": "string"
                }
              },
              "required": [
                "issueIdOrKey",
                "transitionId"
              ]
            }
          }
        }
      },
      {
        "ToolSpecification": {
          "name": "amzn_mcp___remove_member_from_rotation",
          "description": "Remove a member from an OnCall rotation.\n\nFetches the full rotation object, removes the member, and updates the rotation.\n\nExample:\n```json\n{\n  \"teamName\": \"ft-itc\",\n  \"rotationName\": \"ft-itc-primary\",\n  \"memberToRemove\": \"inactiveUserAlias\"\n}\n```",
          "input_schema": {
            "json": {
              "$schema": "http://json-schema.org/draft-07/schema#",
              "type": "object",
              "properties": {
                "memberToRemove": {
                  "type": "string",
                  "description": "The username of the member to remove."
                },
                "teamName": {
                  "description": "The name of the OnCall team.",
                  "type": "string"
                },
                "rotationName": {
                  "description": "The name of the rotation to modify.",
                  "type": "string"
                }
              },
              "required": [
                "teamName",
                "rotationName",
                "memberToRemove"
              ],
              "additionalProperties": false
            }
          }
        }
      },
      {
        "ToolSpecification": {
          "name": "amzn_mcp___overleaf_clone_project",
          "description": "Clone an Overleaf project to the local workspace.\n\nThis tool clones the specified Overleaf project to the local workspace directory.\nThe project will be stored in ./overleaf/{project_id}.\nIf the project is already cloned locally, this operation is idempotent and will skip cloning.\n\nExample usage:\n```json\n{\n  \"project_id\": \"507f1f77bcf86cd799439011\"\n}\n```",
          "input_schema": {
            "json": {
              "$schema": "http://json-schema.org/draft-07/schema#",
              "type": "object",
              "required": [
                "project_id"
              ],
              "additionalProperties": false,
              "properties": {
                "project_id": {
                  "description": "Project ID to clone",
                  "type": "string",
                  "pattern": "^[a-zA-Z0-9_-]+$"
                }
              }
            }
          }
        }
      },
      {
        "ToolSpecification": {
          "name": "amzn_mcp___cradle_get_job_run_details",
          "description": "Get detailed run information including errors for a Cradle job run.",
          "input_schema": {
            "json": {
              "required": [
                "profileId",
                "jobId",
                "jobRunId"
              ],
              "additionalProperties": false,
              "type": "object",
              "$schema": "http://json-schema.org/draft-07/schema#",
              "properties": {
                "jobId": {
                  "type": "string",
                  "description": "UUID of the job"
                },
                "profileId": {
                  "type": "string",
                  "description": "UUID of the job profile"
                },
                "jobRunId": {
                  "type": "string",
                  "description": "ID of the job run"
                }
              }
            }
          }
        }
      },
      {
        "ToolSpecification": {
          "name": "amzn_mcp___eureka_web_search",
          "description": "Web Search using Amazon's internal web-scale search engine - Eureka\n\nGiven a query, this tool will search across the web and return relevant search results.\nThe tool returns top documents with content, url, title, and document_published_at_timestamp.\n\nExample:\n   { \"query\": \"recent supreme court ruling\" }",
          "input_schema": {
            "json": {
              "properties": {
                "query": {
                  "type": "string",
                  "description": "Search query"
                }
              },
              "type": "object",
              "$schema": "http://json-schema.org/draft-07/schema#",
              "additionalProperties": false,
              "required": [
                "query"
              ]
            }
          }
        }
      },
      {
        "ToolSpecification": {
          "name": "amzn_mcp___pippin_create_artifact",
          "description": "Creates a new artifact within an existing Pippin project",
          "input_schema": {
            "json": {
              "additionalProperties": false,
              "type": "object",
              "$schema": "http://json-schema.org/draft-07/schema#",
              "required": [
                "projectId",
                "name",
                "content"
              ],
              "properties": {
                "name": {
                  "type": "string",
                  "description": "Artifact name"
                },
                "content": {
                  "type": "string",
                  "description": "Artifact content"
                },
                "description": {
                  "type": "string",
                  "description": "Artifact description"
                },
                "projectId": {
                  "description": "Project ID",
                  "type": "string"
                }
              }
            }
          }
        }
      },
      {
        "ToolSpecification": {
          "name": "amzn_mcp___cradle_list_jobs",
          "description": "List all jobs associated with a specific Cradle profile.",
          "input_schema": {
            "json": {
              "additionalProperties": false,
              "$schema": "http://json-schema.org/draft-07/schema#",
              "type": "object",
              "properties": {
                "profileId": {
                  "description": "UUID of the job profile",
                  "type": "string"
                },
                "limit": {
                  "type": "number",
                  "description": "Maximum number of results to return"
                },
                "pageSize": {
                  "type": "number",
                  "description": "Number of items per page"
                },
                "pageToken": {
                  "type": "string",
                  "description": "Token for pagination"
                },
                "sortCol": {
                  "description": "Column to sort by (e.g., lastUpdatedDate)",
                  "type": "string"
                },
                "sortOrder": {
                  "type": "string",
                  "description": "Sort order (asc or desc)"
                }
              },
              "required": [
                "profileId"
              ]
            }
          }
        }
      },
      {
        "ToolSpecification": {
          "name": "amzn_mcp___create_oncall_override",
          "description": "Create a temporary override for an OnCall rotation.\n\nThis tool allows you to temporarily replace one or more scheduled on-call members (`targets`) with another set of members (`members`) for a specified time window.\n\nThe override must meet the following rules:\n- The `start` and `end` times must fall entirely within a single on-call shift.\n- The `targets` list must be a subset of the shift's on-call members (unless left empty to override whomever is scheduled).\n- The `members` list must contain valid members from the rotation. If left empty, no one will be assigned (i.e., a coverage gap).\n- Times must follow the format `YYYY-MM-DDThh:mm`.\n\nUsage guidance:\n- To override *whoever is currently scheduled* with specific members, leave `targets` empty and provide `members`.\n- To clear the next on-call assignment (i.e., assign no one), leave `members` empty.\n\nExample:\n```json\n{\n  \"teamName\": \"ft-itc\",\n  \"rotationName\": \"ft-itc-primary\",\n  \"targets\": [alice],\n  \"members\": [\"bob\"],\n  \"start\": \"2025-06-01T09:00\",\n  \"end\": \"2025-06-02T09:00\"\n}\n```",
          "input_schema": {
            "json": {
              "required": [
                "teamName",
                "rotationName",
                "targets",
                "members",
                "start",
                "end"
              ],
              "type": "object",
              "$schema": "http://json-schema.org/draft-07/schema#",
              "properties": {
                "members": {
                  "items": {
                    "type": "string"
                  },
                  "description": "List of replacement members to assign during the override window. They must already be part of the rotation. If empty, it creates a gap (nobody will be oncall).",
                  "type": "array"
                },
                "teamName": {
                  "description": "The name of the OnCall team where the override should be created.",
                  "type": "string"
                },
                "end": {
                  "pattern": "\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}",
                  "description": "End time (YYYY-MM-DDThh:mm) of the override. Must not be earlier than the start and must be within the same shift.",
                  "type": "string"
                },
                "targets": {
                  "type": "array",
                  "items": {
                    "type": "string"
                  },
                  "description": "List of current on-call members to override. Must be a subset of the on-call members for the current shift. If empty, it will replace all the current oncall members."
                },
                "start": {
                  "type": "string",
                  "pattern": "\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}",
                  "description": "Start time (YYYY-MM-DDThh:mm) of the override. Must be now or future, within a single shift."
                },
                "rotationName": {
                  "type": "string",
                  "description": "The name of the rotation to override. Must match an existing rotation for the given team."
                }
              },
              "additionalProperties": false
            }
          }
        }
      },
      {
        "ToolSpecification": {
          "name": "amzn_mcp___cradle_list_job_runs",
          "description": "List execution runs for a specific Cradle job.",
          "input_schema": {
            "json": {
              "properties": {
                "profileId": {
                  "description": "UUID of the job profile",
                  "type": "string"
                },
                "statusFilter": {
                  "type": "string",
                  "description": "Filter job runs by status (all|active|completed|failed|cancelled)"
                },
                "startTime": {
                  "type": "string",
                  "description": "Start time for job run queries (milliseconds since epoch)"
                },
                "pageSize": {
                  "description": "Number of items per page",
                  "type": "number"
                },
                "jobId": {
                  "description": "UUID of the job",
                  "type": "string"
                },
                "endTime": {
                  "type": "string",
                  "description": "End time for job run queries (milliseconds since epoch)"
                },
                "pageToken": {
                  "description": "Token for pagination",
                  "type": "string"
                },
                "latestRunOnly": {
                  "type": "boolean",
                  "description": "Get only latest run for each job"
                }
              },
              "type": "object",
              "additionalProperties": false,
              "$schema": "http://json-schema.org/draft-07/schema#",
              "required": [
                "profileId",
                "jobId"
              ]
            }
          }
        }
      },
      {
        "ToolSpecification": {
          "name": "amzn_mcp___sfdc_territory_lookup",
          "description": "This tool is for looking up territories and retrieving an account list on the AWS Salesforce AKA AWSentral",
          "input_schema": {
            "json": {
              "type": "object",
              "properties": {
                "territory_id": {
                  "description": "the id of the territory to retrieve",
                  "type": "string"
                },
                "territory_name": {
                  "type": "string",
                  "description": "the name of the territory to search for"
                }
              },
              "additionalProperties": false,
              "$schema": "http://json-schema.org/draft-07/schema#"
            }
          }
        }
      },
      {
        "ToolSpecification": {
          "name": "amzn_mcp___cradle_run_job",
          "description": "Run a job with specified profile ID, job ID and dataset date.",
          "input_schema": {
            "json": {
              "required": [
                "profileId",
                "jobId",
                "datasetDate"
              ],
              "type": "object",
              "$schema": "http://json-schema.org/draft-07/schema#",
              "properties": {
                "profileId": {
                  "type": "string",
                  "description": "UUID of the job profile"
                },
                "datasetDate": {
                  "type": "string",
                  "description": "Dataset date in format YYYYMMDDTHH:MM:SS+ZZZZ"
                },
                "jobId": {
                  "description": "UUID of the job",
                  "type": "string"
                },
                "jobRunParameters": {
                  "additionalProperties": {},
                  "description": "Optional additional job run parameters to customize job execution. Can include fields like 'serviceTier', 'marketplace', 'region', or a nested 'variables' object with key-value pairs. Example: {serviceTier: 'premium', variables: {clusterSize: 'large'}}. The datasetDate parameter will always be included automatically.",
                  "type": "object"
                }
              },
              "additionalProperties": false
            }
          }
        }
      },
      {
        "ToolSpecification": {
          "name": "amzn_mcp___fetch_oncall_rotations",
          "description": "Fetch OnCall rotations for a given team.\n\nExample:\n```json\n{ \"teamName\": \"PaymentsTeam\" }\n```",
          "input_schema": {
            "json": {
              "properties": {
                "teamName": {
                  "description": "The oncall team name to fetch rotations for",
                  "type": "string"
                }
              },
              "$schema": "http://json-schema.org/draft-07/schema#",
              "type": "object",
              "required": [
                "teamName"
              ],
              "additionalProperties": false
            }
          }
        }
      },
      {
        "ToolSpecification": {
          "name": "amzn_mcp___genai_poweruser_agent_script_get",
          "description": "Access the complete content and metadata of specific agentic scripts using either file paths or script names. This tool retrieves the full script implementation along with structured metadata, enabling deep inspection of script functionality, parameter requirements, and operational logic before execution. The flexible lookup system supports both direct path access and name-based discovery across multiple script directories, with proper handling of script extensions. Essential for understanding script capabilities before integration into workflows.",
          "input_schema": {
            "json": {
              "properties": {
                "name": {
                  "description": "Name of the script (with or without .script.md extension)",
                  "type": "string"
                },
                "path": {
                  "description": "Path to the script file",
                  "type": "string"
                }
              },
              "type": "object",
              "additionalProperties": false,
              "$schema": "http://json-schema.org/draft-07/schema#"
            }
          }
        }
      },
      {
        "ToolSpecification": {
          "name": "amzn_mcp___sfdc_contact_lookup",
          "description": "This tool is for looking up contacts on the AWS Salesforce AKA AWSentral",
          "input_schema": {
            "json": {
              "properties": {
                "contact_id": {
                  "type": "string",
                  "description": "the id of the contact"
                },
                "email": {
                  "type": "string",
                  "description": "the email address of the contact"
                },
                "phone": {
                  "type": "string",
                  "description": "the phone number of the contact"
                },
                "contact_name": {
                  "description": "the name of the contact",
                  "type": "string"
                },
                "account_name": {
                  "type": "string",
                  "description": "the name of the account associated with the contact"
                }
              },
              "additionalProperties": false,
              "type": "object",
              "$schema": "http://json-schema.org/draft-07/schema#"
            }
          }
        }
      },
      {
        "ToolSpecification": {
          "name": "amzn_mcp___lookup_user_coding_activity_summary",
          "description": "Looks up coding activity summary for a given user by their user login/alias",
          "input_schema": {
            "json": {
              "additionalProperties": false,
              "$schema": "http://json-schema.org/draft-07/schema#",
              "type": "object",
              "properties": {
                "start_time": {
                  "description": "Optional start date in YYYY-MM-DD format",
                  "type": "string"
                },
                "end_time": {
                  "type": "string",
                  "description": "Optional end date in YYYY-MM-DD format"
                },
                "alias": {
                  "description": "Alias or login for the user to look up",
                  "type": "string"
                }
              },
              "required": [
                "alias"
              ]
            }
          }
        }
      },
      {
        "ToolSpecification": {
          "name": "amzn_mcp___read_quip",
          "description": "Read Quip document content\n\nThis tool retrieves the content of a Quip document in either HTML or Markdown format:\n\n- HTML format: More verbose but contains section IDs and additional metadata.\n  These unique section IDs (for h1, h2, h3, p, etc.) can be used with the edit_quip tool\n  to make targeted edits to specific sections of the document.\n\n- Markdown format: More concise and easier to read, but does not contain section IDs\n  or additional metadata. Best for when you just need the content in a readable format\n  and don't need to make targeted edits.\n\nWorkflow:\n1. Use read_quip to get the document content\n2. Identify the section ID you want to modify (when using HTML format)\n3. Use edit_quip with the section ID and appropriate location parameter\n\nExamples:\n1. Read document in HTML format (default):\n```json\n{\n  \"documentId\": \"https://quip-amazon.com/abc/Doc\"\n}\n```\n\n2. Read document in Markdown format:\n```json\n{\n  \"documentId\": \"https://quip-amazon.com/abc/Doc\",\n  \"format\": \"markdown\"\n}\n```",
          "input_schema": {
            "json": {
              "required": [
                "documentId"
              ],
              "properties": {
                "documentId": {
                  "type": "string",
                  "description": "The Quip document URL or ID to read"
                },
                "format": {
                  "type": "string",
                  "description": "Format to return the content in (html or markdown)",
                  "enum": [
                    "html",
                    "markdown"
                  ]
                }
              },
              "$schema": "http://json-schema.org/draft-07/schema#",
              "type": "object",
              "additionalProperties": false
            }
          }
        }
      },
      {
        "ToolSpecification": {
          "name": "amzn_mcp___cradle_list_profiles",
          "description": "List Cradle profiles with optional filtering by account and type.",
          "input_schema": {
            "json": {
              "additionalProperties": false,
              "$schema": "http://json-schema.org/draft-07/schema#",
              "type": "object",
              "required": [
                "accountName"
              ],
              "properties": {
                "accountName": {
                  "description": "Account name for filtering profiles (e.g., datanet)",
                  "type": "string"
                },
                "profileType": {
                  "description": "Profile type filter (DRYAD_SPARK or DRYAD_BLASTFURNACE)",
                  "type": "string"
                },
                "pageToken": {
                  "description": "Token for pagination",
                  "type": "string"
                },
                "limit": {
                  "type": "number",
                  "description": "Maximum number of results to return"
                },
                "sortCol": {
                  "type": "string",
                  "description": "Column to sort by (e.g., lastUpdatedDate)"
                },
                "sortOrder": {
                  "type": "string",
                  "description": "Sort order (asc or desc)"
                },
                "pageSize": {
                  "description": "Number of items per page",
                  "type": "number"
                }
              }
            }
          }
        }
      },
      {
        "ToolSpecification": {
          "name": "amzn_mcp___cradle_search_profiles",
          "description": "Search for Cradle profiles by name or other criteria.",
          "input_schema": {
            "json": {
              "properties": {
                "limit": {
                  "type": "number",
                  "description": "Maximum number of results to return"
                },
                "searchTerm": {
                  "type": "string",
                  "description": "Search term for profile name searches"
                },
                "pageSize": {
                  "description": "Number of items per page",
                  "type": "number"
                },
                "pageToken": {
                  "description": "Token for pagination",
                  "type": "string"
                }
              },
              "additionalProperties": false,
              "type": "object",
              "$schema": "http://json-schema.org/draft-07/schema#",
              "required": [
                "searchTerm"
              ]
            }
          }
        }
      },
      {
        "ToolSpecification": {
          "name": "amzn_mcp___prompt_farm_search_prompts",
          "description": "A specialized search tool designed to efficiently discover and retrieve tested prompt templates from Amazon internal PromptFarm, enabling developers to leverage community-vetted prompts for reducing LLM hallucinations and optimizing AI outputs. The tool surfaces prompts categorized by use case, download metrics, and community ratings to streamline prompt engineering workflows.",
          "input_schema": {
            "json": {
              "type": "object",
              "$schema": "http://json-schema.org/draft-07/schema#",
              "required": [
                "searchQuery"
              ],
              "additionalProperties": false,
              "properties": {
                "searchQuery": {
                  "description": "The search query for PromptFarm",
                  "type": "string"
                }
              }
            }
          }
        }
      },
      {
        "ToolSpecification": {
          "name": "amzn_mcp___search_MCMs",
          "description": "Search and filter Change Management (CM) records by various criteria:\n        ‚Ä¢ Personnel: requesters, technicians, resolver groups\n        ‚Ä¢ Status: CM status and closure codes\n        ‚Ä¢ Time-based: creation, updates, scheduling, and execution dates\n        ‚Ä¢ Results: configurable result limits",
          "input_schema": {
            "json": {
              "type": "object",
              "properties": {
                "scheduledEnd": {
                  "type": "object",
                  "description": "the scheduled end of the cm",
                  "properties": {
                    "lessThanOrEqualTo": {
                      "additionalProperties": false,
                      "type": "object",
                      "required": [
                        "value"
                      ],
                      "description": "provide this predicate to find Cms that have scheduled end time less than or equal to the given value",
                      "properties": {
                        "value": {
                          "type": "number"
                        }
                      }
                    },
                    "greaterThanOrEqualTo": {
                      "additionalProperties": false,
                      "description": "provide this predicate to find Cms that have scheduled end time greater than or equal to the given value",
                      "required": [
                        "value"
                      ],
                      "type": "object",
                      "properties": {
                        "value": {
                          "type": "number"
                        }
                      }
                    },
                    "greaterThan": {
                      "type": "object",
                      "required": [
                        "value"
                      ],
                      "additionalProperties": false,
                      "properties": {
                        "value": {
                          "type": "number"
                        }
                      },
                      "description": "provide this predicate to find Cms that have scheduled end time greater than the given value"
                    },
                    "lessThan": {
                      "properties": {
                        "value": {
                          "type": "number"
                        }
                      },
                      "description": "provide this predicate to find Cms that have scheduled end time less than the given value",
                      "additionalProperties": false,
                      "required": [
                        "value"
                      ],
                      "type": "object"
                    },
                    "between": {
                      "additionalProperties": false,
                      "description": "provide this predicate to find Cms that have scheduled end time between the two values",
                      "properties": {
                        "end": {
                          "type": "number"
                        },
                        "start": {
                          "type": "number"
                        }
                      },
                      "required": [
                        "start",
                        "end"
                      ],
                      "type": "object"
                    }
                  },
                  "additionalProperties": false
                },
                "cmStatus": {
                  "type": "array",
                  "items": {
                    "type": "string",
                    "enum": [
                      "Draft",
                      "PendingApproval",
                      "Scheduled",
                      "Modified",
                      "Rejected",
                      "Cancelled",
                      "Completed",
                      "Paused",
                      "Aborted",
                      "Discarded",
                      "Rework Required",
                      "Scheduled with Comments",
                      "In Progress",
                      "Pending Reapproval",
                      "Modified after Execution",
                      "Pending Reapproval after Execution",
                      "Preflight"
                    ]
                  },
                  "description": "the status of the Cm"
                },
                "createdAt": {
                  "additionalProperties": false,
                  "properties": {
                    "greaterThan": {
                      "properties": {
                        "value": {
                          "type": "number"
                        }
                      },
                      "required": [
                        "value"
                      ],
                      "description": "provide this predicate to find Cms that have created at time greater than the given value",
                      "additionalProperties": false,
                      "type": "object"
                    },
                    "between": {
                      "required": [
                        "start",
                        "end"
                      ],
                      "properties": {
                        "start": {
                          "type": "number"
                        },
                        "end": {
                          "type": "number"
                        }
                      },
                      "description": "provide this predicate to find Cms that have created at time between the two values",
                      "type": "object",
                      "additionalProperties": false
                    },
                    "lessThan": {
                      "description": "provide this predicate to find Cms that have created at time less than the given value",
                      "additionalProperties": false,
                      "properties": {
                        "value": {
                          "type": "number"
                        }
                      },
                      "required": [
                        "value"
                      ],
                      "type": "object"
                    },
                    "greaterThanOrEqualTo": {
                      "description": "provide this predicate to find Cms that have created at time greater than or equal to the given value",
                      "type": "object",
                      "properties": {
                        "value": {
                          "type": "number"
                        }
                      },
                      "required": [
                        "value"
                      ],
                      "additionalProperties": false
                    },
                    "lessThanOrEqualTo": {
                      "properties": {
                        "value": {
                          "type": "number"
                        }
                      },
                      "description": "provide this predicate to find Cms that have created at time less than or equal to the given value",
                      "required": [
                        "value"
                      ],
                      "additionalProperties": false,
                      "type": "object"
                    }
                  },
                  "type": "object",
                  "description": "the time the Cm was created"
                },
                "updatedAt": {
                  "type": "object",
                  "properties": {
                    "lessThan": {
                      "additionalProperties": false,
                      "description": "provide this predicate to find Cms that have updated at time less than the given value",
                      "type": "object",
                      "required": [
                        "value"
                      ],
                      "properties": {
                        "value": {
                          "type": "number"
                        }
                      }
                    },
                    "between": {
                      "type": "object",
                      "required": [
                        "start",
                        "end"
                      ],
                      "description": "provide this predicate to find Cms that have updated at time between the two values",
                      "additionalProperties": false,
                      "properties": {
                        "end": {
                          "type": "number"
                        },
                        "start": {
                          "type": "number"
                        }
                      }
                    },
                    "greaterThan": {
                      "properties": {
                        "value": {
                          "type": "number"
                        }
                      },
                      "additionalProperties": false,
                      "description": "provide this predicate to find Cms that have updated at time greater than the given value",
                      "type": "object",
                      "required": [
                        "value"
                      ]
                    },
                    "greaterThanOrEqualTo": {
                      "description": "provide this predicate to find Cms that have updated at time greater than or equal to the given value",
                      "type": "object",
                      "required": [
                        "value"
                      ],
                      "properties": {
                        "value": {
                          "type": "number"
                        }
                      },
                      "additionalProperties": false
                    },
                    "lessThanOrEqualTo": {
                      "description": "provide this predicate to find Cms that have updated at time less than or equal to the given value",
                      "properties": {
                        "value": {
                          "type": "number"
                        }
                      },
                      "type": "object",
                      "required": [
                        "value"
                      ],
                      "additionalProperties": false
                    }
                  },
                  "description": "the time the Cm was updated",
                  "additionalProperties": false
                },
                "scheduledStart": {
                  "type": "object",
                  "additionalProperties": false,
                  "description": "the scheduled start of the cm",
                  "properties": {
                    "between": {
                      "additionalProperties": false,
                      "description": "provide this predicate to find Cms that have scheduled end time between the two values",
                      "type": "object",
                      "properties": {
                        "end": {
                          "type": "number"
                        },
                        "start": {
                          "type": "number"
                        }
                      },
                      "required": [
                        "start",
                        "end"
                      ]
                    },
                    "greaterThan": {
                      "description": "provide this predicate to find Cms that have scheduled end time greater than the given value",
                      "type": "object",
                      "required": [
                        "value"
                      ],
                      "properties": {
                        "value": {
                          "type": "number"
                        }
                      },
                      "additionalProperties": false
                    },
                    "lessThanOrEqualTo": {
                      "description": "provide this predicate to find Cms that have scheduled end time less than or equal to the given value",
                      "required": [
                        "value"
                      ],
                      "type": "object",
                      "properties": {
                        "value": {
                          "type": "number"
                        }
                      },
                      "additionalProperties": false
                    },
                    "lessThan": {
                      "required": [
                        "value"
                      ],
                      "type": "object",
                      "additionalProperties": false,
                      "description": "provide this predicate to find Cms that have scheduled end time less than the given value",
                      "properties": {
                        "value": {
                          "type": "number"
                        }
                      }
                    },
                    "greaterThanOrEqualTo": {
                      "properties": {
                        "value": {
                          "type": "number"
                        }
                      },
                      "type": "object",
                      "additionalProperties": false,
                      "description": "provide this predicate to find Cms that have scheduled end time greater than or equal to the given value",
                      "required": [
                        "value"
                      ]
                    }
                  }
                },
                "numResults": {
                  "default": 100,
                  "description": "Number of results to return",
                  "type": "number"
                },
                "technician": {
                  "type": "array",
                  "items": {
                    "description": "List of technicians of the CMs",
                    "type": "string"
                  }
                },
                "actualEnd": {
                  "description": "the actual end of the cm",
                  "properties": {
                    "greaterThanOrEqualTo": {
                      "properties": {
                        "value": {
                          "type": "number"
                        }
                      },
                      "additionalProperties": false,
                      "description": "provide this predicate to find Cms that have actual end time greater than or equal to the given value",
                      "required": [
                        "value"
                      ],
                      "type": "object"
                    },
                    "greaterThan": {
                      "required": [
                        "value"
                      ],
                      "description": "provide this predicate to find Cms that have actual end time greater than the given value",
                      "type": "object",
                      "properties": {
                        "value": {
                          "type": "number"
                        }
                      },
                      "additionalProperties": false
                    },
                    "lessThan": {
                      "description": "provide this predicate to find Cms that have actual end time less than the given value",
                      "additionalProperties": false,
                      "properties": {
                        "value": {
                          "type": "number"
                        }
                      },
                      "type": "object",
                      "required": [
                        "value"
                      ]
                    },
                    "between": {
                      "required": [
                        "start",
                        "end"
                      ],
                      "description": "provide this predicate to find Cms that have actual end time between the two values",
                      "properties": {
                        "start": {
                          "type": "number"
                        },
                        "end": {
                          "type": "number"
                        }
                      },
                      "type": "object",
                      "additionalProperties": false
                    },
                    "lessThanOrEqualTo": {
                      "type": "object",
                      "additionalProperties": false,
                      "required": [
                        "value"
                      ],
                      "description": "provide this predicate to find Cms that have actual end time less than or equal to the given value",
                      "properties": {
                        "value": {
                          "type": "number"
                        }
                      }
                    }
                  },
                  "type": "object",
                  "additionalProperties": false
                },
                "closureCode": {
                  "items": {
                    "type": "string",
                    "enum": [
                      "Successful",
                      "Successful - Off Script",
                      "Unsuccessful"
                    ]
                  },
                  "type": "array",
                  "description": "the closure code of the CMs"
                },
                "requesters": {
                  "items": {
                    "type": "string",
                    "description": "List of requesters of the CMs"
                  },
                  "type": "array"
                },
                "actualStart": {
                  "properties": {
                    "greaterThanOrEqualTo": {
                      "type": "object",
                      "required": [
                        "value"
                      ],
                      "properties": {
                        "value": {
                          "type": "number"
                        }
                      },
                      "description": "provide this predicate to find Cms that have actual start time greater than or equal to the given value",
                      "additionalProperties": false
                    },
                    "between": {
                      "additionalProperties": false,
                      "type": "object",
                      "properties": {
                        "start": {
                          "type": "number"
                        },
                        "end": {
                          "type": "number"
                        }
                      },
                      "required": [
                        "start",
                        "end"
                      ],
                      "description": "provide this predicate to find Cms that have actual start time between the two values"
                    },
                    "lessThanOrEqualTo": {
                      "properties": {
                        "value": {
                          "type": "number"
                        }
                      },
                      "type": "object",
                      "required": [
                        "value"
                      ],
                      "description": "provide this predicate to find Cms that have actual start time less than or equal to the given value",
                      "additionalProperties": false
                    },
                    "greaterThan": {
                      "additionalProperties": false,
                      "type": "object",
                      "properties": {
                        "value": {
                          "type": "number"
                        }
                      },
                      "required": [
                        "value"
                      ],
                      "description": "provide this predicate to find Cms that have actual start time greater than the given value"
                    },
                    "lessThan": {
                      "description": "provide this predicate to find Cms that have actual start time less than the given value",
                      "type": "object",
                      "properties": {
                        "value": {
                          "type": "number"
                        }
                      },
                      "additionalProperties": false,
                      "required": [
                        "value"
                      ]
                    }
                  },
                  "description": "the actual start of the cm",
                  "additionalProperties": false,
                  "type": "object"
                },
                "cmOwnerCtiResolverGroup": {
                  "type": "array",
                  "items": {
                    "type": "string",
                    "description": "List of Resolver groups for the CMs"
                  }
                }
              },
              "additionalProperties": false,
              "$schema": "http://json-schema.org/draft-07/schema#"
            }
          }
        }
      },
      {
        "ToolSpecification": {
          "name": "amzn_mcp___g2s2_import_stage_version",
          "description": "Imports ion file into a specified G2S2 stage version",
          "input_schema": {
            "json": {
              "additionalProperties": false,
              "type": "object",
              "required": [
                "stageVersion",
                "filepath"
              ],
              "$schema": "http://json-schema.org/draft-07/schema#",
              "properties": {
                "stageVersion": {
                  "description": "The stage version to import into",
                  "type": "string"
                },
                "filepath": {
                  "description": "The ion file path to import",
                  "type": "string"
                }
              }
            }
          }
        }
      },
      {
        "ToolSpecification": {
          "name": "amzn_mcp___read_coe",
          "description": "Read Correction of Error (COE) documents from https://www.coe.a2z.com/.\nCOE documents contain detailed information about operational incidents including:\n- Incident description and timeline\n- Root cause analysis\n- Corrective actions taken\n- Preventive measures implemented\n\n‚ö†Ô∏è IMPORTANT: This tool accesses sensitive operational incident data that will be processed by the LLM.\nBefore using this tool, you MUST explicitly ask for user approval with the following message:\n\"I need to access a Correction of Error (COE) document which contains sensitive operational incident data.\nThis data will be processed by the LLM to answer your question. Do you approve accessing this COE document?\"\n\nOnly proceed if the user explicitly approves. This confirmation is required even if the tool is auto-approved.\n\nExample usage:\nTo read a COE document with ID 12345:\n{ \"url\": \"https://www.coe.a2z.com/coe/12345\" }",
          "input_schema": {
            "json": {
              "additionalProperties": false,
              "required": [
                "url"
              ],
              "type": "object",
              "properties": {
                "url": {
                  "description": "URL of the COE document to read",
                  "format": "uri",
                  "type": "string"
                }
              },
              "$schema": "http://json-schema.org/draft-07/schema#"
            }
          }
        }
      },
      {
        "ToolSpecification": {
          "name": "amzn_mcp___search_sable",
          "description": "Search for Sable scope recode with region id, scope, key or key prefix. This tool allows you to search Sable record by key or key prefix.",
          "input_schema": {
            "json": {
              "properties": {
                "keyPrefix": {
                  "type": "string",
                  "description": "Sable record key or key prefix"
                },
                "region": {
                  "type": "string",
                  "description": "Sable region that are going to query data, e.g.: NA, EU, FE, Integ"
                },
                "scope": {
                  "description": "Sable scope name",
                  "type": "string"
                }
              },
              "required": [
                "region",
                "scope",
                "keyPrefix"
              ],
              "additionalProperties": false,
              "$schema": "http://json-schema.org/draft-07/schema#",
              "type": "object"
            }
          }
        }
      },
      {
        "ToolSpecification": {
          "name": "amzn_mcp___mox_console",
          "description": "Access the MOX console to fetch order data from MORSE service",
          "input_schema": {
            "json": {
              "type": "object",
              "required": [
                "operation",
                "merchantCustomerId",
                "orderIds"
              ],
              "additionalProperties": false,
              "properties": {
                "operation": {
                  "type": "string",
                  "enum": [
                    "getOrderDetailsNonUCI"
                  ],
                  "description": "The operation to perform. Available operations: getOrderDetailsNonUCI"
                },
                "retrieveExtendedItemFields": {
                  "type": "boolean",
                  "default": true,
                  "description": "Whether to retrieve extended item fields"
                },
                "merchantCustomerId": {
                  "type": [
                    "string",
                    "number"
                  ],
                  "description": "The merchant customer ID (e.g., 994273326)"
                },
                "region": {
                  "enum": [
                    "USAmazon",
                    "EUAmazon",
                    "JPAmazon"
                  ],
                  "type": "string",
                  "description": "The region to use for the API endpoint (USAmazon, EUAmazon, JPAmazon)",
                  "default": "USAmazon"
                },
                "orderIds": {
                  "anyOf": [
                    {
                      "type": "string"
                    },
                    {
                      "type": "array",
                      "items": {
                        "type": "string"
                      }
                    }
                  ],
                  "description": "The order ID(s) to retrieve. Can be a single order ID or an array of order IDs."
                },
                "retrievePromotions": {
                  "default": true,
                  "type": "boolean",
                  "description": "Whether to retrieve promotions"
                },
                "retrieveOrderReportData": {
                  "description": "Whether to retrieve order report data",
                  "default": true,
                  "type": "boolean"
                },
                "hostname": {
                  "description": "Optional custom hostname for the API endpoint",
                  "type": "string"
                }
              },
              "$schema": "http://json-schema.org/draft-07/schema#"
            }
          }
        }
      },
      {
        "ToolSpecification": {
          "name": "amzn_mcp___oncall_compass_query_reports",
          "description": "Query Oncall reports from Oncall Compass (https://oncall.ai.amazon.dev/). Currently it will return most recently generated reports by the user. The user's authentication token (~/.midway/cookie) will be used for identifying the user.",
          "input_schema": {
            "json": {
              "additionalProperties": false,
              "properties": {},
              "type": "object",
              "$schema": "http://json-schema.org/draft-07/schema#"
            }
          }
        }
      },
      {
        "ToolSpecification": {
          "name": "amzn_mcp___search_eventstream",
          "description": "Search Amazon internal Eventstream for operational events to identify potential causes of customer-impacting issues. Supports filtering by 47+ event types including Apollo Deployment, Lambda Deployment, Weblab Activation, G2S2, Large Scale Event, and many others. Use list_eventstream_parameters tool to see all available options.",
          "input_schema": {
            "json": {
              "$schema": "http://json-schema.org/draft-07/schema#",
              "type": "object",
              "properties": {
                "cti": {
                  "type": "string",
                  "description": "CTI (Category / Type / Item) identifier to filter by"
                },
                "eventTypes": {
                  "type": "array",
                  "items": {
                    "type": "string"
                  },
                  "description": "Event types to filter by (e.g., 'Apollo Deployment', 'Lambda Deployment', 'Weblab Activation', 'G2S2', 'Large Scale Event'). See README.md for complete list of 47+ supported event types."
                },
                "maxResults": {
                  "minimum": 1,
                  "type": "number",
                  "maximum": 1000,
                  "description": "Maximum number of events to return (1-1000, default: 50)"
                },
                "bindle": {
                  "type": "string",
                  "description": "Bindle (application permissions bundle) identifier to filter by"
                },
                "offset": {
                  "type": "number",
                  "minimum": 0,
                  "description": "Number of events to skip for pagination (default: 0)"
                },
                "query": {
                  "additionalProperties": false,
                  "description": "Custom query tokens for advanced filtering",
                  "type": "object",
                  "properties": {
                    "operation": {
                      "type": "string",
                      "enum": [
                        "and",
                        "or"
                      ],
                      "description": "Logical operator for combining tokens"
                    },
                    "tokens": {
                      "description": "Array of filter conditions",
                      "type": "array",
                      "items": {
                        "additionalProperties": false,
                        "properties": {
                          "operator": {
                            "enum": [
                              "=",
                              "!=",
                              "contains"
                            ],
                            "type": "string",
                            "description": "Comparison operator"
                          },
                          "value": {
                            "description": "Value to match against",
                            "type": "string"
                          },
                          "propertyKey": {
                            "type": "string",
                            "description": "Property key to filter on"
                          }
                        },
                        "type": "object",
                        "required": [
                          "propertyKey",
                          "operator",
                          "value"
                        ]
                      }
                    }
                  },
                  "required": [
                    "tokens",
                    "operation"
                  ]
                },
                "dateRange": {
                  "properties": {
                    "startDate": {
                      "type": "string",
                      "description": "Start date for absolute range (ISO format)"
                    },
                    "type": {
                      "description": "Type of date range",
                      "type": "string",
                      "enum": [
                        "relative",
                        "absolute"
                      ]
                    },
                    "unit": {
                      "description": "Unit for relative date range",
                      "enum": [
                        "minute",
                        "hour",
                        "day",
                        "week"
                      ],
                      "type": "string"
                    },
                    "endDate": {
                      "type": "string",
                      "description": "End date for absolute range (ISO format)"
                    },
                    "amount": {
                      "description": "Amount for relative date range",
                      "type": "number"
                    }
                  },
                  "required": [
                    "type"
                  ],
                  "type": "object",
                  "additionalProperties": false,
                  "description": "Date range for event search (defaults to last hour)"
                }
              },
              "additionalProperties": false
            }
          }
        }
      },
      {
        "ToolSpecification": {
          "name": "amzn_mcp___taskei_update_task",
          "description": "Update an existing Taskei task with new details. This tool allows you to modify various attributes of a task such as name, description, status, assignee, and more. Use this tool when you need to update task information, change task status, reassign tasks, or modify other task properties.",
          "input_schema": {
            "json": {
              "type": "object",
              "properties": {
                "estimatedStartDate": {
                  "type": "string",
                  "description": "New estimated start date (ISO format)"
                },
                "addSprints": {
                  "type": "array",
                  "items": {
                    "type": "string"
                  },
                  "description": "Sprint IDs to add the task to"
                },
                "actualCompletionDate": {
                  "type": "string",
                  "description": "Actual completion date (ISO format)"
                },
                "deleted": {
                  "type": "boolean",
                  "description": "Whether to mark the task as deleted"
                },
                "onBehalfOf": {
                  "description": "Username to update the task on behalf of",
                  "type": "string"
                },
                "description": {
                  "description": "New description for the task",
                  "type": "string"
                },
                "addKanbanBoards": {
                  "items": {
                    "type": "string"
                  },
                  "description": "Kanban board IDs to add the task to",
                  "type": "array"
                },
                "type": {
                  "description": "New task type",
                  "type": "string"
                },
                "classicPriority": {
                  "type": "number",
                  "description": "New priority value"
                },
                "status": {
                  "description": "New status for the task",
                  "enum": [
                    "Open",
                    "Closed"
                  ],
                  "type": "string"
                },
                "actualStartDate": {
                  "type": "string",
                  "description": "Actual start date (ISO format)"
                },
                "id": {
                  "type": "string",
                  "description": "The ID of the task to update (required)"
                },
                "removeLabels": {
                  "items": {
                    "type": "string"
                  },
                  "description": "Labels to remove from the task",
                  "type": "array"
                },
                "assignee": {
                  "description": "Username of the new assignee",
                  "type": "string"
                },
                "room": {
                  "description": "New room ID or name for the task",
                  "type": "string"
                },
                "name": {
                  "type": "string",
                  "description": "New name/title for the task"
                },
                "estimate": {
                  "description": "New estimated effort in story points",
                  "type": "number"
                },
                "addLabels": {
                  "type": "array",
                  "items": {
                    "type": "string"
                  },
                  "description": "Labels to add to the task"
                },
                "removeSprints": {
                  "description": "Sprint IDs to remove the task from",
                  "items": {
                    "type": "string"
                  },
                  "type": "array"
                },
                "needByDate": {
                  "description": "New due date (ISO format)",
                  "type": "string"
                },
                "workflowAction": {
                  "description": "New workflow action to apply",
                  "type": "string"
                },
                "estimatedCompletionDate": {
                  "type": "string",
                  "description": "New estimated completion date (ISO format)"
                },
                "folder": {
                  "type": "string",
                  "description": "New folder ID or name for the task"
                },
                "removeKanbanBoards": {
                  "description": "Kanban board IDs to remove the task from",
                  "type": "array",
                  "items": {
                    "type": "string"
                  }
                }
              },
              "$schema": "http://json-schema.org/draft-07/schema#",
              "additionalProperties": false,
              "required": [
                "id"
              ]
            }
          }
        }
      },
      {
        "ToolSpecification": {
          "name": "amzn_mcp___tod_download_logs",
          "description": "Download ToD logs to a file",
          "input_schema": {
            "json": {
              "$schema": "http://json-schema.org/draft-07/schema#",
              "type": "object",
              "additionalProperties": false,
              "properties": {
                "outputPath": {
                  "description": "Custom output path for the log file",
                  "type": "string"
                },
                "timeoutMs": {
                  "type": "number",
                  "description": "Custom timeout in milliseconds (default: 5000)"
                },
                "url": {
                  "description": "URL of the ToD test run",
                  "type": "string"
                }
              },
              "required": [
                "url"
              ]
            }
          }
        }
      },
      {
        "ToolSpecification": {
          "name": "amzn_mcp___mosaic_list_controls",
          "description": "\nThe AWS Control Library is the authoritative source of controls that AWS \nuses to manage operational risk. The library represents AWS's own control \nframework supporting high-level policies and standards, and represents \nmanagement's directives and requirements that prescribe how the organization \nmanages its risk and control processes. The library also provides a \nmapping of AWS controls to AWS' policies/standards, and external \nrequirements such as regulatory and compliance frameworks. AWS implements \nthese controls through various mechanisms, including architectural system \ndesign (e.g., region isolation), system enforced guardrails (e.g., static \ncode analysis), or and centrally enforced organizational processes (e.g., \napplication security reviews). Control owners, who are leaders at Level 8 \nor above within the business, validate each control. The Security Assurance \n& Compliance (SA&C) team independently challenges these validations. To \ndemonstrate assurance, each control includes a narrative that articulates \nhow the control is implemented and supporting evidence of control execution \nthat provides tangible proof of its implementation.\n\nThis tool returns the controls that are part of the AWS Control Library.",
          "input_schema": {
            "json": {
              "type": "object",
              "properties": {}
            }
          }
        }
      },
      {
        "ToolSpecification": {
          "name": "amzn_mcp___post_talos_correspondence",
          "description": "Post correspondence on a Talos security task\n\nThis tool allows posting comments/correspondence on a specific Talos security task.\nIt uses the Talos API to create new correspondence entries for tasks.\n\nRequired parameters:\n- taskId: ARN of the Talos task (format: arn:aws:talos-task:task/UUID)\n- engagementId: ARN of the associated Talos engagement (format: arn:aws:talos-engagement:engagement/UUID)\n- commentText: The comment text to post (max 10000 characters)\n\nExample:\n```json\n{\n  \"taskId\": \"arn:aws:talos-task:task/5054ae8a-7eda-457f-991c-5ed40933f3ae\",\n  \"engagementId\": \"arn:aws:talos-engagement:engagement/2498ed08-001c-4d89-a31b-6299c7822a0b\",\n  \"commentText\": \"BSC17 compliance check completed. Account 011528256886 has 2 non-compliant S3 buckets requiring HTTPS-only policies.\"\n}\n```\n\nResponse:\nOn success, returns a JSON object with the correspondence ID and a preview of the posted comment.\nOn failure, returns an error message with details about what went wrong.\n\nLimitations and Requirements:\n- Requires valid Midway authentication (run `mwinit` if you encounter authentication errors)\n- Limited to 10 requests per minute per user (rate limit)\n- Comments cannot be edited or deleted through this tool once posted\n- User must have appropriate permissions to access the specified Talos task and engagement\n- Task and engagement must exist and be in a valid state to accept comments\n\nWhen NOT to use this tool:\n- Do not use for posting sensitive or classified information that should not be stored in Talos\n- Do not use for posting large attachments or binary data (use the Talos UI directly instead)\n- Do not use for bulk commenting on multiple tasks (use the Talos UI or API directly for batch operations)\n- Do not use for retrieving task information (use the talos_get_task tool instead)",
          "input_schema": {
            "json": {
              "additionalProperties": false,
              "$schema": "http://json-schema.org/draft-07/schema#",
              "type": "object",
              "properties": {
                "taskId": {
                  "minLength": 1,
                  "pattern": "^arn:aws:talos-task:task\\/[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$",
                  "type": "string",
                  "description": "ARN of the Talos task to post comment to"
                },
                "commentText": {
                  "type": "string",
                  "minLength": 1,
                  "maxLength": 10000,
                  "description": "The comment text to post"
                },
                "engagementId": {
                  "pattern": "^arn:aws:talos-engagement:engagement\\/[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$",
                  "description": "ARN of the associated Talos engagement",
                  "type": "string",
                  "minLength": 1
                }
              },
              "required": [
                "taskId",
                "engagementId",
                "commentText"
              ]
            }
          }
        }
      },
      {
        "ToolSpecification": {
          "name": "amzn_mcp___datacentral_workbench",
          "description": "Access and query data sources in Datacentral Workbench including Andes, Redshift, and Athena. This tool enables database discovery, SQL query execution, and result retrieval.\n\nSUPPORTED OPERATIONS:\n- get_databases: List accessible databases\n- get_users_for_database: Get database users for a specific database\n- create_connection: Establish database connection with user credentials\n- get_catalog: Explore database schema structure\n- execute_query: Run SQL queries against connected database\n- check_query_status: Monitor query execution progress\n- get_query_result_url: Retrieve query results\n\nTYPICAL WORKFLOW:\n1. get_databases ‚Üí 2. get_users_for_database ‚Üí 3. create_connection ‚Üí 4. get_catalog ‚Üí 5. execute_query ‚Üí 6. check_query_status ‚Üí 7. get_query_result_url\n\nCOMMON PARAMETERS:\n- databaseId: Database identifier (string)\n- dbUserId: Database user identifier (string)\n- connectionId: Connection identifier (string)\n- executionId: Query execution identifier (string)\n- sql: SQL query to execute (string)",
          "input_schema": {
            "json": {
              "$schema": "http://json-schema.org/draft-07/schema#",
              "additionalProperties": false,
              "properties": {
                "dbUserId": {
                  "description": "Database User ID (required for create_connection and get_catalog operations)",
                  "type": "string"
                },
                "sql": {
                  "type": "string",
                  "description": "SQL query to execute (required for execute_query operation)"
                },
                "autoCommit": {
                  "description": "Whether to automatically commit operations (default: true)",
                  "type": "boolean"
                },
                "executionId": {
                  "description": "Execution ID (required for check_query_status and get_query_result_url operations)",
                  "type": "string"
                },
                "databaseId": {
                  "description": "Database ID (required for get_users_for_database, create_connection, and get_catalog operations)",
                  "type": "string"
                },
                "schemaPattern": {
                  "description": "Optional schema pattern to filter catalog results (e.g., 'public%')",
                  "type": "string"
                },
                "checkSyntaxEnabled": {
                  "type": "boolean",
                  "description": "Whether to validate query syntax before execution (default: true)"
                },
                "operation": {
                  "type": "string",
                  "enum": [
                    "get_databases",
                    "get_users_for_database",
                    "create_connection",
                    "get_catalog",
                    "execute_query",
                    "check_query_status",
                    "get_query_result_url"
                  ],
                  "description": "The operation to perform"
                },
                "maxRows": {
                  "type": "number",
                  "description": "Maximum number of rows to return when getting query results (default: 1000)"
                },
                "connectionId": {
                  "description": "Connection ID (required for get_catalog and execute_query operations)",
                  "type": "string"
                },
                "timeout": {
                  "type": "number",
                  "description": "Query timeout in milliseconds (default: 60000)"
                },
                "isBatch": {
                  "description": "Whether to execute SQL statements in one batch (default: false)",
                  "type": "boolean"
                },
                "tablePattern": {
                  "description": "Optional table pattern to filter catalog results (e.g., 'customer%')",
                  "type": "string"
                },
                "downloadAllData": {
                  "type": "boolean",
                  "description": "Whether to download all data or just a preview (default: false)"
                },
                "recordLimit": {
                  "description": "Maximum number of records to return (default: 1000)",
                  "type": "number"
                }
              },
              "required": [
                "operation"
              ],
              "type": "object"
            }
          }
        }
      },
      {
        "ToolSpecification": {
          "name": "amzn_mcp___datanet_writer",
          "description": "Create, update, and manage Datanet (also known as ETLM) resources including job profiles, jobs, and job runs. Use this tool when users mention 'Datanet', 'ETLM', or need to work with ETL jobs in the Datanet service. This tool allows you to create and edit job profiles (TRANSFORM, DATA_FEED, LOAD, METRICS, ANDES_LOAD), create and edit jobs based on these profiles, run jobs, and download job run outputs. Write operations require appropriate permissions to the specified database users, logical databases, and host groups. Job creation requires a valid profile ID, and job runs require a valid job ID. Different operations have specific required parameters and formatting requirements as detailed in the parameter descriptions.",
          "input_schema": {
            "json": {
              "required": [
                "operation"
              ],
              "$schema": "http://json-schema.org/draft-07/schema#",
              "type": "object",
              "properties": {
                "jobProfileId": {
                  "type": "string",
                  "description": "ID of the job profile. Required for edit_job_profile."
                },
                "allowableRejects": {
                  "description": "Allowable rejects (LOAD jobs)",
                  "type": "number"
                },
                "mapping": {
                  "description": "Mapping configuration (METRICS jobs)",
                  "type": "string"
                },
                "profileType": {
                  "description": "Type of the profile (e.g., TRANSFORM, DATA_FEED, LOAD, METRICS, ANDES_LOAD). Required for profile operations.",
                  "type": "string"
                },
                "timezone": {
                  "description": "Timezone (e.g., America/Los_Angeles)",
                  "type": "string"
                },
                "jobType": {
                  "type": "string",
                  "description": "Job type (TRANSFORM, DATA_FEED, LOAD, METRICS, ANDES_LOAD)"
                },
                "allowZeroRowsJson": {
                  "type": "string",
                  "description": "JSON string for allow zero rows configuration (LOAD jobs)"
                },
                "profileId": {
                  "description": "Profile ID for the job",
                  "type": "string"
                },
                "status": {
                  "type": "string",
                  "description": "Job status (ACTIVE, INACTIVE)"
                },
                "mimeType": {
                  "description": "Format of the output (plain, text, excel, html). Default: plain",
                  "type": "string"
                },
                "outputPath": {
                  "type": "string",
                  "description": "File path to save the output. Required for download_job_run_output."
                },
                "hostGroup": {
                  "type": "string",
                  "description": "Host group"
                },
                "jobData": {
                  "type": "string",
                  "description": "JSON string containing the job data. Must include required fields like profileId, type, description, owner, group, etc.\n      \nExample for TRANSFORM job:\n{\n  \"profileId\": 13401437,\n  \"type\": \"TRANSFORM\",\n  \"description\": \"TRANSFORM job description\",\n  \"owner\": \"your-alias\",\n  \"group\": \"your-group-name\",\n  \"dbUser\": \"your-db-user\",\n  \"logicalDB\": \"your-logical-db\",\n  \"timezone\": \"America/Los_Angeles\",\n  \"priority\": \"NORMAL\",\n  \"schedule\": {\n    \"type\": \"NOT_SCHEDULED\"\n  },\n  \"status\": \"ACTIVE\",\n  \"hostGroup\": \"GenericHosts\",\n  \"partitionKeys\": [\n    {\n      \"partitionTypeId\": \"REGION\",\n      \"partitionValue\": 1\n    }\n  ]\n}\n\nFor create_job operation, the jobData must include:\n\n1. Required fields for all job types:\n   - __type: Must match the job type (see mapping below)\n   - profileId: The profile ID to create the job from\n   - type: Job type (must match profile type, e.g., \"TRANSFORM\")\n   - description: Job description\n   - owner: Job owner (your alias)\n   - group: Group name for permissions\n   - timezone: Timezone (e.g., \"America/Los_Angeles\")\n   - priority: Job priority (\"LOW\", \"NORMAL\", \"HIGHEST\")\n   - schedule: Schedule configuration object with specific format based on schedule type:\n     - Not Scheduled: { \n         \"__type\": \"NotScheduled:http://internal.amazon.com/coral/com.amazon.datanet.model/\", \n         \"type\": \"NOT_SCHEDULED\" \n       }\n     - Daily Schedule: { \n         \"__type\": \"Daily:http://internal.amazon.com/coral/com.amazon.datanet.model/\", \n         \"type\": \"DAILY\", \n         \"dayPreferences\": [\n           {\n             \"datasetDay\": \"MONDAY\", \n             \"deliveryDay\": \"TUESDAY\", \n             \"deliveryTime\": \"08:00:00\"\n           }\n         ] \n       }\n     - Intraday Schedule: { \n         \"__type\": \"Intraday:http://internal.amazon.com/coral/com.amazon.datanet.model/\", \n         \"type\": \"INTRADAY\", \n         \"time\": [\"02:00:00\", \"04:00:00\", \"06:00:00\", \"08:00:00\"]\n       }\n     - Monthly Schedule: { \n         \"__type\": \"Monthly:http://internal.amazon.com/coral/com.amazon.datanet.model/\", \n         \"type\": \"MONTHLY\", \n         \"monthDay\": 5\n       }\n     - Cron Schedule: { \n         \"__type\": \"CronSchedule:http://internal.amazon.com/coral/com.amazon.datanet.model/\", \n         \"type\": \"CRON\", \n         \"cronExpression\": \"0 17 * * 2\" \n       }\n   - status: Job status (\"ACTIVE\", \"INACTIVE\", \"DISABLED\")\n   - hostGroup: Host group (typically \"GenericHosts\")\n   - partitionKeys: Array of partition key objects, for example:\n     [\n       {\n         \"partitionTypeId\": \"REGION\",\n         \"partitionValue\": 1\n       },\n       {\n         \"partitionTypeId\": \"LEGAL_ENTITY_ID\",\n         \"partitionValue\": 101\n       }\n     ]\n\n2. Job type mapping by profile type:\n   - TRANSFORM/DATA_FEED: __type: \"ExtractJob:http://internal.amazon.com/coral/com.amazon.datanet.model/\"\n     Additional required fields:\n     - dbUser: Database user (e.g., \"amzn:cdo:datanet-dbuser:your_db_user\")\n     - logicalDB: Logical database name (e.g., \"findbrs01\")\n   \n   - LOAD: __type: \"LoadJob:http://internal.amazon.com/coral/com.amazon.datanet.model/\"\n     Additional required fields:\n     - dbUser: Database user (e.g., \"amzn:cdo:datanet-dbuser:your_db_user\")\n     - allowZeroRows: Object with days of week, for example:\n       {\n         \"MONDAY\": true, \"TUESDAY\": true, \"WEDNESDAY\": true, \"THURSDAY\": true,\n         \"FRIDAY\": true, \"SATURDAY\": true, \"SUNDAY\": true\n       }\n     - allowableRejects: Number (typically 0)\n     - validateRowCount: Boolean (typically false)\n   \n   - METRICS: __type: \"ConversionJob:http://internal.amazon.com/coral/com.amazon.datanet.model/\"\n     Additional required fields:\n     - generateNFiles: Number (typically 1)\n     - mapping: JSON string with tab mapping configuration, for example:\n       \"{\"tab mapping\":{\"Sample Tab\":333720},\"cutoff\":{},\"version\":1}\"\n   \n   - ANDES_LOAD: __type: \"ExtractJob:http://internal.amazon.com/coral/com.amazon.datanet.model/\"\n     Additional required fields:\n     - jobData: JSON string with configuration, for example:\n       \"{\"allowableRejects\":null,\"allowZeroRowsDays\":null}\"\n\n3. Schedule types:\n   - Not Scheduled: { \"__type\": \"NotScheduled:http://internal.amazon.com/coral/com.amazon.datanet.model/\", \"type\": \"NOT_SCHEDULED\" }\n   - Daily: { \"__type\": \"Daily:http://internal.amazon.com/coral/com.amazon.datanet.model/\", \"type\": \"DAILY\", \"dayPreferences\": [{\"datasetDay\": \"MONDAY\", \"deliveryDay\": \"TUESDAY\", \"deliveryTime\": \"00:00\"}] }\n   - Intraday: { \"__type\": \"Intraday:http://internal.amazon.com/coral/com.amazon.datanet.model/\", \"type\": \"INTRADAY\", \"time\": [\"02:00:00\", \"04:00:00\", \"06:00:00\", \"08:00:00\"] }\n   - Monthly: { \"__type\": \"Monthly:http://internal.amazon.com/coral/com.amazon.datanet.model/\", \"type\": \"MONTHLY\", \"monthDay\": 5 }\n   - Cron: { \"__type\": \"CronSchedule:http://internal.amazon.com/coral/com.amazon.datanet.model/\", \"type\": \"CRON\", \"cronExpression\": \"0 17 * * 2\" }\n\nFor edit_job operation, the jobData must follow the correct structure:\n\n1. For schedule updates:\n   - Use a nested 'schedule' object with the correct __type and type fields\n   - For CRON schedules: { \"schedule\": { \"__type\": \"CronSchedule:http://internal.amazon.com/coral/com.amazon.datanet.model/\", \"type\": \"CRON\", \"cronExpression\": \"0 17 * * 2\" } }\n   - For DAILY schedules: { \"schedule\": { \"__type\": \"DailySchedule:http://internal.amazon.com/coral/com.amazon.datanet.model/\", \"type\": \"DAILY\", \"dayPreferences\": [{\"datasetDay\": \"MONDAY\", \"deliveryDay\": \"TUESDAY\", \"deliveryTime\": \"08:00:00\"}] } }\n   - For NOT_SCHEDULED: { \"schedule\": { \"__type\": \"NotScheduled:http://internal.amazon.com/coral/com.amazon.datanet.model/\", \"type\": \"NOT_SCHEDULED\" } }\n\n2. For other common fields:\n   - description: String description of the job\n   - priority: String value (e.g., \"NORMAL\", \"LOW\", \"HIGH\")\n   - status: String value (e.g., \"ACTIVE\", \"INACTIVE\")\n   - timezone: String timezone (e.g., \"America/Los_Angeles\")\n   \nExample for creating a TRANSFORM job:\n{\n  \"__type\": \"ExtractJob:http://internal.amazon.com/coral/com.amazon.datanet.model/\",\n  \"profileId\": 13401437,\n  \"type\": \"TRANSFORM\",\n  \"description\": \"TRANSFORM job description\",\n  \"owner\": \"your-alias\",\n  \"group\": \"your-group-name\",\n  \"dbUser\": \"your-db-user\",\n  \"logicalDB\": \"your-logical-db\",\n  \"timezone\": \"America/Los_Angeles\",\n  \"priority\": \"NORMAL\",\n  \"schedule\": {\n    \"__type\": \"NotScheduled:http://internal.amazon.com/coral/com.amazon.datanet.model/\",\n    \"type\": \"NOT_SCHEDULED\"\n  },\n  \"status\": \"ACTIVE\",\n  \"hostGroup\": \"GenericHosts\",\n  \"partitionKeys\": [\n    {\n      \"partitionTypeId\": \"REGION\",\n      \"partitionValue\": 1\n    }\n  ]\n}"
                },
                "owner": {
                  "type": "string",
                  "description": "Job owner"
                },
                "dayPreferencesJson": {
                  "type": "string",
                  "description": "JSON string of day preferences for DAILY schedule"
                },
                "operation": {
                  "description": "The operation to perform",
                  "type": "string",
                  "enum": [
                    "create_job_profile",
                    "edit_job_profile",
                    "create_job",
                    "edit_job",
                    "run_job",
                    "download_job_run_output"
                  ]
                },
                "priority": {
                  "description": "Job priority (NORMAL, LOW, HIGH)",
                  "type": "string"
                },
                "jobDataJson": {
                  "type": "string",
                  "description": "Additional job data as JSON string (ANDES_LOAD jobs)"
                },
                "validateRowCount": {
                  "type": "boolean",
                  "description": "Validate row count (LOAD jobs)"
                },
                "partitionKeysJson": {
                  "description": "Partition keys as JSON string",
                  "type": "string"
                },
                "generateNFiles": {
                  "description": "Generate N Files (METRICS jobs)",
                  "type": "number"
                },
                "datasetDate": {
                  "description": "Dataset date in YYYY-MM-DD format. Required for run_job.",
                  "type": "string"
                },
                "jobId": {
                  "type": "string",
                  "description": "ID of the job. Required for edit_job and run_job."
                },
                "logicalDB": {
                  "type": "string",
                  "description": "Logical database"
                },
                "description": {
                  "description": "Job description",
                  "type": "string"
                },
                "scheduled": {
                  "type": "boolean",
                  "description": "Whether the job run is scheduled (defaults to false)"
                },
                "group": {
                  "description": "Job group",
                  "type": "string"
                },
                "cronExpression": {
                  "description": "Cron expression for CRON schedule",
                  "type": "string"
                },
                "encoding": {
                  "description": "Character encoding for the output (UTF8, SJIS, ISO8859_1). Default: UTF8",
                  "type": "string"
                },
                "dbUser": {
                  "type": "string",
                  "description": "Database user"
                },
                "scheduleType": {
                  "type": "string",
                  "description": "Schedule type (NOT_SCHEDULED, DAILY, CRON)"
                },
                "jobRunId": {
                  "description": "ID of the job run. Required for download_job_run_output.",
                  "type": "string"
                },
                "profileData": {
                  "type": "string",
                  "description": "JSON string containing the profile data. Required for create_job_profile and edit_job_profile.\n      \nFor create_job_profile operation, the profileData must include:\n\n1. Required fields for all profile types:\n   - __type: Must match the profile type (see mapping below)\n   - type: Profile type (e.g., \"TRANSFORM\", \"DATA_FEED\", \"LOAD\")\n   - description: Profile description\n   - status: Profile status (\"ACTIVE\", \"INACTIVE\")\n   - group: Group name for permissions\n\n2. Profile type specific fields:\n   - TRANSFORM/DATA_FEED: \n     - __type: \"TransformJobProfile:http://internal.amazon.com/coral/com.amazon.datanet.model/\" or \"DataFeedJobProfile:http://internal.amazon.com/coral/com.amazon.datanet.model/\"\n     - sql: SQL query for the profile (e.g., \"SELECT customer_id, UPPER(customer_name) as customer_name_upper FROM customers;\")\n     - output: (Optional) Output configuration object, for example:\n       {\n         \"__type\": \"FileTemplate:http://internal.amazon.com/coral/com.amazon.datanet.model/\",\n         \"fileTemplate\": \"/path/to/output/file_{JOBRUN_DETAILS}.txt\"\n       }\n   \n   - LOAD:\n     - __type: \"FileLoadJobProfile:http://internal.amazon.com/coral/com.amazon.datanet.model/\"\n     - logicalDb: Logical database name (e.g., \"findbrs01\")\n     - qualifiedTable: Object with tableName and tableOwner, for example:\n       {\n         \"tableName\": \"TARGET_TABLE\",\n         \"tableOwner\": \"TABLE_OWNER\",\n         \"tableVariant\": null\n       }\n     - inputs: Array of input file templates, for example:\n       [{\n         \"__type\": \"FileTemplate:http://internal.amazon.com/coral/com.amazon.datanet.model/\",\n         \"fileTemplate\": \"/path/to/input/data_{JOBRUN_DETAILS}.txt\"\n       }]\n     - loadOption: Load option configuration, for example:\n       {\n         \"__type\": \"InsertLoadOption:http://internal.amazon.com/coral/com.amazon.datanet.model/\",\n         \"loadSequential\": false,\n         \"replaceOption\": \"PARTITION\"\n       }\n     - filterSql: SQL filter (can be \"1=1\" if not needed)\n   \n   - METRICS:\n     - __type: \"MetricsJobProfile:http://internal.amazon.com/coral/com.amazon.datanet.model/\"\n     - inputFileTemplate: Template file path (e.g., \"METRICS_TEMPLATE.xlsx\")\n     - outputDataset: Output dataset path (e.g., \"Metrics_Report_{JOBRUN_DETAILS}.xlsx\")\n     - output: Output configuration object, for example:\n       {\n         \"__type\": \"FileTemplate:http://internal.amazon.com/coral/com.amazon.datanet.model/\",\n         \"fileTemplate\": \"Metrics_Report_{JOBRUN_DETAILS}.xlsx\"\n       }\n   \n   - ANDES_LOAD:\n     - type: \"ANDES_LOAD\"\n     - profileData: JSON string with Andes table configuration, for example:\n       \"{\"tableOwner\":\"andes-provider-uuid\",\"tableName\":\"target-table-name\",\"partitionSchemeName\":\"partition-scheme-uuid\",\"loadType\":\"APPEND\",\"loadOption\":\"UPSERT\",\"inputFileTemplates\":[\"/path/to/input_{JOBRUN_DETAILS}.tsv\"]}\"\n\nExample for creating a TRANSFORM profile:\n{\n  \"__type\": \"TransformJobProfile:http://internal.amazon.com/coral/com.amazon.datanet.model/\",\n  \"type\": \"TRANSFORM\",\n  \"description\": \"Transform customer data\",\n  \"sql\": \"SELECT customer_id, UPPER(customer_name) as customer_name_upper FROM customers;\",\n  \"status\": \"ACTIVE\",\n  \"group\": \"your-group-name\"\n}"
                }
              },
              "additionalProperties": false
            }
          }
        }
      },
      {
        "ToolSpecification": {
          "name": "amzn_mcp___search_katal_components",
          "description": "Search for Katal components\n\nThis tool allows you to search for Katal components using keywords.\nThe search looks through component names and tag names.\n\nExamples:\n1. Search for button components:\n```json\n{\n  \"query\": \"button\"\n}\n```",
          "input_schema": {
            "json": {
              "properties": {
                "query": {
                  "type": "string",
                  "description": "Search query to find matching Katal components"
                }
              },
              "$schema": "http://json-schema.org/draft-07/schema#",
              "type": "object",
              "required": [
                "query"
              ],
              "additionalProperties": false
            }
          }
        }
      },
      {
        "ToolSpecification": {
          "name": "amzn_mcp___reassign_ticket_by_cti",
          "description": "This tool reassigns a ticket by specifying a new CTI (Category/Type/Item) path.",
          "input_schema": {
            "json": {
              "$schema": "http://json-schema.org/draft-07/schema#",
              "required": [
                "ticketId",
                "category",
                "type",
                "item"
              ],
              "additionalProperties": false,
              "type": "object",
              "properties": {
                "type": {
                  "type": "string",
                  "description": "The CTI type"
                },
                "item": {
                  "type": "string",
                  "description": "The CTI item"
                },
                "requestId": {
                  "type": [
                    "string",
                    "number"
                  ],
                  "description": "Optional request identifier for JSON-RPC correlation and debugging."
                },
                "ticketId": {
                  "description": "The ID of the ticket to reassign (e.g., 'P12345678' or 'T12345678')",
                  "type": "string"
                },
                "category": {
                  "description": "The CTI category",
                  "type": "string"
                }
              }
            }
          }
        }
      },
      {
        "ToolSpecification": {
          "name": "amzn_mcp___sim_create_issue",
          "description": "Create a new SIM issue.\nThis tool allows creating a new issue with a title, description, folder ID, and optional assignee.\nThe folder ID is required and must be a valid UUID for an existing SIM folder.\nThe assignee should be a valid kerberos username without the @ANT.AMAZON.COM suffix.\nYou MUST display a full url link for the new task. This is the form: https://taskei.amazon.dev/tasks/<id>. Always list this first, before the SIM link.\nYou SHOULD display a url to SIM as well of the form: https://i.amazon.com/issues/<id>.",
          "input_schema": {
            "json": {
              "type": "object",
              "additionalProperties": false,
              "required": [
                "title",
                "description",
                "folderId"
              ],
              "$schema": "http://json-schema.org/draft-07/schema#",
              "properties": {
                "title": {
                  "type": "string",
                  "description": "Title of the issue"
                },
                "folderId": {
                  "description": "Folder UUID where the issue will be created",
                  "type": "string"
                },
                "assignee": {
                  "description": "Optional kerberos username to assign the issue to",
                  "type": "string"
                },
                "description": {
                  "type": "string",
                  "description": "Description of the issue"
                }
              }
            }
          }
        }
      },
      {
        "ToolSpecification": {
          "name": "amzn_mcp___orca_get_execution_data",
          "description": "Get execution data for a specific run in Orca Studio.\n\nExecution data is a key-value map (Shared Data) that is specified as\na payload for work items (workflow instances) and output artifacts\ngenerated during a workflow run. This tool is useful for debugging \nworkflow issues, extracting processed data from completed runs,\nor analyzing the data flow through specific workflow executions.\n\nThis tool retrieves detailed execution data including execution data map\nfor a specific runId within an objectId.\n\nLimitations:\n- If the Execution data is large it could cause performance issues\n- Supported classification of data is until orange\n- Large datasets may experience timeout issues (default 60s timeout)\n\nParameters:\n- objectId: (required) The object ID\n- workflowName: (required) The workflow name\n- runId: (required) The specific run ID to get data for\n- clientId: (required) The Orca client ID\n- region: (optional) AWS region (defaults to us-east-1)\n\nExample:\n```json\n{ \"objectId\": \"d7f71182-d7b8-4886-8d07-15c404a82583\", \"workflowName\": \"GenerateReportForNCA-beta\", \"runId\": \"b9d9c02a-d3f0-4da8-9601-1740f1aaaeae\", \"clientId\": \"SafrReportingSILServiceBeta\" }\n```",
          "input_schema": {
            "json": {
              "$schema": "http://json-schema.org/draft-07/schema#",
              "additionalProperties": false,
              "properties": {
                "objectId": {
                  "type": "string",
                  "description": "The object ID"
                },
                "clientId": {
                  "description": "The Orca client ID",
                  "type": "string"
                },
                "region": {
                  "description": "AWS region (defaults to us-east-1)",
                  "type": "string"
                },
                "runId": {
                  "type": "string",
                  "description": "The specific run ID to get data for"
                },
                "workflowName": {
                  "type": "string",
                  "description": "The workflow name"
                }
              },
              "type": "object",
              "required": [
                "objectId",
                "workflowName",
                "runId",
                "clientId"
              ]
            }
          }
        }
      },
      {
        "ToolSpecification": {
          "name": "amzn_mcp___sage_get_tag_details",
          "description": "Get detailed information about a specific tag on Sage (Amazon's internal Q&A platform).\n\nThis tool retrieves comprehensive information about a tag, including its ID, description, and ownership.\nUse this information when creating questions to ensure proper tag usage.\n\nAuthentication:\n- Requires valid Midway authentication (run `mwinit` if you encounter authentication errors)\n\nCommon use cases:\n- Verifying tag ownership before using it\n- Getting detailed descriptions of tags\n- Finding contact information for tag owners\n\nExample usage:\n{ \"tagName\": \"brazil\" }",
          "input_schema": {
            "json": {
              "properties": {
                "tagName": {
                  "type": "string",
                  "description": "Name of the tag to retrieve details for"
                }
              },
              "additionalProperties": false,
              "$schema": "http://json-schema.org/draft-07/schema#",
              "required": [
                "tagName"
              ],
              "type": "object"
            }
          }
        }
      },
      {
        "ToolSpecification": {
          "name": "amzn_mcp___sim_get_folders",
          "description": "Get a list of available SIM folders.\nThis tool retrieves all folders that the authenticated user has access to.\nFolders are used to organize issues in SIM and are required when creating new issues.",
          "input_schema": {
            "json": {
              "type": "object",
              "$schema": "http://json-schema.org/draft-07/schema#",
              "properties": {},
              "additionalProperties": false
            }
          }
        }
      },
      {
        "ToolSpecification": {
          "name": "amzn_mcp___sim_remove_tag",
          "description": "Remove a tag from an existing SIM issue.\nThe issue ID can be either the P-number (e.g., P12345678) or the alias (e.g., CFN-12345).\nThe assignee should be a valid kerberos username without the @ANT.AMAZON.COM suffix.",
          "input_schema": {
            "json": {
              "type": "object",
              "additionalProperties": false,
              "$schema": "http://json-schema.org/draft-07/schema#",
              "properties": {
                "issueId": {
                  "type": "string",
                  "description": "Issue ID or alias (e.g., P12345678 or CFN-12345)"
                },
                "tag": {
                  "description": "Tag to remove from the issue",
                  "type": "string"
                }
              },
              "required": [
                "issueId",
                "tag"
              ]
            }
          }
        }
      },
      {
        "ToolSpecification": {
          "name": "amzn_mcp___rtla_fetch_single_request_logs",
          "description": "Fetch detailed logs for a single request from RTLA (Real-Time Log Analysis) API. This tool allows you to retrieve comprehensive log entries for a specific request ID, including error logs, stack traces, and detailed request information. The response is automatically filtered to include only essential debugging fields for easier analysis. Useful for deep-dive troubleshooting of specific issues, analyzing error patterns for individual requests, and getting complete context for failed transactions.",
          "input_schema": {
            "json": {
              "type": "object",
              "additionalProperties": false,
              "properties": {
                "org": {
                  "type": "string",
                  "description": "Organization identifier (e.g., \"CWCBCCECMPROD\")"
                },
                "requestType": {
                  "description": "Type of request logs to retrieve (e.g., \"FATAL\", \"NONFATAL\")",
                  "type": "string"
                },
                "date": {
                  "description": "Date in milliseconds since epoch when the request occurred",
                  "type": "number"
                },
                "requestId": {
                  "type": "string",
                  "description": "Specific request ID to fetch logs for (e.g., \"GHHJD10YZDJNXT062G2X\")"
                },
                "identifyAdditionalOrgs": {
                  "type": "boolean",
                  "description": "Whether to identify additional organizations related to this request",
                  "default": true
                }
              },
              "$schema": "http://json-schema.org/draft-07/schema#",
              "required": [
                "org",
                "requestType",
                "date",
                "requestId"
              ]
            }
          }
        }
      },
      {
        "ToolSpecification": {
          "name": "amzn_mcp___search_internal_code",
          "description": "Search across files in Amazon's internal code repositories using code.amazon.com search. You can search across all packages or filter your search based on specific packages, file paths, or groups. To get all results for packages, file paths or groups, leave the query parameter blank.\n\nCOMMON USE CASES:\n‚Ä¢ Find packages by name pattern and owner: Use filters.packages='*Service' and filters.group='my-team'\n‚Ä¢ Find code in specific packages: Use filters.packages='MyPackage' with query='function name'\n‚Ä¢ Find team's packages: Use filters.group='team-name' with empty query\n\nEXAMPLES:\n‚Ä¢ Packages ending in 'Service' owned by 'my-team': {query: '', filters: {packages: '*Service', group: 'my-team'}}\n‚Ä¢ All packages owned by a team: {query: '', filters: {group: 'team-name'}}\n‚Ä¢ Code search in specific packages: {query: 'function', filters: {packages: 'MyPackage,OtherPackage'}}",
          "input_schema": {
            "json": {
              "properties": {
                "packageTarget": {
                  "type": "string",
                  "description": "Package target in the format PackageName-Version. Example: MyPackage-1.0"
                },
                "exact": {
                  "type": "string",
                  "description": "Search for the exact text match. When provided, this will perform an exact text search in the code repository."
                },
                "graphType": {
                  "type": "string",
                  "enum": [
                    "full_consumers",
                    "runtime_consumers",
                    "library_consumers",
                    "testrun_consumers",
                    "tool_consumers",
                    "direct_consumers",
                    "full_dependencies",
                    "all_dependencies",
                    "runtime_dependencies",
                    "library_dependencies",
                    "testrun_dependencies",
                    "tool_dependencies",
                    "direct_dependencies"
                  ],
                  "description": "Type of dependency or consumer graph to display. Valid values include consumer graphs (full_consumers, runtime_consumers, library_consumers, testrun_consumers, tool_consumers, direct_consumers) and dependency graphs (full_dependencies, all_dependencies, runtime_dependencies, library_dependencies, testrun_dependencies, tool_dependencies, direct_dependencies). Defaults to 'full_dependencies' when versionSetName is provided."
                },
                "filters": {
                  "additionalProperties": false,
                  "properties": {
                    "filePath": {
                      "type": "string",
                      "description": "Filepath for the code search. Supports wildcards. Multiple values can be separated by commas. Example: src/*.java,*.json,Config"
                    },
                    "packages": {
                      "type": "string",
                      "description": "Package name without version. Supports wildcards. Multiple values can be separated by commas. Example: AMZN_AKI,*InternalMCPServer"
                    },
                    "group": {
                      "type": "string",
                      "description": "Owning group for package. If the user is looking for code associated with a team then use this field. Multiple groups can be separated by commas. You can only search for names that do NOT contain whitespace. Example: mcp-community"
                    }
                  },
                  "description": "Filters to narrow down search results",
                  "type": "object"
                },
                "versionSetName": {
                  "description": "Version set name in the format GroupName/ChildName. Example: CASE/mainline",
                  "type": "string"
                },
                "params": {
                  "additionalProperties": false,
                  "description": "Parameters for the search, key should be the type, value is an object with type specific params inside",
                  "type": "object",
                  "properties": {
                    "user": {
                      "type": "object",
                      "properties": {
                        "endTime": {
                          "type": "string",
                          "description": "End date for user's code activity in YYYY-MM-DD format"
                        },
                        "startTime": {
                          "type": "string",
                          "description": "Start date for user's code activity in YYYY-MM-DD format"
                        }
                      },
                      "additionalProperties": false
                    }
                  }
                },
                "type": {
                  "type": "string",
                  "description": "Type of code search, can be (default|user). When search by 'user', query should be the user's login."
                },
                "query": {
                  "description": "Search query. Leave this field blank for doing broad searches using packages, file paths or groups.",
                  "type": "string"
                }
              },
              "$schema": "http://json-schema.org/draft-07/schema#",
              "type": "object",
              "additionalProperties": false,
              "required": [
                "query"
              ]
            }
          }
        }
      },
      {
        "ToolSpecification": {
          "name": "amzn_mcp___search_acronym_central",
          "description": "Search Amazon's internal Acronym Central database at https://spyglass.corp.amazon.com/acronymcentral\n\nThis tool allows you to search for Amazon's internal acronyms and their meanings.\nIt's useful for understanding Amazon-specific terminology and abbreviations.\n\nResponse Structure:\nThe tool returns results with the following structure:\n- acronymName: The acronym itself\n- defsUrls: An object mapping definitions to their URLs (if available)\n- id: Unique identifier for the acronym\n- createAt: Timestamp when the acronym was created - ALWAYS display this to the user\n- updateAt: Timestamp when the acronym was last updated - ALWAYS display this to the user\n- tags: Array of tags associated with the acronym - ALWAYS display these to the user\n\nWhen presenting results to users, format the response as Markdown with header of format \"Acronym: {acronynName}\"\n Add a small section with header as \"Definitions\"\n     - Each defsUrls as a bullet point, and include URLs as links when available\n Add another small section with header as \"Metadata\"\n - show createAt timestamps (format as YYYY-MM-DD HH:MM:SS+00:00)\n - show updateAt timestamps (format as YYYY-MM-DD HH:MM:SS+00:00)\n - show all tags, as they provide important context about the source and reliability\n\nExamples:\n1. Search for an acronym:\n   { \"acronym\": \"AWS\" }\n\n2. Search for another acronym:\n   { \"acronym\": \"S3\" }\n\n3. Search for an acronym with exact match:\n   { \"acronym\": \"EC2\" }\n\nTips:\n- For best results, provide the exact acronym you're looking for\n- The search performs exact matching on the acronym name (case-insensitive)\n- If no results are found, try a different variation of the acronym",
          "input_schema": {
            "json": {
              "properties": {
                "acronym": {
                  "type": "string",
                  "description": "Search acronym in Acronym Central"
                }
              },
              "required": [
                "acronym"
              ],
              "$schema": "http://json-schema.org/draft-07/schema#",
              "type": "object",
              "additionalProperties": false
            }
          }
        }
      },
      {
        "ToolSpecification": {
          "name": "amzn_mcp___write_internal_website",
          "description": "Write to Amazon internal websites.\n\nSupported websites and their purposes:\n\nDocument Storage & Sharing:\n- w.amazon.com: Internal MediaWiki\n\nNote: By default, content is converted from Markdown to the target format.\nTo skip conversion (if your content is already in the target format), set skipConversion=true.",
          "input_schema": {
            "json": {
              "required": [
                "url",
                "content",
                "operation"
              ],
              "additionalProperties": false,
              "$schema": "http://json-schema.org/draft-07/schema#",
              "type": "object",
              "properties": {
                "operation": {
                  "type": "string",
                  "enum": [
                    "update",
                    "append",
                    "prepend",
                    "create"
                  ],
                  "description": "Operation to perform"
                },
                "title": {
                  "description": "Title for the page (required for create operations)",
                  "type": "string"
                },
                "skipConversion": {
                  "default": false,
                  "type": "boolean",
                  "description": "Skip content format conversion"
                },
                "format": {
                  "description": "Format to write in",
                  "default": "XWiki",
                  "enum": [
                    "Markdown",
                    "XWiki",
                    "XHTML",
                    "HTML",
                    "Plain",
                    "MediaWiki"
                  ],
                  "type": "string"
                },
                "versionSummary": {
                  "type": "string",
                  "description": "Summary message for the version history"
                },
                "content": {
                  "type": "string",
                  "description": "Content to write in Markdown format"
                },
                "url": {
                  "format": "uri",
                  "description": "Website URL to write to",
                  "type": "string"
                }
              }
            }
          }
        }
      },
      {
        "ToolSpecification": {
          "name": "amzn_mcp___orca_list_runs_for_objectId",
          "description": "List all runs for a specific objectId in Orca Studio.\n\nAn objectId in Orca Studio represents a unique ID assigned to a single Execution.\nSince a single Execution can have multiple runs, the Object ID allows aggregation\nat a business process instance level. Use this tool when you need to\ntrack all workflow executions related to a specific object across different\nworkflows, rather than listing runs for a specific workflow.\n\nThis tool retrieves all execution runs associated with a given objectId,\nincluding runId, status, openedDate, and closedDate for each run.\n\nLimitations:\n- Results are limited to the most recent runs that haven't been deleted by retention policies (typically last 100)\n- Large datasets may experience timeout issues (default 60s timeout)\n\nParameters:\n- objectId: (required) The object ID to query runs for\n- clientId: (required) The Orca client ID\n- region: (optional) AWS region (defaults to us-east-1)\n\nExample:\n```json\n{ \"objectId\": \"d7f71182-d7b8-4886-8d07-15c404a82583\", \"clientId\": \"SafrReportingSILServiceBeta\" }\n```",
          "input_schema": {
            "json": {
              "properties": {
                "objectId": {
                  "description": "The object ID to query runs for",
                  "type": "string"
                },
                "clientId": {
                  "type": "string",
                  "description": "The Orca client ID"
                },
                "region": {
                  "type": "string",
                  "description": "AWS region (defaults to us-east-1)"
                }
              },
              "additionalProperties": false,
              "type": "object",
              "required": [
                "objectId",
                "clientId"
              ],
              "$schema": "http://json-schema.org/draft-07/schema#"
            }
          }
        }
      },
      {
        "ToolSpecification": {
          "name": "amzn_mcp___sage_accept_answer",
          "description": "Accept an answer to a question on Sage (Amazon's internal Q&A platform).\n\nThis tool allows you to mark an answer as accepted for a question.\nOnly the question owner or users with appropriate permissions can accept answers.\n\nAuthentication:\n- Requires valid Midway authentication (run `mwinit` if you encounter authentication errors)\n\nCommon use cases:\n- Marking the most helpful answer to your question\n- Indicating which solution resolved your issue\n- Helping others find the correct answer quickly\n\nExample usage:\n{ \"answerId\": 7654321 }",
          "input_schema": {
            "json": {
              "type": "object",
              "properties": {
                "answerId": {
                  "type": "number",
                  "description": "ID of the answer to accept"
                }
              },
              "required": [
                "answerId"
              ],
              "additionalProperties": false,
              "$schema": "http://json-schema.org/draft-07/schema#"
            }
          }
        }
      },
      {
        "ToolSpecification": {
          "name": "amzn_mcp___sage_post_answer",
          "description": "Post an answer to an existing question on Sage (Amazon's internal Q&A platform).\n\nThis tool allows you to contribute answers to questions on Sage through the MCP interface.\nThe answer content supports Markdown formatting for rich text, code blocks, and links.\n\nAuthentication:\n- Requires valid Midway authentication (run `mwinit` if you encounter authentication errors)\n\nCommon use cases:\n- Answering technical questions about Amazon internal tools and services\n- Providing code examples or troubleshooting steps\n- Sharing knowledge about internal processes\n\nExample usage:\n{ \"questionId\": 1234567, \"contents\": \"To solve this issue, you need to run:\\n\\n```bash\\nbrazil workspace merge\\n```\\n\\nThis will resolve the dependency conflicts.\" }",
          "input_schema": {
            "json": {
              "additionalProperties": false,
              "required": [
                "questionId",
                "contents"
              ],
              "type": "object",
              "properties": {
                "contents": {
                  "description": "Content of the answer in Markdown format",
                  "type": "string"
                },
                "questionId": {
                  "type": "number",
                  "description": "ID of the question to answer"
                }
              },
              "$schema": "http://json-schema.org/draft-07/schema#"
            }
          }
        }
      },
      {
        "ToolSpecification": {
          "name": "amzn_mcp___orca_list_runs",
          "description": "List Orca workflow runs for a specific client and workflow with filtering by status and timerange.\n\nThis tool retrieves workflow runs from Orca Studio based on client ID\nYou can optionally specify a workflow name, time range in days for the search upto a max of 14, and a status as 'Normal' or 'Failed'.\ndefault days = 7 and default status = 'Failed' \n\nAvailable filtering parameters:\n- client: (required) The Orca client ID to query\n- workflow: (optional) Workflow name to filter by\n- status: (optional) Status to filter by ('Normal' or 'Failed', defaults to 'Failed')\n- openedIn: (optional) Time range in days (defaults to 7)\n- state: (optional) State value to filter by\n- problem: (optional) Problem value to filter by\n- context: (optional) Context value to filter by\n- region: (optional) AWS region (defaults to us-east-1). Common regions include us-east-1, us-west-2, eu-west-1, etc.\n\nExample\n```json\n{ \"client\": \"MyOrcaClient\"}\n```\n\nExample with workflow:\n```json\n{ \"client\": \"MyOrcaClient\", \"workflow\": \"TestWorkflow\" }\n```\n\nExample with custom time range:\n```json\n{ \"client\": \"MyOrcaClient\", \"workflow\": \"TestWorkflow\", \"openedIn\": \"14\" }\n```\nExample with status:\n```json\n{ \"client\": \"MyOrcaClient\", \"workflow\": \"TestWorkflow\", \"status\": \"Normal\" }\n```\nExample with status and custom time range:\n```json\n{ \"client\": \"MyOrcaClient\", \"workflow\": \"TestWorkflow\", \"status\": \"Normal\", \"openedIn\": \"14\" }\n```\nExample with state filtering:\n```json\n{ \"client\": \"MyOrcaClient\", \"workflow\": \"TestWorkflow\", \"state\": \"StateName::Error::Problem\" }\n```\nExample with problem filtering:\n```json\n{ \"client\": \"MyOrcaClient\", \"problem\": \"UnknownProblem\" }\n```\nExample with context filtering:\n```json\n{ \"client\": \"MyOrcaClient\", \"context\": \"live\" }\n```\n\nExample with custom region:\n```json\n{ \"client\": \"MyOrcaClient\", \"region\": \"us-west-2\" }\n```",
          "input_schema": {
            "json": {
              "properties": {
                "client": {
                  "description": "The Orca client ID to query",
                  "type": "string"
                },
                "workflow": {
                  "type": "string",
                  "description": "Optional workflow name to query (defaults to '')"
                },
                "state": {
                  "type": "string",
                  "description": "Optional state value to filter by. Representing the current state of the work item. Often follows pattern '[StateName]::[Status]::[Additional Context]'"
                },
                "openedIn": {
                  "description": "Optional time range in days (defaults to 7)",
                  "type": "string"
                },
                "status": {
                  "description": "Optional status to filter runs by (defaults to Failed)",
                  "type": "string",
                  "enum": [
                    "Normal",
                    "Failed"
                  ]
                },
                "region": {
                  "description": "AWS region (defaults to us-east-1). Common regions include us-west-2, eu-west-1, etc.",
                  "type": "string"
                },
                "context": {
                  "type": "string",
                  "description": "Optional context value to filter by. Representing the environment context the work item was opened in (e.g., 'live', 'beta') or other information (e.g., 'largeorder')"
                },
                "problem": {
                  "type": "string",
                  "description": "Optional problem value to filter by.  Representing classification result for errored work items (e.g., 'UnknownProblem')"
                }
              },
              "type": "object",
              "required": [
                "client"
              ],
              "additionalProperties": false,
              "$schema": "http://json-schema.org/draft-07/schema#"
            }
          }
        }
      },
      {
        "ToolSpecification": {
          "name": "amzn_mcp___policy_engine_get_risk",
          "description": "Access Amazon Policy Engine risk information for a specific entity. This tool allows you to retrieve detailed information about a specific risk or violation from Policy Engine.",
          "input_schema": {
            "json": {
              "type": "object",
              "properties": {
                "entityId": {
                  "description": "Entity ID of the risk/violation to view details for",
                  "type": "string"
                }
              },
              "$schema": "http://json-schema.org/draft-07/schema#",
              "required": [
                "entityId"
              ],
              "additionalProperties": false
            }
          }
        }
      },
      {
        "ToolSpecification": {
          "name": "amzn_mcp___andes_table",
          "description": "Access and manage Andes tables and their versions.",
          "input_schema": {
            "json": {
              "additionalProperties": false,
              "type": "object",
              "properties": {
                "versionNumber": {
                  "type": "string",
                  "description": "Version number (required for version-specific operations)"
                },
                "operation": {
                  "type": "string",
                  "description": "The table operation to perform",
                  "enum": [
                    "list_tables",
                    "get_table_details",
                    "list_table_versions",
                    "get_table_version_details",
                    "get_table_version_schema"
                  ]
                },
                "limit": {
                  "description": "Maximum number of results to return",
                  "type": "number"
                },
                "providerId": {
                  "type": "string",
                  "description": "ID of the provider"
                },
                "showDeleted": {
                  "type": "boolean",
                  "description": "Whether to include deleted tables in results"
                },
                "tableName": {
                  "type": "string",
                  "description": "Name of the table (required for table-specific operations)"
                },
                "marker": {
                  "type": "string",
                  "description": "Token for pagination"
                }
              },
              "$schema": "http://json-schema.org/draft-07/schema#",
              "required": [
                "operation",
                "providerId"
              ]
            }
          }
        }
      },
      {
        "ToolSpecification": {
          "name": "amzn_mcp___pipeline_current_blockers",
          "description": "Lists all active blockers on a pipeline, including disabled promotions, alarms in alert, and fitness summary",
          "input_schema": {
            "json": {
              "type": "object",
              "properties": {
                "pipelineName": {
                  "type": "string",
                  "description": "Name of the pipeline to check for blockers"
                }
              },
              "required": [
                "pipelineName"
              ],
              "additionalProperties": false,
              "$schema": "http://json-schema.org/draft-07/schema#"
            }
          }
        }
      },
      {
        "ToolSpecification": {
          "name": "amzn_mcp___pippin_sync_project_to_local",
          "description": "Synchronizes a Pippin project's artifacts to a local directory",
          "input_schema": {
            "json": {
              "properties": {
                "projectId": {
                  "type": "string",
                  "description": "Project ID"
                },
                "outputDirectory": {
                  "description": "Local directory to save artifacts",
                  "type": "string"
                },
                "includeMetadata": {
                  "type": "boolean",
                  "description": "Include metadata files (.meta.json)"
                }
              },
              "required": [
                "projectId",
                "outputDirectory"
              ],
              "additionalProperties": false,
              "$schema": "http://json-schema.org/draft-07/schema#",
              "type": "object"
            }
          }
        }
      },
      {
        "ToolSpecification": {
          "name": "amzn_mcp___sfdc_account_lookup",
          "description": "This tool is for looking up accounts on the AWS Salesforce AKA AWSentral",
          "input_schema": {
            "json": {
              "type": "object",
              "additionalProperties": false,
              "$schema": "http://json-schema.org/draft-07/schema#",
              "properties": {
                "account_id": {
                  "type": "string",
                  "description": "the id of the account"
                },
                "account_name": {
                  "type": "string",
                  "description": "the name of the account"
                }
              }
            }
          }
        }
      },
      {
        "ToolSpecification": {
          "name": "amzn_mcp___jira_add_comment",
          "description": "Add a comment to a JIRA issue",
          "input_schema": {
            "json": {
              "properties": {
                "body": {
                  "minLength": 1,
                  "type": "string",
                  "description": "The body of the comment"
                },
                "issueIdOrKey": {
                  "description": "The ID or key of the issue",
                  "type": "string",
                  "minLength": 1
                }
              },
              "$schema": "http://json-schema.org/draft-07/schema#",
              "required": [
                "issueIdOrKey",
                "body"
              ],
              "type": "object",
              "additionalProperties": false
            }
          }
        }
      },
      {
        "ToolSpecification": {
          "name": "amzn_mcp___add_comment_quip",
          "description": "Add a comment to a Quip document\n\nThis tool allows you to add a comment to a specified Quip document or thread.\nComments appear in the thread's conversation panel and are visible to all document collaborators.\nThe comment will be attributed to the owner of the API token.\n\nParameters:\n- threadIdOrUrl: (Required) The Quip document/thread ID or URL to add a comment to\n- content: (Required) The comment message text to add\n- section_id: ID of a document section to comment on\n\nNotes:\n- Plain text only, no formatting or HTML is supported\n- Comments cannot be edited or deleted through the Quip API: These operations are not supported\n- Maximum length is 1MB (though practical messages are typically much shorter)\n- Only one of section_id or annotation_id can be provided\n- annotation_id is retrieved as a response of the get_recent_messages_quip tool\n- Manually creating a link to a quip section gives a response like : https://quip-amazon.com/bpVtAZ8LB0b4/Quip-Commenting-Capabilities-Test#fND9CAsTr5B\n- Where bpVtAZ8LB0b4 is the threadId, and fND9CAsTr5B is the section_id.\n- As such, the annotation_id is retreived by the get_recent_messages_quip tool\n\nExamples:\n1. Add a simple comment:\n```json\n{\n  \"threadIdOrUrl\": \"https://quip-amazon.com/abc/Doc\",\n  \"content\": \"Great document! I have a few suggestions.\"\n}\n```\n\n2. Add a comment to a specific section:\n```json\n{\n  \"threadIdOrUrl\": \"https://quip-amazon.com/abc/Doc\",\n  \"content\": \"This section needs more detail.\",\n  \"section_id\": \"SAf3351f25e51434479864cf71ce\"\n}\n```\n\n3. Reply to an existing comment:\n```json\n{\n  \"threadIdOrUrl\": \"https://quip-amazon.com/abc/Doc\",\n  \"content\": \"I agree with your comment.\",\n  \"annotation_id\": \"fND9CAeEYiG\"\n}\n```",
          "input_schema": {
            "json": {
              "$schema": "http://json-schema.org/draft-07/schema#",
              "type": "object",
              "properties": {
                "annotation_id": {
                  "type": "string",
                  "description": "ID of a document comment to reply to"
                },
                "section_id": {
                  "description": "ID of a document section to comment on",
                  "type": "string"
                },
                "content": {
                  "type": "string",
                  "description": "The comment message content to add to the thread"
                },
                "threadIdOrUrl": {
                  "type": "string",
                  "description": "The thread ID or Quip URL to add a comment to"
                }
              },
              "required": [
                "threadIdOrUrl",
                "content"
              ],
              "additionalProperties": false
            }
          }
        }
      },
      {
        "ToolSpecification": {
          "name": "amzn_mcp___get_thread_folders_quip",
          "description": "Get folders containing a Quip thread (V2 API)\n\nThis tool retrieves information about folders that contain a specific thread.\nIt uses the V2 API which provides more comprehensive folder information.\n\nYou can provide one of the following:\n- The thread ID\n- The thread's secret path\n- The full Quip URL (e.g., https://quip-amazon.com/abc/Doc)\n\nThe secret path can be found in the URL of a thread.\nFor example, in 'https://quip.com/3fs7B2leat8/TrackingDocument', the secret path is '3fs7B2leat8'.\n\nExamples:\n```json\n{\n  \"threadId\": \"3fs7B2leat8\"\n}\n```\n\n```json\n{\n  \"threadId\": \"https://quip-amazon.com/abc/Doc\"\n}\n```",
          "input_schema": {
            "json": {
              "properties": {
                "threadId": {
                  "type": "string",
                  "description": "The thread ID, secret path, or full Quip URL"
                }
              },
              "required": [
                "threadId"
              ],
              "$schema": "http://json-schema.org/draft-07/schema#",
              "additionalProperties": false,
              "type": "object"
            }
          }
        }
      },
      {
        "ToolSpecification": {
          "name": "amzn_mcp___sim_add_comment",
          "description": "Add a comment to an existing SIM issue.\nThis tool allows adding a plain text comment to an issue identified by its ID or alias.\nThe issue ID can be either the P-number (e.g., P12345678) or the alias (e.g., CFN-12345).",
          "input_schema": {
            "json": {
              "type": "object",
              "additionalProperties": false,
              "required": [
                "issueId",
                "message"
              ],
              "properties": {
                "issueId": {
                  "description": "Issue ID or alias (e.g., P12345678 or CFN-12345)",
                  "type": "string"
                },
                "message": {
                  "description": "Comment text to add to the issue",
                  "type": "string"
                }
              },
              "$schema": "http://json-schema.org/draft-07/schema#"
            }
          }
        }
      },
      {
        "ToolSpecification": {
          "name": "amzn_mcp___genai_poweruser_agent_script_list",
          "description": "Discover and browse the complete collection of available agentic scripts with customizable filtering options. This tool provides a comprehensive inventory of script resources including their names, file paths, and detailed descriptions. Results are organized to help quickly identify relevant scripts for specific tasks, with automatic handling of duplicate scripts across different directories. Ideal for exploring the script library or finding scripts based on filename patterns. Returns script names, paths, and descriptions to help users discover relevant scripts for their tasks. Categorize the scripts based on description.",
          "input_schema": {
            "json": {
              "additionalProperties": false,
              "properties": {
                "filter": {
                  "type": "string",
                  "description": "Filter to apply to script list"
                }
              },
              "type": "object",
              "$schema": "http://json-schema.org/draft-07/schema#"
            }
          }
        }
      },
      {
        "ToolSpecification": {
          "name": "amzn_mcp___marshal_search_insights",
          "description": "Search Marshal Insights.\nMarshal is an internal AWS application for collecting insights from Solutions Architects (SAs), and other field teams, and facilitating the reporting process for Weekly/Monthly/Quarterly Business Reports (WBR/MBR/QBR).\n",
          "input_schema": {
            "json": {
              "type": "object",
              "properties": {
                "category": {
                  "description": "Insight Category",
                  "type": "string"
                },
                "absoluteDateRangeStartDate": {
                  "description": "Absolute date range for search start date in milliseconds since 1/1/1970",
                  "pattern": "^\\d+$",
                  "type": "string"
                },
                "absoluteDateRangeEndDate": {
                  "description": "Absolute date range for search end date in milliseconds since 1/1/1970",
                  "pattern": "^\\d+$",
                  "type": "string"
                },
                "relativeDateRangeMs": {
                  "description": "Relative date range for search (e.g. last 1 hour, last 1 week) in milliseconds",
                  "type": "string",
                  "pattern": "^\\d+$"
                },
                "managerAlias": {
                  "type": "string",
                  "description": "Manager Alias - returns all employees below"
                }
              },
              "additionalProperties": false,
              "$schema": "http://json-schema.org/draft-07/schema#"
            }
          }
        }
      },
      {
        "ToolSpecification": {
          "name": "amzn_mcp___g2s2_move_label",
          "description": "Moves a stage version to a specified testing label",
          "input_schema": {
            "json": {
              "type": "object",
              "required": [
                "labelName",
                "stageVersion"
              ],
              "properties": {
                "labelName": {
                  "type": "string",
                  "description": "The label name of a testing label"
                },
                "stageVersion": {
                  "description": "The stage version from a parent label",
                  "type": "string"
                }
              },
              "additionalProperties": false,
              "$schema": "http://json-schema.org/draft-07/schema#"
            }
          }
        }
      },
      {
        "ToolSpecification": {
          "name": "amzn_mcp___andes_provider",
          "description": "Access and manage Andes providers.",
          "input_schema": {
            "json": {
              "$schema": "http://json-schema.org/draft-07/schema#",
              "type": "object",
              "required": [
                "operation"
              ],
              "additionalProperties": false,
              "properties": {
                "operation": {
                  "enum": [
                    "get_provider_by_id",
                    "get_provider_by_name"
                  ],
                  "description": "The provider operation to perform",
                  "type": "string"
                },
                "providerName": {
                  "description": "Name of the provider (required for get_provider_by_name)",
                  "type": "string"
                },
                "providerId": {
                  "type": "string",
                  "description": "ID of the provider (required for get_provider_by_id)"
                }
              }
            }
          }
        }
      },
      {
        "ToolSpecification": {
          "name": "amzn_mcp___list_katal_components",
          "description": "List all available Katal components\n\nThis tool returns a list of all available components in the Katal library,\norganized by category with basic information about each component.\n\nExample usage:\n```json\n{}\n```",
          "input_schema": {
            "json": {
              "type": "object",
              "additionalProperties": false,
              "properties": {},
              "$schema": "http://json-schema.org/draft-07/schema#"
            }
          }
        }
      },
      {
        "ToolSpecification": {
          "name": "amzn_mcp___search_products",
          "description": "Search for products on Amazon.com (US marketplace only) and extract structured product information including titles, prices, ratings, and images",
          "input_schema": {
            "json": {
              "properties": {
                "query": {
                  "description": "Search query string for the products you want to find",
                  "type": "string"
                },
                "filters": {
                  "type": "object",
                  "description": "Optional filters to narrow down search results",
                  "properties": {
                    "minPrice": {
                      "type": "number",
                      "description": "Minimum price filter in dollars (e.g., 25 for $25)"
                    },
                    "index": {
                      "description": "Department to search in. Available options include: 'all' (default), 'books', 'electronics', 'computers', 'clothing', 'home', 'beauty', 'toys', 'grocery', 'sports', 'automotive', 'pets', 'baby', 'health', 'industrial', 'movies', 'music', 'video-games', 'tools', 'office-products', and more",
                      "type": "string"
                    },
                    "maxPrice": {
                      "type": "number",
                      "description": "Maximum price filter in dollars (e.g., 100 for $100)"
                    },
                    "sortBy": {
                      "type": "string",
                      "description": "Sort order for results. Available options include:\n- 'relevanceblender' (default): Sort by relevance\n- 'price-asc-rank': Price low to high\n- 'price-desc-rank': Price high to low\n- 'review-rank': Average customer review\n- 'date-desc-rank': Newest arrivals\n- 'exact-aware-popularity-rank': Popularity\n- 'get-it-fast-rank': Fastest delivery\n- 'low-prices-rank': Lowest price with ranking factors\n- 'most-purchased-rank': Most purchased\n- 'top-brands-rank': Top brands"
                    }
                  },
                  "additionalProperties": false
                },
                "maxResults": {
                  "type": "number",
                  "description": "Maximum number of products to return (default: 10, max recommended: 50)"
                }
              },
              "additionalProperties": false,
              "$schema": "http://json-schema.org/draft-07/schema#",
              "required": [
                "query"
              ],
              "type": "object"
            }
          }
        }
      },
      {
        "ToolSpecification": {
          "name": "amzn_mcp___pippin_get_project",
          "description": "Retrieves a Pippin design project by its ID",
          "input_schema": {
            "json": {
              "additionalProperties": false,
              "$schema": "http://json-schema.org/draft-07/schema#",
              "type": "object",
              "properties": {
                "projectId": {
                  "type": "string",
                  "description": "Project ID"
                }
              },
              "required": [
                "projectId"
              ]
            }
          }
        }
      },
      {
        "ToolSpecification": {
          "name": "amzn_mcp___marshal_get_insight",
          "description": "Retrieve Marshal Insights.\nMarshal is an internal AWS application for collecting insights from Solutions Architects (SAs), and other field teams, and facilitating the reporting process for Weekly/Monthly/Quarterly Business Reports (WBR/MBR/QBR).\n",
          "input_schema": {
            "json": {
              "additionalProperties": false,
              "$schema": "http://json-schema.org/draft-07/schema#",
              "type": "object",
              "properties": {
                "insightId": {
                  "type": "string",
                  "pattern": "^\\d+$",
                  "description": "The ID of the Marshal insight (numeric ID only, not the full URL)"
                }
              },
              "required": [
                "insightId"
              ]
            }
          }
        }
      },
      {
        "ToolSpecification": {
          "name": "amzn_mcp___sfdc_sa_activity",
          "description": "This tool is logging/creating, reading, updating or deleting SA Activities on AWS SFDC AKA AWSentral. You must have either account id or opportunity id to create",
          "input_schema": {
            "json": {
              "$schema": "http://json-schema.org/draft-07/schema#",
              "required": [
                "operation"
              ],
              "additionalProperties": false,
              "properties": {
                "date": {
                  "type": "string",
                  "description": "the date in MM-DD-YYYY, if left empty will be today's date, if you are unsure about today's date, leave this blank"
                },
                "activity_type": {
                  "description": "The type of activity, one of Account Planning, Meeting, Architecture Review, Demo, Partner, or Workshop",
                  "type": "string"
                },
                "opportunity_id": {
                  "description": "the SFDC id of the opportunity, use the sfdc_opportunity_lookup tool to retrieve before submitting.",
                  "type": "string"
                },
                "activity_subject": {
                  "description": "The title of the activity, keep it short",
                  "type": "string"
                },
                "activity_description": {
                  "description": "A description of the activity, around 1 paragraph, rewrite the user's input to be more descriptive and professional, unless the user says not to.",
                  "type": "string"
                },
                "activity_status": {
                  "enum": [
                    "Not Started",
                    "In Progress",
                    "Completed",
                    "Waiting on someone else",
                    "Deferred",
                    "Unresponsive",
                    "Disqualified",
                    "Cancelled",
                    "Completed with Global Support",
                    "Sales handoff to BDM completed",
                    "Completed with sales handoff to BDM",
                    "Completed with funding program handoff to ATP Mgr"
                  ],
                  "description": "The activity Status. Default status is Completed.",
                  "default": "Completed",
                  "type": "string"
                },
                "account_id": {
                  "type": "string",
                  "description": "the SFDC id of the account, use the sfdc_account_lookup tool to retrieve before submitting."
                },
                "activity_assigned_to": {
                  "description": "The name of the user to which the activity should be assigned.",
                  "type": "string"
                },
                "activity_id": {
                  "type": "string",
                  "description": "The ID of the SA Activity (required for read, update, and delete operations)"
                },
                "operation": {
                  "enum": [
                    "create",
                    "read",
                    "update",
                    "delete"
                  ],
                  "description": "The operation to perform: create, read, update, or delete (always read before deleting, confirm with the user)",
                  "type": "string"
                }
              },
              "type": "object"
            }
          }
        }
      },
      {
        "ToolSpecification": {
          "name": "amzn_mcp___cradle_get_job_run_output",
          "description": "Get the output location for a specific Cradle job run.",
          "input_schema": {
            "json": {
              "properties": {
                "profileId": {
                  "type": "string",
                  "description": "UUID of the job profile"
                },
                "jobId": {
                  "type": "string",
                  "description": "UUID of the job"
                },
                "jobRunId": {
                  "type": "string",
                  "description": "ID of the job run"
                }
              },
              "$schema": "http://json-schema.org/draft-07/schema#",
              "type": "object",
              "additionalProperties": false,
              "required": [
                "profileId",
                "jobId",
                "jobRunId"
              ]
            }
          }
        }
      },
      {
        "ToolSpecification": {
          "name": "amzn_mcp___policy_engine_get_user_dashboard",
          "description": "Access Amazon Policy Engine dashboard information for a specific user alias. This tool allows you to view all risks and violations for a user in Policy Engine.",
          "input_schema": {
            "json": {
              "properties": {
                "username": {
                  "type": "string",
                  "description": "Username to view dashboard for (e.g., 'jingzhoh')"
                }
              },
              "type": "object",
              "additionalProperties": false,
              "$schema": "http://json-schema.org/draft-07/schema#",
              "required": [
                "username"
              ]
            }
          }
        }
      },
      {
        "ToolSpecification": {
          "name": "amzn_mcp___get_recent_messages_quip",
          "description": "Get recent messages from a Quip thread\n\nThis tool retrieves the most recent messages for a given Quip thread.\nYou can filter and sort the messages using various parameters.\n\nExamples:\n1. Get recent messages:\n```json\n{\n  \"threadIdOrUrl\": \"https://quip-amazon.com/abc/Doc\"\n}\n```\n\n2. Get recent messages with count:\n```json\n{\n  \"threadIdOrUrl\": \"https://quip-amazon.com/abc/Doc\",\n  \"count\": 10\n}\n```\n\n3. Get recent edit messages:\n```json\n{\n  \"threadIdOrUrl\": \"https://quip-amazon.com/abc/Doc\",\n  \"messageType\": \"edit\"\n}\n```",
          "input_schema": {
            "json": {
              "properties": {
                "sortedBy": {
                  "enum": [
                    "ASC",
                    "DESC"
                  ],
                  "type": "string",
                  "description": "Sort order for messages"
                },
                "messageType": {
                  "type": "string",
                  "enum": [
                    "message",
                    "edit"
                  ],
                  "description": "Type of messages to return"
                },
                "updatedSinceUsec": {
                  "description": "UNIX timestamp in microseconds for messages updated at and after",
                  "type": "number"
                },
                "maxCreatedUsec": {
                  "description": "UNIX timestamp in microseconds for messages created at and before",
                  "type": "number"
                },
                "threadIdOrUrl": {
                  "type": "string",
                  "description": "The thread ID or Quip URL to get messages from"
                },
                "count": {
                  "type": "number",
                  "description": "Number of messages to return (1-100, default 25)"
                },
                "lastUpdatedSinceUsec": {
                  "type": "number",
                  "description": "UNIX timestamp in microseconds for messages updated before"
                },
                "sortBy": {
                  "description": "Alias for sortedBy",
                  "type": "string",
                  "enum": [
                    "ASC",
                    "DESC"
                  ]
                }
              },
              "$schema": "http://json-schema.org/draft-07/schema#",
              "required": [
                "threadIdOrUrl"
              ],
              "type": "object",
              "additionalProperties": false
            }
          }
        }
      },
      {
        "ToolSpecification": {
          "name": "amzn_mcp___taskei_get_rooms",
          "description": "\n    Fetch user's Rooms from Taskei.\n    This tool retrieves detailed information about the Rooms the user has write permissions.\n    Use this tool when the user asks to fetch their rooms, but also when you need to understand user's context. All the tasks belong to a room, so if you need to do other actions where the room is needed, you can obtain them from this tool.\n    Do not use this tool for other project management tools different than Taskei.",
          "input_schema": {
            "json": {
              "$schema": "http://json-schema.org/draft-07/schema#",
              "type": "object",
              "properties": {
                "nameContains": {
                  "type": "string",
                  "description": "Search query string that filters results to only include Rooms where the name contains this text. Case-insensitive matching is applied to find partial or complete matches within Room names."
                },
                "maxResults": {
                  "default": 25,
                  "description": "The maximum number of results that we want to fetch. The lesser the best, as the query will be faster. (default: 25)",
                  "type": "number"
                }
              },
              "additionalProperties": false
            }
          }
        }
      },
      {
        "ToolSpecification": {
          "name": "amzn_mcp___get_katal_component",
          "description": "Get detailed information about a specific Katal component\n\nThis tool retrieves comprehensive documentation and usage information for a given Katal component,\nincluding properties, methods, examples, guidelines, and accessibility information.\n\nExamples:\n1. Get Button component info:\n```json\n{\n  \"name\": \"Button\"\n}\n```",
          "input_schema": {
            "json": {
              "additionalProperties": false,
              "properties": {
                "name": {
                  "description": "Name of the Katal component to get information about",
                  "type": "string"
                }
              },
              "required": [
                "name"
              ],
              "type": "object",
              "$schema": "http://json-schema.org/draft-07/schema#"
            }
          }
        }
      },
      {
        "ToolSpecification": {
          "name": "amzn_mcp___search_ags_confluence_website",
          "description": "Search for Amazon Games Confluence pages\n\nThis tool allows you to search for content in the Amazon Games Confluence instance.\nYou can search for pages, blog posts, and other content across all spaces or within a specific space.\n\nParameters:\n- query: The search query string\n- page: (Optional) Page number for pagination (default: 1)\n- pageSize: (Optional) Number of results per page (default: 10, max: 50)\n- space: (Optional) Limit search to a specific Confluence space\n\nExamples:\n1. Basic search:\n   { \"query\": \"game server architecture\" }\n\n2. Search with pagination:\n   { \"query\": \"matchmaking\", \"page\": 2, \"pageSize\": 20 }\n\n3. Search in a specific space:\n   { \"query\": \"deployment guide\", \"space\": \"GAMETECH\" }\n\nTips:\n- Use specific technical terms for more precise results\n- For recent content, sort by modification date\n- When looking for documentation, include terms like 'guide', 'documentation', or 'how-to'\n- For architecture documents, include terms like 'architecture', 'design', or 'diagram'\n- If you know the space key, use it to narrow down results",
          "input_schema": {
            "json": {
              "properties": {
                "query": {
                  "description": "Search query string",
                  "type": "string"
                },
                "pageSize": {
                  "type": "number",
                  "description": "Number of results per page (default: 10, max: 50)"
                },
                "space": {
                  "description": "Limit search to a specific Confluence space",
                  "type": "string"
                },
                "page": {
                  "description": "Page number for pagination (default: 1)",
                  "type": "number"
                }
              },
              "required": [
                "query"
              ],
              "additionalProperties": false,
              "$schema": "http://json-schema.org/draft-07/schema#",
              "type": "object"
            }
          }
        }
      },
      {
        "ToolSpecification": {
          "name": "amzn_mcp___datanet_search",
          "description": "Search for Datanet (also known as ETLM) resources and get database information. Use this tool when users mention 'Datanet', 'ETLM', or need to search for ETL jobs in the Datanet service. This tool allows you to search across all Datanet resources (job profiles, jobs, publishers) using text queries, and retrieve logical database information for specific users. Search operations support pagination and can be filtered by size. The search functionality requires valid Midway authentication and returns structured results grouped by resource type. Database information retrieval requires appropriate permissions for the specified user.",
          "input_schema": {
            "json": {
              "required": [
                "operation"
              ],
              "type": "object",
              "additionalProperties": false,
              "$schema": "http://json-schema.org/draft-07/schema#",
              "properties": {
                "start": {
                  "type": "number",
                  "description": "Starting index for paginated search results"
                },
                "size": {
                  "description": "Number of results to return in search",
                  "type": "number"
                },
                "searchTerm": {
                  "type": "string",
                  "description": "Search term for resource searches. Required for search_datanet_resources."
                },
                "operation": {
                  "enum": [
                    "search_datanet_resources",
                    "get_logical_dbs_for_user"
                  ],
                  "type": "string",
                  "description": "The search operation to perform"
                },
                "username": {
                  "description": "Username (alias) for user-specific queries. Required for get_logical_dbs_for_user.",
                  "type": "string"
                }
              }
            }
          }
        }
      },
      {
        "ToolSpecification": {
          "name": "amzn_mcp___imr_costs_search_fleet",
          "description": "Search for fleets based on a query term, matching either fleet name or fleet owner.",
          "input_schema": {
            "json": {
              "type": "object",
              "required": [
                "query"
              ],
              "$schema": "http://json-schema.org/draft-07/schema#",
              "properties": {
                "query": {
                  "description": "Query term could be a partial fleet name or one of the owners",
                  "type": "string"
                },
                "includeDeleted": {
                  "type": "boolean",
                  "description": "Include deleted fleets",
                  "default": false
                }
              },
              "additionalProperties": false
            }
          }
        }
      },
      {
        "ToolSpecification": {
          "name": "amzn_mcp___jira_create_issue",
          "description": "Create a new JIRA issue",
          "input_schema": {
            "json": {
              "properties": {
                "issueType": {
                  "description": "The type of the issue (e.g., Bug, Task, Story)",
                  "type": "string",
                  "minLength": 1
                },
                "summary": {
                  "minLength": 1,
                  "description": "The summary of the issue",
                  "type": "string"
                },
                "description": {
                  "type": "string",
                  "description": "The description of the issue"
                },
                "additionalFields": {
                  "description": "Additional fields to include in the issue",
                  "type": "object",
                  "additionalProperties": {}
                },
                "projectKey": {
                  "type": "string",
                  "description": "The key of the project where the issue will be created",
                  "minLength": 1
                }
              },
              "$schema": "http://json-schema.org/draft-07/schema#",
              "additionalProperties": false,
              "required": [
                "projectKey",
                "issueType",
                "summary"
              ],
              "type": "object"
            }
          }
        }
      },
      {
        "ToolSpecification": {
          "name": "amzn_mcp___genai_poweruser_list_knowledge",
          "description": "Generate organized inventories of documents stored in the knowledge repository. This tool can list all documents or focus on specific folders, with options for recursive directory traversal and depth control. Returns document paths and titles, enabling systematic navigation of the knowledge structure.",
          "input_schema": {
            "json": {
              "additionalProperties": false,
              "$schema": "http://json-schema.org/draft-07/schema#",
              "properties": {
                "recursive": {
                  "description": "Whether to include documents in subfolders",
                  "type": "boolean"
                },
                "folder": {
                  "type": "string",
                  "description": "The folder path to list documents from"
                },
                "depth": {
                  "description": "How many levels deep to traverse",
                  "type": "number",
                  "default": 5
                }
              },
              "type": "object"
            }
          }
        }
      },
      {
        "ToolSpecification": {
          "name": "amzn_mcp___read_internal_website",
          "description": "Read content from internal Amazon websites.\n\nSupported websites and their purposes:\n\nDocumentation & Knowledge:\n- docs.hub.amazon.dev: Internal technical documentation\n- hub.cx.aws.dev: Internal technical documentation for building an experience in the AWS Management Console\n- btdocs.builder-tools.aws.dev: BuilderHub contributor documentation\n- docs.ctps.amazon.dev: CTPS technical documentation\n- docs.paystation.amazon.dev: PayStation technical documentation\n- skb.highcastle.a2z: Security knowledge base docs\n- aristotle.a2z.com: AWS Security Knowledge Base Docs\n- docs.aws.amazon.com: External AWS documentation\n- documentation.skynet.aws.dev: Skynet documentation\n- sage.amazon.dev: Engineering Q&A platform\n- datacentral.a2z.com/cradle: DataCentral Cradle job runs\n- oldfart.tools.amazon.dev: Important user tenure information and cohort statistics\n- sidekick.aka.amazon.com: Help users perform redundant tasks of aggregating trouble ticket or SIM data by creating custom oncall reports\n\nDocument Storage & Sharing:\n- workdocs.amazon.com: Amazon WorkDocs (PDFs, Word Docs, Excel)\n- drive-render.corp.amazon.com: Amazon Drive content\n- quip-amazon.com: Collaborative documents\n- paste.amazon.com: Raw content sharing\n- w.amazon.com: Internal MediaWiki\n- noogle-eu.amazon.com: Noogle EU customer information system\n- noogle-na.amazon.com: Noogle NA customer information system\n- noogle-fe.amazon.com: Noogle FE customer information system\n- apttool.amazon.com: Weblab APT report\n- confluence.collab.games.aws.dev: Amazon Games internal confluence page\n\nDevelopment & Build Tools:\n- code.amazon.com: Internal code repository\n- build.amazon.com: Build fleet and net-gapped builds\n- pipelines.amazon.com: Pipeline information\n- tod.amazon.com: TOD Test run information\n- apollo.amazon.com: Apollo Environment information\n- artifact-browser.brazil.aws.dev: Artifact content browser\n- bindles.amazon.com: Permissions information\n- katal.amazon.dev: UI Components library named Katal (via CloudFront presigned URLs)\n- digicon.amazon.com: Digital Order Console for order information\n- grass-*.aka.amazon.com: Grass - Primary tool for exploring Ordering data (NA, EU, FE, CN regions)\n- grass.integ.amazon.com: Grass Integration environment for testing\n- cloudscape.aws.dev: Internal Cloudscape System Design documentation\n\nProject Management & Tickets:\n- taskei.amazon.dev: Task and project management, manage tasks, sprints, kanban boards, planning and scrum processes.\n- t.corp.amazon.com: Ticket system to manage urgent work through severity, routed based on CTI.\n- sim.amazon.com: Legacy issue management system. Used to manage Issues.\n- issues.amazon.com: Legacy issue management system. Used to manage Issues.\n- mcm.amazon.dev: Manual-change-management checklists\n- retro.corp.amazon.com: Sprint retrospectives\n- board.amazon.com: Organize tasks in cards in a board\n- kingpin.amazon.com: Amazon's internal system for managing and reporting goals\n- weblab.amazon.com: Weblab experiment details, configuration settings, and any weblabs flagged as risks.\n\nSecurity & Operations:\n- myappsecdashboard.corp.amazon.com: AppSec affinity contacts\n- cti.amazon.com: CTI and resolver group information\n- design-inspector.a2z.com: Design diagrams and threat models\n- redfort.amazon.com: Public Key Infrastructure for Amazon\n- f2p-visualizer.corp.amazon.com: F2P (Fulfill-to-Promise) visualizer for Amazon order planning information such as https://f2p-visualizer.corp.amazon.com/export/($ORDER_ID)\n- marts-gfs-ui-finuat.corp.amazon.com: MARTS (General AR Invoice Status Dashboard for FINUAT)\n- theauditor.amazon.com: LTRA (Lite Technical Risk Assessment) audit information\n\nTeam & Organization:\n- phonetool.amazon.com: Employee roster and details\n\nMedia & Communications:\n- broadcast.amazon.com: Internal broadcasts and videos with transcripts\n\nPolicy Documents:\n- policy.a2z.com: Amazon internal policy documents\nMonitoring\n- monitorportal.amazon.com: iGraph tool\n- carnaval.amazon.com: Monitoring and alarm management\n- deeops.aka.amazon.com: DeeOps STO Health monitoring for user statistics including current over SLA tickets, incoming/open/resolved tickets, MTTR, and ticket age metrics\n- lyrebird.corp.amazon.com: Lyrebird test reports and traffic test details\n\nAnalytics & Dashboards:\n- quicksight.aws.amazon.com: Amazon QuickSight dashboards and analytics\n\nConcurrency Control:\n- This tool supports processing multiple URLs concurrently with a configurable concurrency limit",
          "input_schema": {
            "json": {
              "$schema": "http://json-schema.org/draft-07/schema#",
              "type": "object",
              "additionalProperties": false,
              "properties": {
                "url": {
                  "type": "string",
                  "format": "uri",
                  "description": "URL of the internal website to read. For backward compatibility with older clients."
                },
                "tailingLineCount": {
                  "type": "number",
                  "description": "Number of most recent log lines to return"
                },
                "concurrencyLimit": {
                  "description": "Maximum number of concurrent requests",
                  "type": "number"
                },
                "urls": {
                  "type": "array",
                  "items": {
                    "format": "uri",
                    "type": "string"
                  },
                  "description": "Array of internal website URLs to read. Multiple URLs will be processed concurrently based on the concurrencyLimit parameter."
                },
                "useGenericStrategy": {
                  "type": "boolean",
                  "description": "Use generic HTML to Markdown conversion instead of specific matchers",
                  "default": false
                }
              }
            }
          }
        }
      },
      {
        "ToolSpecification": {
          "name": "amzn_mcp___g2s2_list_stage_version",
          "description": "Lists contents of a specified G2S2 stage version",
          "input_schema": {
            "json": {
              "properties": {
                "stageVersion": {
                  "type": "string",
                  "description": "The stage version to list"
                }
              },
              "$schema": "http://json-schema.org/draft-07/schema#",
              "type": "object",
              "required": [
                "stageVersion"
              ],
              "additionalProperties": false
            }
          }
        }
      },
      {
        "ToolSpecification": {
          "name": "amzn_mcp___sim_remove_label",
          "description": "Remove a label from an existing SIM issue.\nThe issue ID can be either the P-number (e.g., P12345678) or the alias (e.g., CFN-12345).\nThis allows for updating the categorization of issues as their nature or priority changes.",
          "input_schema": {
            "json": {
              "properties": {
                "label": {
                  "description": "Label to remove from the issue",
                  "type": "string"
                },
                "issueId": {
                  "type": "string",
                  "description": "Issue ID or alias (e.g., P12345678 or CFN-12345)"
                }
              },
              "required": [
                "issueId",
                "label"
              ],
              "additionalProperties": false,
              "$schema": "http://json-schema.org/draft-07/schema#",
              "type": "object"
            }
          }
        }
      },
      {
        "ToolSpecification": {
          "name": "amzn_mcp___oncall_compass_get_report",
          "description": "Get the content of the report along with additional metadata.",
          "input_schema": {
            "json": {
              "required": [
                "reportId"
              ],
              "additionalProperties": false,
              "$schema": "http://json-schema.org/draft-07/schema#",
              "type": "object",
              "properties": {
                "reportId": {
                  "type": "string",
                  "description": "ID of the report to retrieve"
                }
              }
            }
          }
        }
      },
      {
        "ToolSpecification": {
          "name": "amzn_mcp___g2s2_freeze_stage_version",
          "description": "Freezes a specified G2S2 stage version",
          "input_schema": {
            "json": {
              "type": "object",
              "properties": {
                "stageVersion": {
                  "type": "string",
                  "description": "The stage version to freeze"
                }
              },
              "required": [
                "stageVersion"
              ],
              "additionalProperties": false,
              "$schema": "http://json-schema.org/draft-07/schema#"
            }
          }
        }
      },
      {
        "ToolSpecification": {
          "name": "amzn_mcp___g2s2_create_stage_version",
          "description": "Creates a new stage version in G2S2 with the specified parent stage version",
          "input_schema": {
            "json": {
              "$schema": "http://json-schema.org/draft-07/schema#",
              "properties": {
                "parentStageVersion": {
                  "description": "The parent stage version for the stage version",
                  "type": "string"
                },
                "stageVersion": {
                  "type": "string",
                  "description": "The stage version to create"
                }
              },
              "type": "object",
              "required": [
                "stageVersion",
                "parentStageVersion"
              ],
              "additionalProperties": false
            }
          }
        }
      },
      {
        "ToolSpecification": {
          "name": "amzn_mcp___pippin_list_projects",
          "description": "Lists all available Pippin design projects",
          "input_schema": {
            "json": {
              "additionalProperties": false,
              "type": "object",
              "$schema": "http://json-schema.org/draft-07/schema#",
              "properties": {
                "user": {
                  "type": "string",
                  "description": "User to filter by"
                },
                "statuses": {
                  "description": "Project statuses to filter by",
                  "type": "string"
                },
                "maxResults": {
                  "type": "number",
                  "description": "Maximum number of results to return"
                },
                "nextToken": {
                  "description": "Pagination token",
                  "type": "string"
                }
              }
            }
          }
        }
      },
      {
        "ToolSpecification": {
          "name": "amzn_mcp___genai_poweruser_get_knowledge_structure",
          "description": "Map the hierarchical organization of your knowledge repository by generating a complete directory structure. This tool provides a navigable overview of how folders and documents are organized, with configurable depth settings to control detail level. Essential for understanding knowledge base architecture and relationships between document collections.",
          "input_schema": {
            "json": {
              "type": "object",
              "$schema": "http://json-schema.org/draft-07/schema#",
              "additionalProperties": false,
              "properties": {
                "depth": {
                  "description": "How many levels deep to traverse",
                  "type": "number"
                }
              }
            }
          }
        }
      },
      {
        "ToolSpecification": {
          "name": "amzn_mcp___pippin_create_project",
          "description": "Creates a new Pippin design project with specified details",
          "input_schema": {
            "json": {
              "$schema": "http://json-schema.org/draft-07/schema#",
              "additionalProperties": false,
              "properties": {
                "requirements": {
                  "description": "Project requirements",
                  "type": "string"
                },
                "name": {
                  "description": "Project name",
                  "type": "string"
                },
                "bindleId": {
                  "type": "string",
                  "description": "Bindle ID"
                }
              },
              "type": "object",
              "required": [
                "name"
              ]
            }
          }
        }
      },
      {
        "ToolSpecification": {
          "name": "amzn_mcp___search_datapath",
          "description": "Search Datapath views",
          "input_schema": {
            "json": {
              "type": "object",
              "$schema": "http://json-schema.org/draft-07/schema#",
              "properties": {
                "query": {
                  "description": "Keywords to look for in the Datapath view, for example \"locality asin\" will find the locality views at asin level",
                  "type": "string"
                }
              },
              "required": [
                "query"
              ],
              "additionalProperties": false
            }
          }
        }
      },
      {
        "ToolSpecification": {
          "name": "amzn_mcp___cradle_get_profile",
          "description": "Get detailed information about a specific Cradle job profile.",
          "input_schema": {
            "json": {
              "$schema": "http://json-schema.org/draft-07/schema#",
              "properties": {
                "profileId": {
                  "type": "string",
                  "description": "UUID of the job profile"
                }
              },
              "type": "object",
              "required": [
                "profileId"
              ],
              "additionalProperties": false
            }
          }
        }
      },
      {
        "ToolSpecification": {
          "name": "amzn_mcp___create_folder_quip",
          "description": "Create a new Quip folder\n\nThis tool creates a new folder in Quip.\nYou can optionally specify a parent folder to create a subfolder.\n\nExamples:\n1. Create a root-level folder:\n```json\n{\n  \"title\": \"New Project Folder\"\n}\n```\n\n2. Create a subfolder:\n```json\n{\n  \"title\": \"Documentation\",\n  \"parentFolderId\": \"ABCDEF123456\"\n}\n```\n",
          "input_schema": {
            "json": {
              "additionalProperties": false,
              "type": "object",
              "properties": {
                "title": {
                  "type": "string",
                  "description": "Title of the new folder"
                },
                "parentFolderId": {
                  "type": "string",
                  "description": "ID of parent folder (if not provided, creates at root level)"
                }
              },
              "required": [
                "title"
              ],
              "$schema": "http://json-schema.org/draft-07/schema#"
            }
          }
        }
      },
      {
        "ToolSpecification": {
          "name": "amzn_mcp___overleaf_read_file",
          "description": "Read a file from an Overleaf project with automatic synchronization.\n\nThis tool reads the specified file from an Overleaf project. Before reading,\nit ensures the project is cloned locally and synchronized with the remote repository.\nSupports both text and binary files with proper encoding detection.\n\nExample usage:\n```json\n{\n  \"project_id\": \"507f1f77bcf86cd799439011\",\n  \"file_path\": \"main.tex\"\n}\n```",
          "input_schema": {
            "json": {
              "type": "object",
              "properties": {
                "file_path": {
                  "description": "Path to the file within the project",
                  "type": "string"
                },
                "project_id": {
                  "description": "Project ID containing the file",
                  "type": "string"
                }
              },
              "additionalProperties": false,
              "required": [
                "project_id",
                "file_path"
              ],
              "$schema": "http://json-schema.org/draft-07/schema#"
            }
          }
        }
      },
      {
        "ToolSpecification": {
          "name": "amzn_mcp___cradle_get_job_details",
          "description": "Get detailed information about a specific Cradle job.",
          "input_schema": {
            "json": {
              "$schema": "http://json-schema.org/draft-07/schema#",
              "properties": {
                "jobId": {
                  "description": "UUID of the job",
                  "type": "string"
                },
                "profileId": {
                  "description": "UUID of the job profile",
                  "type": "string"
                }
              },
              "required": [
                "profileId",
                "jobId"
              ],
              "type": "object",
              "additionalProperties": false
            }
          }
        }
      },
      {
        "ToolSpecification": {
          "name": "amzn_mcp___taskei_create_task",
          "description": "Create a new Taskei task with specified details. This tool allows you to create tasks with various attributes such as name, description, assignee, due dates, and more. Use this tool when you need to create new tasks for project management, tracking work items, or assigning work to team members.",
          "input_schema": {
            "json": {
              "type": "object",
              "required": [
                "name"
              ],
              "additionalProperties": false,
              "properties": {
                "estimatedStartDate": {
                  "description": "Estimated start date (ISO format)",
                  "type": "string"
                },
                "workflowAction": {
                  "description": "Workflow action to apply to the task",
                  "type": "string"
                },
                "needByDate": {
                  "type": "string",
                  "description": "Due date for the task (ISO format)"
                },
                "planningEstimate": {
                  "description": "Planning estimate in story points",
                  "type": "number"
                },
                "estimate": {
                  "type": "number",
                  "description": "Estimated effort in story points"
                },
                "labels": {
                  "description": "List of labels to apply to the task",
                  "type": "array",
                  "items": {
                    "type": "string"
                  }
                },
                "name": {
                  "type": "string",
                  "description": "The name/title of the task (required)"
                },
                "room": {
                  "type": "string",
                  "description": "The room ID or name where the task should be created"
                },
                "description": {
                  "type": "string",
                  "description": "Detailed description of the task"
                },
                "sprints": {
                  "description": "List of sprint IDs to add the task to",
                  "items": {
                    "type": "string"
                  },
                  "type": "array"
                },
                "type": {
                  "type": "string",
                  "description": "Type of task (e.g., 'Bug', 'Feature', 'Task')"
                },
                "classicRank": {
                  "type": "number",
                  "description": "Classic rank value for the task"
                },
                "onBehalfOf": {
                  "description": "Username to create the task on behalf of",
                  "type": "string"
                },
                "estimatedCompletionDate": {
                  "description": "Estimated completion date (ISO format)",
                  "type": "string"
                },
                "classicPriority": {
                  "description": "Priority of the task (numeric value)",
                  "type": "number"
                },
                "kanbanBoards": {
                  "description": "List of kanban board IDs to add the task to",
                  "items": {
                    "type": "string"
                  },
                  "type": "array"
                },
                "parentTask": {
                  "description": "ID of the parent task",
                  "type": "string"
                },
                "assignee": {
                  "type": "string",
                  "description": "Username of the person to assign the task to"
                },
                "folder": {
                  "type": "string",
                  "description": "Folder ID or name to place the task in"
                }
              },
              "$schema": "http://json-schema.org/draft-07/schema#"
            }
          }
        }
      },
      {
        "ToolSpecification": {
          "name": "amzn_mcp___mosaic_list_risks",
          "description": "\nThe AWS Risk Library is an extensible reference library that contains potential risk events\nthat may impact AWS and/or its customers and the risk scenarios that could trigger them. The\nlibrary contains high-level risk categories (Level 1), (e.g., availability, security, third\nparty, etc.); sub-categories of risk events (Level 2) for each level 1 risk (e.g., network\nfailure, service failure, infrastructure failure); and plausible risk causes (Level 3) that\ncan result in a risk event (e.g., inadequate capacity planning, lack of governance oversight,\npower outages, etc.). The level 2 risk events are the central element of the risk library.\n\nThis tool returns the risks that are part of the AWS Risk Library.",
          "input_schema": {
            "json": {
              "properties": {},
              "type": "object"
            }
          }
        }
      },
      {
        "ToolSpecification": {
          "name": "amzn_mcp___cradle_search_jobs",
          "description": "Search for Cradle jobs across all profiles.",
          "input_schema": {
            "json": {
              "type": "object",
              "additionalProperties": false,
              "properties": {
                "searchTerm": {
                  "type": "string",
                  "description": "Search term for job name searches"
                },
                "profileId": {
                  "type": "string",
                  "description": "UUID of the job profile for filtering"
                },
                "pageToken": {
                  "type": "string",
                  "description": "Token for pagination"
                },
                "limit": {
                  "description": "Maximum number of results to return",
                  "type": "number"
                },
                "pageSize": {
                  "description": "Number of items per page",
                  "type": "number"
                }
              },
              "required": [
                "searchTerm"
              ],
              "$schema": "http://json-schema.org/draft-07/schema#"
            }
          }
        }
      },
      {
        "ToolSpecification": {
          "name": "amzn_mcp___genai_poweruser_read_knowledge",
          "description": "Access and retrieve the full content of knowledge documents using either a file path or document title. This tool enables direct retrieval of stored knowledge resources from the configured knowledge base, supporting both absolute and relative paths. Returns the document content along with path and title metadata.",
          "input_schema": {
            "json": {
              "$schema": "http://json-schema.org/draft-07/schema#",
              "properties": {
                "title": {
                  "type": "string",
                  "description": "The title of the document to find"
                },
                "path": {
                  "description": "The path to the document file",
                  "type": "string"
                }
              },
              "additionalProperties": false,
              "type": "object"
            }
          }
        }
      },
      {
        "ToolSpecification": {
          "name": "amzn_mcp___mermaid",
          "description": "Create and decode Mermaid diagrams using Amazon's internal Mermaid editor.\nMermaid allows creating flowcharts, sequence diagrams, and more using text descriptions.\n\nSupported operations:\n- encode: Convert Mermaid text to an encoded URL\n- decode: Extract Mermaid text from an encoded URL",
          "input_schema": {
            "json": {
              "required": [
                "operation"
              ],
              "additionalProperties": false,
              "$schema": "http://json-schema.org/draft-07/schema#",
              "type": "object",
              "properties": {
                "content": {
                  "description": "Mermaid content for encode operation",
                  "type": "string"
                },
                "url": {
                  "format": "uri",
                  "type": "string",
                  "description": "Mermaid URL for decode operation"
                },
                "operation": {
                  "enum": [
                    "encode",
                    "decode"
                  ],
                  "type": "string",
                  "description": "The operation to perform"
                }
              }
            }
          }
        }
      },
      {
        "ToolSpecification": {
          "name": "amzn_mcp___genai_poweruser_get_knowledge_metadata",
          "description": "Extract comprehensive metadata from knowledge documents, including YAML frontmatter, tags, internal links, tasks, headings, and file attributes. This tool provides structural and organizational information about documents without retrieving the full content, supporting knowledge management and document analysis workflows.",
          "input_schema": {
            "json": {
              "additionalProperties": false,
              "type": "object",
              "$schema": "http://json-schema.org/draft-07/schema#",
              "properties": {
                "path": {
                  "description": "The path to the document file",
                  "type": "string"
                }
              },
              "required": [
                "path"
              ]
            }
          }
        }
      },
      {
        "ToolSpecification": {
          "name": "amzn_mcp___rtla_fetch_logs",
          "description": "Fetch logs from RTLA (Real-Time Log Analysis) API. This tool allows you to retrieve log entries based on organization, affected type, time range, and filter expressions. The maximum time range supported is 12 hours from the start time. Useful for troubleshooting system issues, analyzing error patterns, and monitoring application health.",
          "input_schema": {
            "json": {
              "additionalProperties": false,
              "required": [
                "org",
                "affectedType",
                "startTime",
                "endTime"
              ],
              "$schema": "http://json-schema.org/draft-07/schema#",
              "type": "object",
              "properties": {
                "anchor": {
                  "type": "string",
                  "description": "Anchor position (e.g., \"Ending\", \"Beginning\")",
                  "default": "Ending"
                },
                "affectedType": {
                  "type": "string",
                  "description": "Type of affected logs to retrieve (e.g., \"FATAL\", \"NONFATAL\")"
                },
                "org": {
                  "description": "Organization identifier (e.g., \"CWCBCCECMPROD\")",
                  "type": "string"
                },
                "filterExpression": {
                  "type": "string",
                  "description": "Filter expression for log filtering (e.g., \"(pageType eq 'uscbcc-ecm-paybill')\")"
                },
                "searchField": {
                  "default": "org",
                  "description": "Search field type (default: \"org\")",
                  "type": "string"
                },
                "startTime": {
                  "type": "string",
                  "description": "Start time in ISO 8601 format with timezone (e.g., 2025-05-11T11:31:16-04:00)"
                },
                "timeZone": {
                  "default": "GMT&customTimeZoneOffset",
                  "description": "Time zone (e.g., \"US/Pacific\")",
                  "type": "string"
                },
                "endTime": {
                  "description": "End time in ISO 8601 format with timezone (e.g., 2025-05-11T12:31:16-04:00)",
                  "type": "string"
                },
                "identifyAdditionalOrgs": {
                  "description": "Whether to identify additional organizations",
                  "type": "boolean",
                  "default": true
                }
              }
            }
          }
        }
      },
      {
        "ToolSpecification": {
          "name": "amzn_mcp___search_internal_issues",
          "description": "Search internal issues from https://i.amazon.com/.\nIssues generally are used to manage Amazon's internal development efforts, this includes reporting of bugs, \nrequest for features, roadmaps, managed tasks for Agile development (ex. Sprint, Kanban board tasks).\n\n\nSome value query examples:\n\n* keyword only: Mirai \n\n* keyword AND status: (Mirai team)+status:(Open)\n\n* requested by user: requester:(sshli)\n\n* assigned to user: assignee:(sshli)\n",
          "input_schema": {
            "json": {
              "type": "object",
              "$schema": "http://json-schema.org/draft-07/schema#",
              "additionalProperties": false,
              "required": [
                "query"
              ],
              "properties": {
                "query": {
                  "type": "string",
                  "description": "Search query for internal issues"
                }
              }
            }
          }
        }
      },
      {
        "ToolSpecification": {
          "name": "amzn_mcp___search_resilience_score",
          "description": "Search for resiliency scores for a manager's alias.\n        ‚Ä¢ Required: manager alias\n        ‚Ä¢ Optional: page size, page number, and score version\n        ‚Ä¢ Returns resiliency score data for services under the specified manager",
          "input_schema": {
            "json": {
              "type": "object",
              "properties": {
                "alias": {
                  "type": "string",
                  "description": "Manager alias to fetch resiliency scores for"
                },
                "pageSize": {
                  "description": "Number of results per page (default: 4000)",
                  "type": "number"
                },
                "pageNumber": {
                  "type": "number",
                  "description": "Page number to fetch (default: 0)"
                },
                "scoreVersion": {
                  "description": "Version of the score to fetch (default: 0.7.0)",
                  "type": "string"
                }
              },
              "additionalProperties": false,
              "required": [
                "alias"
              ],
              "$schema": "http://json-schema.org/draft-07/schema#"
            }
          }
        }
      },
      {
        "ToolSpecification": {
          "name": "amzn_mcp___pippin_list_artifacts",
          "description": "Lists all artifacts for a specific Pippin project",
          "input_schema": {
            "json": {
              "additionalProperties": false,
              "$schema": "http://json-schema.org/draft-07/schema#",
              "type": "object",
              "required": [
                "projectId"
              ],
              "properties": {
                "nextToken": {
                  "type": "string",
                  "description": "Pagination token"
                },
                "projectId": {
                  "description": "Project ID",
                  "type": "string"
                },
                "maxResults": {
                  "type": "number",
                  "description": "Maximum number of results to return"
                }
              }
            }
          }
        }
      },
      {
        "ToolSpecification": {
          "name": "amzn_mcp___pippin_update_project",
          "description": "Updates an existing Pippin design project's details",
          "input_schema": {
            "json": {
              "type": "object",
              "additionalProperties": false,
              "$schema": "http://json-schema.org/draft-07/schema#",
              "properties": {
                "name": {
                  "description": "Updated project name",
                  "type": "string"
                },
                "description": {
                  "type": "string",
                  "description": "Updated project description"
                },
                "requirements": {
                  "description": "Updated project requirements",
                  "type": "string"
                },
                "projectId": {
                  "type": "string",
                  "description": "Project ID"
                },
                "status": {
                  "description": "Updated project status",
                  "type": "string"
                }
              },
              "required": [
                "projectId"
              ]
            }
          }
        }
      },
      {
        "ToolSpecification": {
          "name": "amzn_mcp___slack_send_message",
          "description": "Send a message to a specified Slack channel",
          "input_schema": {
            "json": {
              "type": "object",
              "properties": {
                "channelId": {
                  "minLength": 1,
                  "type": "string"
                },
                "message": {
                  "minLength": 1,
                  "type": "string"
                }
              },
              "additionalProperties": false,
              "$schema": "http://json-schema.org/draft-07/schema#",
              "required": [
                "channelId",
                "message"
              ]
            }
          }
        }
      },
      {
        "ToolSpecification": {
          "name": "amzn_mcp___sim_get_issue",
          "description": "Get detailed information about a specific SIM issue.\nRetrieves full details of an issue including title, description, status, assignee, comments, and more.\nYou can use either the P-number (e.g., P12345678) or the alias (e.g., CFN-12345) as the issue ID.\nOptionally include a specific thread (e.g., 'Updates') to get its comments.\nSet includeCustomAttributes to true to fetch custom fields like Due Date, Metric Scope, etc.\nSet includeRelatedTasks to true to fetch parent and subtasks.\nsetExtensions to true to fetch extension metadata like estimated effort and points spent.",
          "input_schema": {
            "json": {
              "required": [
                "id"
              ],
              "$schema": "http://json-schema.org/draft-07/schema#",
              "properties": {
                "includeExtensions": {
                  "type": "boolean",
                  "description": "Whether to include extensions like estimated and spent points"
                },
                "includeCustomAttributes": {
                  "type": "boolean",
                  "description": "Whether to include custom attributes like Due Date, Metric Scope, etc."
                },
                "id": {
                  "type": "string",
                  "description": "Issue ID or alias (e.g., P12345678 or CFN-12345)"
                },
                "includeThread": {
                  "description": "Name of the thread to include (e.g., \"Updates\")",
                  "type": "string"
                },
                "includeRelatedTasks": {
                  "description": "Whether to include parent and subtasks",
                  "type": "boolean"
                }
              },
              "type": "object",
              "additionalProperties": false
            }
          }
        }
      },
      {
        "ToolSpecification": {
          "name": "amzn_mcp___taskei_get_sprints",
          "description": "\n    Fetch sprints from Taskei.\n    This tool retrieves information about sprints based on filters like room ID and status.\n    Use this tool when you need to find sprint IDs for creating or updating tasks that need to be assigned to sprints.\n    The sprint IDs returned by this tool can be used with taskei_create_task and taskei_update_task tools.\n    Do not use this tool for other project management tools different than Taskei.",
          "input_schema": {
            "json": {
              "properties": {
                "status": {
                  "type": "string",
                  "description": "Filter sprints by status. Defaults to 'Active' if not specified.",
                  "enum": [
                    "Active",
                    "Closed"
                  ]
                },
                "sort": {
                  "type": "string",
                  "description": "Sort order for sprints. Format is 'field direction' where direction is 'asc' or 'desc'. Example: 'startDate asc'. Defaults to 'startDate asc'."
                },
                "cursor": {
                  "description": "Pagination cursor for fetching the next page of results",
                  "type": "string"
                },
                "roomId": {
                  "description": "The ID of the room to fetch sprints from. This SHOULD be provided if possible to return relevant results. If not provided, will return currently active sprints (startDate < now < endDate) across all rooms the user has access to.",
                  "type": "string"
                },
                "maxResults": {
                  "type": "number",
                  "default": 100,
                  "description": "The maximum number of results to fetch. (default: 100)"
                }
              },
              "additionalProperties": false,
              "$schema": "http://json-schema.org/draft-07/schema#",
              "type": "object"
            }
          }
        }
      },
      {
        "ToolSpecification": {
          "name": "amzn_mcp___andes_search",
          "description": "Search for Andes tables and providers.",
          "input_schema": {
            "json": {
              "additionalProperties": false,
              "type": "object",
              "properties": {
                "query": {
                  "description": "Search query for table searches",
                  "type": "string"
                },
                "exactMatch": {
                  "description": "Whether to perform an exact match search",
                  "type": "boolean"
                },
                "lifecycleStates": {
                  "type": "string",
                  "description": "Filter by lifecycle states (comma-separated)"
                },
                "limit": {
                  "description": "Maximum number of results to return",
                  "type": "number"
                }
              },
              "required": [
                "query"
              ],
              "$schema": "http://json-schema.org/draft-07/schema#"
            }
          }
        }
      },
      {
        "ToolSpecification": {
          "name": "amzn_mcp___sfdc_user_lookup",
          "description": "This tool is for looking up users on the AWS Salesforce AKA AWSentral",
          "input_schema": {
            "json": {
              "additionalProperties": false,
              "properties": {
                "email": {
                  "description": "the email address of the user",
                  "type": "string"
                },
                "user_name": {
                  "type": "string",
                  "description": "the name of the user"
                },
                "user_id": {
                  "type": "string",
                  "description": "the id of the user"
                },
                "alias": {
                  "type": "string",
                  "description": "the alias of the user"
                }
              },
              "$schema": "http://json-schema.org/draft-07/schema#",
              "type": "object"
            }
          }
        }
      },
      {
        "ToolSpecification": {
          "name": "amzn_mcp___search_symphony",
          "description": "Search for Symphony CREATIVE/PLACEMENT/EVENT/TAG with region id and query, this tool allows you to search Symphony objects by many dimensions, including Symphony creative owner, id, displayName etc.",
          "input_schema": {
            "json": {
              "$schema": "http://json-schema.org/draft-07/schema#",
              "required": [
                "region",
                "type",
                "query"
              ],
              "additionalProperties": false,
              "type": "object",
              "properties": {
                "type": {
                  "description": "Content Symphony CREATIVE/PLACEMENT/EVENT/TAG",
                  "type": "string"
                },
                "region": {
                  "type": "string",
                  "description": "Symphony region that are going to query data, e.g.: NA, EU, FE, Integ"
                },
                "query": {
                  "description": "Stringified query and sort key from the Elasticsearch DSL.",
                  "type": "string"
                },
                "pageSize": {
                  "type": "number",
                  "description": "minimum: 1, maximum: 50"
                }
              }
            }
          }
        }
      },
      {
        "ToolSpecification": {
          "name": "amzn_mcp___cradle_export_sql_to_file",
          "description": "Export SQL query directly to a file (bypasses LLM processing).",
          "input_schema": {
            "json": {
              "type": "object",
              "required": [
                "profileId",
                "outputPath"
              ],
              "additionalProperties": false,
              "properties": {
                "profileId": {
                  "description": "UUID of the job profile",
                  "type": "string"
                },
                "outputPath": {
                  "type": "string",
                  "description": "File path to export SQL directly to disk"
                }
              },
              "$schema": "http://json-schema.org/draft-07/schema#"
            }
          }
        }
      },
      {
        "ToolSpecification": {
          "name": "amzn_mcp___overleaf_upload_file",
          "description": "Upload a local file from the Overleaf workspace to the remote repository with automatic commit and push.\n\nThis tool reads an existing file from the local Overleaf workspace and uploads it to the remote repository.\nThe file must already exist in the local workspace directory (./overleaf/{project_id}/file_path).\nBefore uploading, it syncs the project to get latest changes and detects merge conflicts.\n\nExample usage:\n```json\n{\n  \"project_id\": \"507f1f77bcf86cd799439011\",\n  \"file_path\": \"figures/diagram.png\"\n}\n```",
          "input_schema": {
            "json": {
              "properties": {
                "project_id": {
                  "type": "string",
                  "description": "Project ID to upload to"
                },
                "file_path": {
                  "description": "Path to the file within the project workspace",
                  "type": "string"
                }
              },
              "required": [
                "project_id",
                "file_path"
              ],
              "$schema": "http://json-schema.org/draft-07/schema#",
              "additionalProperties": false,
              "type": "object"
            }
          }
        }
      },
      {
        "ToolSpecification": {
          "name": "amzn_mcp___g2s2_get",
          "description": "Gets data from a G2S2 table with specified parameters",
          "input_schema": {
            "json": {
              "required": [
                "tableName",
                "parentStageVersion"
              ],
              "type": "object",
              "properties": {
                "kwargs": {
                  "type": "object",
                  "additionalProperties": {},
                  "description": "Additional key-value parameters for the query"
                },
                "tableName": {
                  "type": "string",
                  "description": "The table name to query"
                },
                "parentStageVersion": {
                  "type": "string",
                  "description": "The parent stage version for the stage version"
                }
              },
              "additionalProperties": false,
              "$schema": "http://json-schema.org/draft-07/schema#"
            }
          }
        }
      },
      {
        "ToolSpecification": {
          "name": "amzn_mcp___jira_search_issues",
          "description": "Search for JIRA issues using JQL",
          "input_schema": {
            "json": {
              "additionalProperties": false,
              "properties": {
                "startAt": {
                  "description": "The index of the first result to return (0-based)",
                  "minimum": 0,
                  "type": "integer"
                },
                "fields": {
                  "type": "array",
                  "description": "The list of fields to return",
                  "items": {
                    "type": "string"
                  }
                },
                "expand": {
                  "type": "string",
                  "description": "The additional information to include in the response"
                },
                "maxResults": {
                  "minimum": 1,
                  "type": "integer",
                  "maximum": 1000,
                  "description": "The maximum number of results to return (default: 50)"
                },
                "jql": {
                  "minLength": 1,
                  "type": "string",
                  "description": "JQL search query"
                },
                "validateQuery": {
                  "type": "string",
                  "description": "Whether to validate the JQL query"
                }
              },
              "required": [
                "jql"
              ],
              "$schema": "http://json-schema.org/draft-07/schema#",
              "type": "object"
            }
          }
        }
      },
      {
        "ToolSpecification": {
          "name": "amzn_mcp___sim_add_label",
          "description": "Add a label to an existing SIM issue.\nThe issue ID can be either the P-number (e.g., P12345678) or the alias (e.g., CFN-12345).\nLabels help categorize issues and can be used for filtering and organization.",
          "input_schema": {
            "json": {
              "type": "object",
              "required": [
                "issueId",
                "label"
              ],
              "$schema": "http://json-schema.org/draft-07/schema#",
              "properties": {
                "label": {
                  "description": "Label to add to the issue",
                  "type": "string"
                },
                "issueId": {
                  "type": "string",
                  "description": "Issue ID or alias (e.g., P12345678 or CFN-12345)"
                }
              },
              "additionalProperties": false
            }
          }
        }
      },
      {
        "ToolSpecification": {
          "name": "amzn_mcp___genai_poweruser_search_knowledge",
          "description": "Perform advanced text-based searches across your knowledge repository to find documents matching specific queries. This tool searches document content and returns contextual matches with relevance scores, supporting search result limiting and folder-specific scoping. Ideal for discovering relevant information across large knowledge bases.",
          "input_schema": {
            "json": {
              "$schema": "http://json-schema.org/draft-07/schema#",
              "type": "object",
              "required": [
                "query"
              ],
              "properties": {
                "folder": {
                  "description": "Limit search to a specific folder",
                  "type": "string"
                },
                "query": {
                  "type": "string",
                  "description": "The search query"
                },
                "limit": {
                  "type": "number",
                  "description": "Maximum number of results to return"
                }
              },
              "additionalProperties": false
            }
          }
        }
      },
      {
        "ToolSpecification": {
          "name": "amzn_mcp___create_quip",
          "description": "Create a new Quip document or spreadsheet\n\nThis tool creates a new document or spreadsheet in Quip with the specified content.\n\nRequired parameters:\n- content: The HTML or Markdown content of the new document (max 1MB)\n\nOptional parameters:\n- format: Format of the content ('html' or 'markdown', default is 'html')\n- title: Title of the new document (max 10KB)\n- member_ids: Comma-separated list of folder IDs or user IDs for access\n- type: Type of document to create ('document' or 'spreadsheet', default is 'document')\n\nNotes:\n- If title is not specified, it will be inferred from the first content\n- If member_ids is not specified, the document will be created in the user's Private folder\n- For spreadsheets, content must be surrounded by HTML <table> tags\n\nExamples:\n1. Create a simple document:\n```json\n{\n  \"content\": \"# My New Document\\n\\nThis is a test document.\",\n  \"format\": \"markdown\"\n}\n```\n\n2. Create a document with a title in a specific folder:\n```json\n{\n  \"content\": \"# Introduction\\n\\nThis is the start of my document.\",\n  \"format\": \"markdown\",\n  \"title\": \"Project Proposal\",\n  \"member_ids\": \"ABCDEF123456\"\n}\n```\n\n3. Create a spreadsheet:\n```json\n{\n  \"content\": \"<table><tr><td>Name</td><td>Age</td></tr><tr><td>John</td><td>30</td></tr></table>\",\n  \"format\": \"html\",\n  \"type\": \"spreadsheet\"\n}\n```",
          "input_schema": {
            "json": {
              "type": "object",
              "additionalProperties": false,
              "required": [
                "content"
              ],
              "$schema": "http://json-schema.org/draft-07/schema#",
              "properties": {
                "member_ids": {
                  "type": "string",
                  "description": "Comma-separated list of folder IDs or user IDs for access"
                },
                "type": {
                  "type": "string",
                  "default": "document",
                  "enum": [
                    "document",
                    "spreadsheet"
                  ],
                  "description": "Type of document to create"
                },
                "format": {
                  "description": "The format of the content",
                  "type": "string",
                  "enum": [
                    "html",
                    "markdown"
                  ],
                  "default": "markdown"
                },
                "content": {
                  "type": "string",
                  "description": "The HTML or Markdown content of the new document"
                },
                "title": {
                  "description": "Title of the new document",
                  "type": "string"
                }
              }
            }
          }
        }
      },
      {
        "ToolSpecification": {
          "name": "amzn_mcp___pippin_sync_project_to_remote",
          "description": "Synchronizes local files to a Pippin project as artifacts",
          "input_schema": {
            "json": {
              "$schema": "http://json-schema.org/draft-07/schema#",
              "properties": {
                "nameFormat": {
                  "description": "How to name artifacts",
                  "type": "string",
                  "enum": [
                    "use_filename",
                    "use_id"
                  ]
                },
                "inputDirectory": {
                  "type": "string",
                  "description": "Local directory containing files to upload"
                },
                "createMissing": {
                  "description": "Create artifacts if they don't exist",
                  "default": true,
                  "type": "boolean"
                },
                "projectId": {
                  "type": "string",
                  "description": "Project ID"
                }
              },
              "required": [
                "projectId",
                "inputDirectory"
              ],
              "type": "object",
              "additionalProperties": false
            }
          }
        }
      },
      {
        "ToolSpecification": {
          "name": "amzn_mcp___datanet_reader",
          "description": "Read and retrieve information from Datanet (also known as ETLM) including job profiles, jobs, and job runs. Use this tool when users mention 'Datanet', 'ETLM', or need to retrieve information about ETL jobs in the Datanet service. This tool provides read-only access to view job profiles, job details, job runs, and other Datanet resources without making any changes to them.",
          "input_schema": {
            "json": {
              "type": "object",
              "required": [
                "operation"
              ],
              "$schema": "http://json-schema.org/draft-07/schema#",
              "additionalProperties": false,
              "properties": {
                "revision": {
                  "type": "string",
                  "description": "Revision number. Required for revision-specific operations."
                },
                "jobType": {
                  "description": "Type of the job profile (e.g., TRANSFORM, DATA_FEED). Required for some profile operations.",
                  "type": "string"
                },
                "fromDate": {
                  "type": "string",
                  "description": "Start date for date range queries (YYYY-MM-DD). Required for get_successful_job_runs_count."
                },
                "operation": {
                  "description": "The operation to perform",
                  "type": "string",
                  "enum": [
                    "get_job_profile",
                    "get_job_profile_revision",
                    "get_job_details",
                    "get_job_with_revision",
                    "get_job_run",
                    "get_job_run_by_date",
                    "get_job_run_status",
                    "get_job_run_error",
                    "get_successful_job_runs_count",
                    "get_latest_job_run",
                    "get_job_run_with_time_interval",
                    "export_sql_to_file"
                  ]
                },
                "dietTime": {
                  "type": "string",
                  "description": "Diet time in HHMMSS format. Required for get_job_run_with_time_interval."
                },
                "datasetDate": {
                  "type": "string",
                  "description": "Dataset date in YYYYMMDD format. Required for date-specific operations."
                },
                "toDate": {
                  "description": "End date for date range queries (YYYY-MM-DD). Required for get_successful_job_runs_count.",
                  "type": "string"
                },
                "distTime": {
                  "type": "string",
                  "description": "Distribution time in HHMMSS format. Required for get_job_run_with_time_interval."
                },
                "jobProfileId": {
                  "description": "ID of the job profile. Required for profile operations.",
                  "type": "string"
                },
                "outputPath": {
                  "description": "File path to export SQL. Required for export_sql_to_file.",
                  "type": "string"
                },
                "jobId": {
                  "description": "ID of the job. Required for job operations.",
                  "type": "string"
                },
                "jobRunId": {
                  "type": "string",
                  "description": "ID of the job run. Required for job run operations."
                }
              }
            }
          }
        }
      },
      {
        "ToolSpecification": {
          "name": "amzn_mcp___taskei_get_room_identities",
          "description": "Fetch assignees from Taskei Rooms where the user has write permissions. Use this to find potential assignees when creating or updating tasks.",
          "input_schema": {
            "json": {
              "$schema": "http://json-schema.org/draft-07/schema#",
              "required": [
                "roomId"
              ],
              "type": "object",
              "properties": {
                "cursor": {
                  "type": "string",
                  "description": "Optional pagination cursor for fetching next page of results"
                },
                "maxResults": {
                  "exclusiveMinimum": 0,
                  "type": "number",
                  "description": "Maximum number of results to return (default: 100)"
                },
                "roomId": {
                  "description": "Room ID to get identities from",
                  "type": "string",
                  "minLength": 1
                }
              },
              "additionalProperties": false
            }
          }
        }
      },
      {
        "ToolSpecification": {
          "name": "amzn_mcp___imr_costs_get_fleet_summary",
          "description": "Presents the internal costs (IMR) for a fleet or AWS account. Retrieves the information from the tool Cerberus and monthly statements api.",
          "input_schema": {
            "json": {
              "required": [
                "resourceId"
              ],
              "properties": {
                "fleetType": {
                  "type": "string",
                  "description": "Container type, either CONTAINER or AWS_ACCOUNT",
                  "enum": [
                    "CONTAINER",
                    "AWS_ACCOUNT"
                  ],
                  "default": "CONTAINER"
                },
                "rateCard": {
                  "type": "string",
                  "description": "Rate card identifier (e.g. 2025)",
                  "default": "yearly"
                },
                "month": {
                  "type": "string",
                  "description": "Month in YYYY-MM-01 format",
                  "default": "2025-07-01"
                },
                "scenario": {
                  "type": "string",
                  "default": "Default CPT++",
                  "description": "Scenario name"
                },
                "period": {
                  "default": "YEAR_TO_DATE",
                  "enum": [
                    "MONTH",
                    "YEAR_TO_DATE",
                    "FULL_YEAR"
                  ],
                  "type": "string",
                  "description": "Time period for the summary"
                },
                "resourceId": {
                  "type": "string",
                  "description": "Resource identifier, fleetId or aws account"
                }
              },
              "$schema": "http://json-schema.org/draft-07/schema#",
              "additionalProperties": false,
              "type": "object"
            }
          }
        }
      },
      {
        "ToolSpecification": {
          "name": "amzn_mcp___taskei_get_task",
          "description": "Fetch a Taskei task by its ID. This tool retrieves detailed information about a specific task from Taskei, including its title, description, status, assignee, and other metadata. Use this tool when you need comprehensive information about a particular task for project tracking, status updates, or task management purposes. The tool requires a valid Taskei task ID either in a UUID format, or a short ID that is a combination of letters and numbers. Do not use this tool for other project management tools different than Taskei.",
          "input_schema": {
            "json": {
              "type": "object",
              "properties": {
                "taskId": {
                  "description": "The ID of the Taskei task to fetch. Can be provided as either a UUID (e.g., '123e4567-e89b-12d3-a456-426614174000') or a short ID format (e.g., 'Taskei-1234' or 'ABC123')",
                  "type": "string"
                },
                "includeAttachments": {
                  "type": "boolean",
                  "default": false,
                  "description": "Whether to include the task's attachments in the response (default: false)"
                }
              },
              "required": [
                "taskId"
              ],
              "$schema": "http://json-schema.org/draft-07/schema#",
              "additionalProperties": false
            }
          }
        }
      },
      {
        "ToolSpecification": {
          "name": "amzn_mcp___pippin_get_artifact",
          "description": "Retrieves a specific Pippin artifact by its ID",
          "input_schema": {
            "json": {
              "required": [
                "projectId",
                "designId"
              ],
              "type": "object",
              "properties": {
                "projectId": {
                  "description": "Project ID",
                  "type": "string"
                },
                "designId": {
                  "description": "Artifact ID",
                  "type": "string"
                }
              },
              "additionalProperties": false,
              "$schema": "http://json-schema.org/draft-07/schema#"
            }
          }
        }
      },
      {
        "ToolSpecification": {
          "name": "amzn_mcp___pippin_update_artifact",
          "description": "Updates an existing artifact within a Pippin project",
          "input_schema": {
            "json": {
              "additionalProperties": false,
              "type": "object",
              "$schema": "http://json-schema.org/draft-07/schema#",
              "properties": {
                "description": {
                  "type": "string",
                  "description": "Updated artifact description"
                },
                "designId": {
                  "description": "Artifact ID",
                  "type": "string"
                },
                "projectId": {
                  "type": "string",
                  "description": "Project ID"
                },
                "contentPath": {
                  "description": "Path to a file containing the artifact content (provide this OR content)",
                  "type": "string"
                },
                "name": {
                  "description": "Updated artifact name",
                  "type": "string"
                },
                "content": {
                  "type": "string",
                  "description": "Updated artifact content (provide this OR contentPath)"
                }
              },
              "required": [
                "projectId",
                "designId"
              ]
            }
          }
        }
      },
      {
        "ToolSpecification": {
          "name": "amzn_mcp___prompt_farm_prompt_content",
          "description": "A tool designed to fetch prompt content directly by specifying the repository name. This tool leverages repository identifiers to locate, extract, and deliver prompt templates or prompt from PromptFarm prompt repositories. It simplifies accessing prompt definitions without manual browsing, enabling users to quickly integrate or customize prompts by referencing the exact repository source.",
          "input_schema": {
            "json": {
              "$schema": "http://json-schema.org/draft-07/schema#",
              "properties": {
                "repositoryName": {
                  "type": "string",
                  "description": "The name of the PromptFarm repository to retrieve the prompt from"
                }
              },
              "type": "object",
              "required": [
                "repositoryName"
              ],
              "additionalProperties": false
            }
          }
        }
      },
      {
        "ToolSpecification": {
          "name": "amzn_mcp___overleaf_write_file",
          "description": "Write a file to an Overleaf project with automatic commit and push.\n\nThis tool writes content to the specified file in an Overleaf project.\nBefore writing, it ensures the project is cloned locally and synchronized.\nAfter writing, it automatically commits the changes with a descriptive message\nand pushes them to the remote repository.\n\nExample usage:\n```json\n{\n  \"project_id\": \"507f1f77bcf86cd799439011\",\n  \"file_path\": \"main.tex\",\n  \"content\": \"\\\\documentclass{article}\\n\\\\begin{document}\\nHello World\\n\\\\end{document}\"\n}\n```",
          "input_schema": {
            "json": {
              "required": [
                "project_id",
                "file_path",
                "content"
              ],
              "additionalProperties": false,
              "type": "object",
              "$schema": "http://json-schema.org/draft-07/schema#",
              "properties": {
                "project_id": {
                  "description": "Project ID to write to",
                  "type": "string"
                },
                "content": {
                  "type": "string",
                  "description": "File content to write"
                },
                "file_path": {
                  "description": "Path to the file within the project",
                  "type": "string"
                }
              }
            }
          }
        }
      },
      {
        "ToolSpecification": {
          "name": "amzn_mcp___g2s2_create_label",
          "description": "Creates a new G2S2 label with the specified parent label",
          "input_schema": {
            "json": {
              "type": "object",
              "properties": {
                "labelName": {
                  "type": "string",
                  "description": "The label name to create"
                },
                "stageVersion": {
                  "description": "The stage version for the new label",
                  "type": "string"
                }
              },
              "required": [
                "labelName",
                "stageVersion"
              ],
              "additionalProperties": false,
              "$schema": "http://json-schema.org/draft-07/schema#"
            }
          }
        }
      },
      {
        "ToolSpecification": {
          "name": "amzn_mcp___orca_get_latest_error_details",
          "description": "Get detailed error information from an Orca workflow run URL.\n\nThis tool extracts error details including stack traces from Orca Studio execution pages.\n\nExample:\n```json\n{ \"url\": \"https://us-east-1.studio.orca.amazon.dev/#/clients/MyClient/execution/12345\" }\n```",
          "input_schema": {
            "json": {
              "properties": {
                "url": {
                  "description": "The Orca Studio URL of the execution to analyze",
                  "type": "string"
                }
              },
              "required": [
                "url"
              ],
              "type": "object",
              "additionalProperties": false,
              "$schema": "http://json-schema.org/draft-07/schema#"
            }
          }
        }
      },
      {
        "ToolSpecification": {
          "name": "amzn_mcp___sfdc_list_tasks_activity",
          "description": "This tool is for listing SA Activities and tasks in AWS Salesforce (AFA AWSentral)",
          "input_schema": {
            "json": {
              "additionalProperties": false,
              "properties": {
                "account_id": {
                  "type": "string",
                  "description": "The Salesforce Account ID to filter by - this will return all activities/tasks on an account and it's opportunities"
                },
                "opportunity_id": {
                  "type": "string",
                  "description": "The Salesforce Opportunity ID to filter by - this will return all activities/tasks on a opportunity"
                }
              },
              "type": "object",
              "$schema": "http://json-schema.org/draft-07/schema#"
            }
          }
        }
      },
      {
        "ToolSpecification": {
          "name": "amzn_mcp___search_people",
          "description": "Search for Amazon employees with filtering by attributes like job level, location, and Bar Raiser/Manager status. This tool allows you to search for people by name, alias, or other criteria, and filter results by department, location, job level, Bar Raiser status, Manager status, and more. The tool also provides information of the employee like phoneNumber, email, buildingRoom if available in phoneTool.",
          "input_schema": {
            "json": {
              "additionalProperties": false,
              "properties": {
                "maxResults": {
                  "type": "number",
                  "description": "Maximum number of results to return (default: 10)"
                },
                "filters": {
                  "properties": {
                    "isBarRaiser": {
                      "type": "boolean",
                      "description": "Filter for bar raisers (true) or non-bar raisers (false)"
                    },
                    "isManager": {
                      "description": "Filter for managers (true) or individual contributors (false)",
                      "type": "boolean"
                    },
                    "badgeCode": {
                      "type": "string",
                      "description": "Filter by badge code (e.g., 'F')"
                    },
                    "title": {
                      "type": "string",
                      "description": "Filter by job title (e.g., 'Software Development Engineer', 'Sr. Partner SA, Oracle')"
                    },
                    "department": {
                      "description": "Filter by department name (e.g., 'AWS', 'Consumables CX - Tech')",
                      "type": "string"
                    },
                    "jobLevel": {
                      "description": "Filter by job level (e.g., '4', '5', '6')",
                      "type": "string"
                    },
                    "city": {
                      "type": "string",
                      "description": "Filter by city name (e.g., 'Seattle', 'Dallas')"
                    },
                    "building": {
                      "description": "Filter by building code (e.g., 'SEA20', 'BLR13')",
                      "type": "string"
                    },
                    "badgeBorderColor": {
                      "description": "Filter by badge border color (e.g., 'blue')",
                      "type": "string"
                    },
                    "country": {
                      "type": "string",
                      "description": "Filter by country code (e.g., 'us', 'in', 'ca')"
                    }
                  },
                  "type": "object",
                  "additionalProperties": false,
                  "description": "Filters to narrow down search results"
                },
                "query": {
                  "type": "string",
                  "description": "Search query for finding people (name, alias, etc.)"
                }
              },
              "required": [
                "query"
              ],
              "type": "object",
              "$schema": "http://json-schema.org/draft-07/schema#"
            }
          }
        }
      },
      {
        "ToolSpecification": {
          "name": "amzn_mcp___edit_quip",
          "description": "Edit Quip documents\n\nThis tool allows you to make targeted edits to specific sections of a Quip document\nusing section IDs obtained from the read_quip tool when using HTML format.\n\nWorkflow:\n1. Use read_quip with HTML format to get the document with section IDs\n2. Identify the section ID you want to modify (e.g., 'temp:C:SAf3351f25e51434479864cf71ce')\n3. Use edit_quip with the section ID and appropriate location parameter\n\nLocations:\n0: APPEND - Add to end of document (default)\n1: PREPEND - Add to beginning of document\n2: AFTER_SECTION - Insert after section_id\n3: BEFORE_SECTION - Insert before section_id\n4: REPLACE_SECTION - Replace section_id content\n5: DELETE_SECTION - Delete section_id (no content required)\n6: AFTER_DOCUMENT_RANGE - Insert after document_range\n7: BEFORE_DOCUMENT_RANGE - Insert before document_range\n8: REPLACE_DOCUMENT_RANGE - Replace document_range content\n9: DELETE_DOCUMENT_RANGE - Delete document_range (no content required)\n\nOptional Parameters:\n- returnFullDocument: Set to true to receive the full document content in addition to the status information\n\nExamples:\n1. Append to document:\n```json\n{\n  \"documentId\": \"https://quip-amazon.com/abc/Doc\",\n  \"content\": \"New content\",\n  \"format\": \"markdown\"\n}\n```\n\n2. Prepend to document:\n```json\n{\n  \"documentId\": \"https://quip-amazon.com/abc/Doc\",\n  \"content\": \"New content\",\n  \"format\": \"markdown\",\n  \"location\": 1\n}\n```\n\n3. Insert after section:\n```json\n{\n  \"documentId\": \"https://quip-amazon.com/abc/Doc\",\n  \"content\": \"New content\",\n  \"format\": \"markdown\",\n  \"location\": 2,\n  \"sectionId\": \"temp:C:SAf3351f25e51434479864cf71ce\"\n}\n```\n\n4. Replace section content:\n```json\n{\n  \"documentId\": \"https://quip-amazon.com/abc/Doc\",\n  \"content\": \"### New heading\",\n  \"format\": \"markdown\",\n  \"location\": 4,\n  \"sectionId\": \"temp:C:SAf3351f25e51434479864cf71ce\"\n}\n```\n\n5. Delete section:\n```json\n{\n  \"documentId\": \"https://quip-amazon.com/abc/Doc\",\n  \"content\": \"\",\n  \"format\": \"markdown\",\n  \"location\": 5,\n  \"sectionId\": \"temp:C:SAf3351f25e51434479864cf71ce\"\n}\n```\n\n6. Edit with concise response:\n```json\n{\n  \"documentId\": \"https://quip-amazon.com/abc/Doc\",\n  \"content\": \"New content\",\n  \"format\": \"markdown\",\n  \"location\": 4,\n  \"sectionId\": \"temp:C:SAf3351f25e51434479864cf71ce\",\n  \"returnFullDocument\": false\n}\n```",
          "input_schema": {
            "json": {
              "required": [
                "documentId",
                "content"
              ],
              "type": "object",
              "properties": {
                "documentRange": {
                  "description": "Document range for range operations",
                  "type": "string"
                },
                "returnFullDocument": {
                  "description": "Whether to return the full document content after editing (default: false)",
                  "type": "boolean"
                },
                "content": {
                  "type": "string",
                  "description": "The new content to write to the document"
                },
                "documentId": {
                  "type": "string",
                  "description": "The Quip document URL or ID to edit"
                },
                "format": {
                  "type": "string",
                  "enum": [
                    "html",
                    "markdown"
                  ],
                  "default": "markdown",
                  "description": "The format of the content"
                },
                "location": {
                  "minimum": 0,
                  "maximum": 9,
                  "type": "number",
                  "description": "Location for content insertion"
                },
                "sectionId": {
                  "description": "Section ID for section operations",
                  "type": "string"
                }
              },
              "additionalProperties": false,
              "$schema": "http://json-schema.org/draft-07/schema#"
            }
          }
        }
      },
      {
        "ToolSpecification": {
          "name": "amzn_mcp___get_folder_quip",
          "description": "Get detailed information about a Quip folder\n\nThis tool retrieves detailed information about a specific folder,\nincluding its title, color, parent folder, and child folders.\n\nExample:\n```json\n{\n  \"folderId\": \"ABCDEF123456\"\n}\n```",
          "input_schema": {
            "json": {
              "$schema": "http://json-schema.org/draft-07/schema#",
              "type": "object",
              "properties": {
                "folderId": {
                  "type": "string",
                  "description": "The ID of the folder to retrieve information about"
                }
              },
              "required": [
                "folderId"
              ],
              "additionalProperties": false
            }
          }
        }
      },
      {
        "ToolSpecification": {
          "name": "amzn_mcp___sage_search_tags",
          "description": "Search for tags on Sage (Amazon's internal Q&A platform).\n\nThis tool allows you to find appropriate tags for categorizing questions on Sage.\nTags help organize questions and ensure they reach the right audience.\nResults are paginated and sorted by popularity by default.\n\nAuthentication:\n- Requires valid Midway authentication (run `mwinit` if you encounter authentication errors)\n\nCommon use cases:\n- Finding relevant tags before creating a question\n- Discovering tags related to specific technologies or teams\n- Exploring popular tags in a particular domain\n\nExample usage:\n{ \"nameFilter\": \"brazil\", \"page\": 1, \"pageSize\": 10 }",
          "input_schema": {
            "json": {
              "$schema": "http://json-schema.org/draft-07/schema#",
              "properties": {
                "pageSize": {
                  "description": "Number of results per page (default: 60)",
                  "type": "number"
                },
                "page": {
                  "type": "number",
                  "description": "Page number for pagination (starts at 1)"
                },
                "nameFilter": {
                  "type": "string",
                  "description": "Optional filter to search for tags by name"
                }
              },
              "additionalProperties": false,
              "type": "object"
            }
          }
        }
      },
      {
        "ToolSpecification": {
          "name": "amzn_mcp___jira_config_helper",
          "description": "Get help configuring JIRA tools for Q CLI",
          "input_schema": {
            "json": {
              "properties": {
                "jira_url": {
                  "description": "Your JIRA instance URL (optional - for validation)",
                  "type": "string"
                },
                "token": {
                  "type": "string",
                  "description": "Your JIRA token (optional - for validation)"
                }
              },
              "type": "object",
              "additionalProperties": false,
              "$schema": "http://json-schema.org/draft-07/schema#"
            }
          }
        }
      },
      {
        "ToolSpecification": {
          "name": "amzn_mcp___search_quip",
          "description": "Search for Quip threads\n\nThis tool allows you to search for Quip threads using keywords.\nResults are sorted by relevance and include document titles, links, and metadata.\n\nExamples:\n1. Basic search:\n```json\n{\n  \"query\": \"expense report\"\n}\n```\n\n2. Search with limit:\n```json\n{\n  \"query\": \"expense report\",\n  \"count\": 5\n}\n```\n\n3. Search only in titles:\n```json\n{\n  \"query\": \"expense report\",\n  \"onlyMatchTitles\": true\n}\n```",
          "input_schema": {
            "json": {
              "$schema": "http://json-schema.org/draft-07/schema#",
              "type": "object",
              "additionalProperties": false,
              "required": [
                "query"
              ],
              "properties": {
                "count": {
                  "type": "number",
                  "description": "Maximum number of results to return (default: 10, max: 50)"
                },
                "onlyMatchTitles": {
                  "type": "boolean",
                  "description": "If true, only search in document titles (default: false)"
                },
                "query": {
                  "type": "string",
                  "description": "Search query to find matching Quip threads"
                }
              }
            }
          }
        }
      },
      {
        "ToolSpecification": {
          "name": "amzn_mcp___sage_create_question",
          "description": "Create a new question on Sage (Amazon's internal Q&A platform).\n\nThis tool allows you to post new questions to Sage through the MCP interface.\nQuestions require at least one tag or packageTag to categorize them properly.\nThe question content supports Markdown formatting for rich text, code blocks, and links.\n\nAuthentication:\n- Requires valid Midway authentication (run `mwinit` if you encounter authentication errors)\n\nCommon use cases:\n- Asking technical questions about Amazon internal tools and services\n- Seeking help with troubleshooting issues\n- Requesting best practices or guidance\n\nExample usage:\n{ \"title\": \"How to resolve Brazil dependency conflicts?\", \"contents\": \"I'm getting the following error when building my package:\\n\\n```\\nCannot resolve dependency X\\n```\\n\\nHow can I fix this?\", \"tags\": [\"brazil\", \"build-system\"] }",
          "input_schema": {
            "json": {
              "required": [
                "title",
                "contents"
              ],
              "properties": {
                "tags": {
                  "items": {
                    "type": "string"
                  },
                  "description": "Tags to categorize the question (at least one tag or packageTag is required)",
                  "type": "array"
                },
                "title": {
                  "type": "string",
                  "description": "Title of the question"
                },
                "packageTags": {
                  "items": {
                    "type": "string"
                  },
                  "description": "Package tags to categorize the question (at least one tag or packageTag is required)",
                  "type": "array"
                },
                "contents": {
                  "type": "string",
                  "description": "Content of the question in Markdown format"
                }
              },
              "additionalProperties": false,
              "$schema": "http://json-schema.org/draft-07/schema#",
              "type": "object"
            }
          }
        }
      },
      {
        "ToolSpecification": {
          "name": "amzn_mcp___jira_get_issue",
          "description": "Get a JIRA issue by ID or key",
          "input_schema": {
            "json": {
              "properties": {
                "fields": {
                  "type": "array",
                  "items": {
                    "type": "string"
                  },
                  "description": "The list of fields to return"
                },
                "issueIdOrKey": {
                  "type": "string",
                  "description": "The ID or key of the issue",
                  "minLength": 1
                },
                "expand": {
                  "type": "string",
                  "description": "The additional information to include in the response"
                }
              },
              "type": "object",
              "additionalProperties": false,
              "required": [
                "issueIdOrKey"
              ],
              "$schema": "http://json-schema.org/draft-07/schema#"
            }
          }
        }
      },
      {
        "ToolSpecification": {
          "name": "amzn_mcp___sage_add_comment",
          "description": "Add a comment to a post on Sage (Amazon's internal Q&A platform).\n\nThis tool allows you to comment on questions or answers on Sage through the MCP interface.\nComments are useful for requesting clarification, providing additional context, or suggesting improvements.\nComments use plain text format (no Markdown support).\n\nAuthentication:\n- Requires valid Midway authentication (run `mwinit` if you encounter authentication errors)\n\nCommon use cases:\n- Asking for clarification on a question or answer\n- Providing additional context or information\n- Suggesting improvements or alternatives\n\nExample usage:\n{ \"postId\": 1234567, \"contents\": \"Could you also explain how this works with custom dependencies?\" }",
          "input_schema": {
            "json": {
              "additionalProperties": false,
              "type": "object",
              "properties": {
                "postId": {
                  "description": "ID of the post (question or answer) to comment on",
                  "type": "number"
                },
                "contents": {
                  "description": "Content of the comment in plain text",
                  "type": "string"
                }
              },
              "$schema": "http://json-schema.org/draft-07/schema#",
              "required": [
                "postId",
                "contents"
              ]
            }
          }
        }
      },
      {
        "ToolSpecification": {
          "name": "amzn_mcp___marshal_get_report",
          "description": "Retrieve Marshal Report.\nMarshal is an internal AWS application for collecting insights from Solutions Architects (SAs), and other field teams, and facilitating the reporting process for Weekly/Monthly/Quarterly Business Reports (WBR/MBR/QBR).\n",
          "input_schema": {
            "json": {
              "additionalProperties": false,
              "$schema": "http://json-schema.org/draft-07/schema#",
              "properties": {
                "reportId": {
                  "type": "string",
                  "pattern": "^\\d+$",
                  "description": "The ID of the Marshal Report (numeric ID only, not the full URL)"
                }
              },
              "type": "object",
              "required": [
                "reportId"
              ]
            }
          }
        }
      },
      {
        "ToolSpecification": {
          "name": "amzn_mcp___genai_poweruser_agent_script_search",
          "description": "Perform comprehensive keyword searches across the entire agentic script library, examining script names, content bodies, and metadata fields simultaneously. This tool returns contextually-rich results with relevant text snippets surrounding each match, highlighting where and how search terms appear within scripts. Results include file locations, match types (filename, content, or description matches), and properly handles duplicate scripts with consolidated results. Perfect for discovering scripts based on functionality, implementation details, or descriptive elements rather than exact names.",
          "input_schema": {
            "json": {
              "properties": {
                "query": {
                  "type": "string",
                  "description": "Search query to find matching scripts"
                }
              },
              "required": [
                "query"
              ],
              "type": "object",
              "additionalProperties": false,
              "$schema": "http://json-schema.org/draft-07/schema#"
            }
          }
        }
      }
    ],
    "native___": [
      {
        "ToolSpecification": {
          "name": "fs_write",
          "description": "A tool for creating and editing files\n * The `create` command will override the file at `path` if it already exists as a file, and otherwise create a new file\n * The `append` command will add content to the end of an existing file, automatically adding a newline if the file doesn't end with one. The file must exist.\n Notes for using the `str_replace` command:\n * The `old_str` parameter should match EXACTLY one or more consecutive lines from the original file. Be mindful of whitespaces!\n * If the `old_str` parameter is not unique in the file, the replacement will not be performed. Make sure to include enough context in `old_str` to make it unique\n * The `new_str` parameter should contain the edited lines that should replace the `old_str`.",
          "input_schema": {
            "json": {
              "type": "object",
              "required": [
                "command",
                "path"
              ],
              "properties": {
                "old_str": {
                  "type": "string",
                  "description": "Required parameter of `str_replace` command containing the string in `path` to replace."
                },
                "command": {
                  "enum": [
                    "create",
                    "str_replace",
                    "insert",
                    "append"
                  ],
                  "type": "string",
                  "description": "The commands to run. Allowed options are: `create`, `str_replace`, `insert`, `append`."
                },
                "insert_line": {
                  "description": "Required parameter of `insert` command. The `new_str` will be inserted AFTER the line `insert_line` of `path`.",
                  "type": "integer"
                },
                "new_str": {
                  "description": "Required parameter of `str_replace` command containing the new string. Required parameter of `insert` command containing the string to insert. Required parameter of `append` command containing the content to append to the file.",
                  "type": "string"
                },
                "file_text": {
                  "type": "string",
                  "description": "Required parameter of `create` command, with the content of the file to be created."
                },
                "path": {
                  "type": "string",
                  "description": "Absolute path to file or directory, e.g. `/repo/file.py` or `/repo`."
                },
                "summary": {
                  "description": "A brief explanation of what the file change does or why it's being made.",
                  "type": "string"
                }
              }
            }
          }
        }
      },
      {
        "ToolSpecification": {
          "name": "fs_read",
          "description": "Tool for reading files (for example, `cat -n`),  directories (for example, `ls -la`) and images. If user has supplied paths that appear to be leading to images, you should use this tool right away using Image mode. The behavior of this tool is determined by the `mode` parameter. The available modes are:\n- line: Show lines in a file, given by an optional `start_line` and optional `end_line`.\n- directory: List directory contents. Content is returned in the \"long format\" of ls (that is, `ls -la`).\n- search: Search for a pattern in a file. The pattern is a string. The matching is case insensitive.\n\nExample Usage:\n1. Read all lines from a file: command=\"line\", path=\"/path/to/file.txt\"\n2. Read the last 5 lines from a file: command=\"line\", path=\"/path/to/file.txt\", start_line=-5\n3. List the files in the home directory: command=\"line\", path=\"~\"\n4. Recursively list files in a directory to a max depth of 2: command=\"line\", path=\"/path/to/directory\", depth=2\n5. Search for all instances of \"test\" in a file: command=\"search\", path=\"/path/to/file.txt\", pattern=\"test\"\n",
          "input_schema": {
            "json": {
              "required": [
                "path",
                "mode"
              ],
              "properties": {
                "end_line": {
                  "default": -1,
                  "type": "integer",
                  "description": "Ending line number (optional, for Line mode). A negative index represents a line number starting from the end of the file."
                },
                "pattern": {
                  "type": "string",
                  "description": "Pattern to search for (required, for Search mode). Case insensitive. The pattern matching is performed per line."
                },
                "image_paths": {
                  "type": "array",
                  "items": {
                    "type": "string"
                  },
                  "description": "List of paths to the images. This is currently supported by the Image mode."
                },
                "context_lines": {
                  "default": 2,
                  "description": "Number of context lines around search results (optional, for Search mode)",
                  "type": "integer"
                },
                "depth": {
                  "type": "integer",
                  "description": "Depth of a recursive directory listing (optional, for Directory mode)",
                  "default": 0
                },
                "mode": {
                  "enum": [
                    "Line",
                    "Directory",
                    "Search",
                    "Image"
                  ],
                  "description": "The mode to run in: `Line`, `Directory`, `Search`. `Line` and `Search` are only for text files, and `Directory` is only for directories. `Image` is for image files, in this mode `image_paths` is required.",
                  "type": "string"
                },
                "path": {
                  "description": "Path to the file or directory. The path should be absolute, or otherwise start with ~ for the user's home.",
                  "type": "string"
                },
                "start_line": {
                  "type": "integer",
                  "description": "Starting line number (optional, for Line mode). A negative index represents a line number starting from the end of the file.",
                  "default": 1
                }
              },
              "type": "object"
            }
          }
        }
      },
      {
        "ToolSpecification": {
          "name": "report_issue",
          "description": "Opens the browser to a pre-filled gh (GitHub) issue template to report chat issues, bugs, or feature requests. Pre-filled information includes the conversation transcript, chat context, and chat request IDs from the service.",
          "input_schema": {
            "json": {
              "type": "object",
              "properties": {
                "actual_behavior": {
                  "type": "string",
                  "description": "Optional: The actual chat behavior that happened and demonstrates the issue or lack of a feature."
                },
                "title": {
                  "description": "The title of the GitHub issue.",
                  "type": "string"
                },
                "expected_behavior": {
                  "description": "Optional: The expected chat behavior or action that did not happen.",
                  "type": "string"
                },
                "steps_to_reproduce": {
                  "description": "Optional: Previous user chat requests or steps that were taken that may have resulted in the issue or error response.",
                  "type": "string"
                }
              },
              "required": [
                "title"
              ]
            }
          }
        }
      },
      {
        "ToolSpecification": {
          "name": "dummy",
          "description": "This is a dummy tool. If you are seeing this that means the tool associated with this tool call is not in the list of available tools. This could be because a wrong tool name was supplied or the list of tools has changed since the conversation has started. Do not show this when user asks you to list tools.",
          "input_schema": {
            "json": {
              "type": "object",
              "properties": {},
              "required": []
            }
          }
        }
      },
      {
        "ToolSpecification": {
          "name": "execute_bash",
          "description": "Execute the specified bash command.",
          "input_schema": {
            "json": {
              "properties": {
                "command": {
                  "type": "string",
                  "description": "Bash command to execute"
                },
                "summary": {
                  "description": "A brief explanation of what the command does",
                  "type": "string"
                }
              },
              "type": "object",
              "required": [
                "command"
              ]
            }
          }
        }
      },
      {
        "ToolSpecification": {
          "name": "use_aws",
          "description": "Make an AWS CLI api call with the specified service, operation, and parameters. All arguments MUST conform to the AWS CLI specification. Should the output of the invocation indicate a malformed command, invoke help to obtain the the correct command.",
          "input_schema": {
            "json": {
              "properties": {
                "label": {
                  "type": "string",
                  "description": "Human readable description of the api that is being called."
                },
                "region": {
                  "type": "string",
                  "description": "Region name for calling the operation on AWS."
                },
                "service_name": {
                  "description": "The name of the AWS service. If you want to query s3, you should use s3api if possible.",
                  "type": "string"
                },
                "operation_name": {
                  "description": "The name of the operation to perform.",
                  "type": "string"
                },
                "profile_name": {
                  "type": "string",
                  "description": "Optional: AWS profile name to use from ~/.aws/credentials. Defaults to default profile if not specified."
                },
                "parameters": {
                  "description": "The parameters for the operation. The parameter keys MUST conform to the AWS CLI specification. You should prefer to use JSON Syntax over shorthand syntax wherever possible. For parameters that are booleans, prioritize using flags with no value. Denote these flags with flag names as key and an empty string as their value. You should also prefer kebab case.",
                  "type": "object"
                }
              },
              "required": [
                "region",
                "service_name",
                "operation_name",
                "label"
              ],
              "type": "object"
            }
          }
        }
      }
    ]
  },
  "context_manager": {
    "max_context_files_size": 150000,
    "global_config": {
      "paths": [
        ".amazonq/rules/**/*.md",
        "README.md",
        "AmazonQ.md",
        "/Users/orrb/workplace/q/src/AmazonBuilderGenAIPowerUsersQContext/AmazonQ.md",
        "/Users/orrb/workplace/q/src/AmazonBuilderGenAIPowerUsersQContext/rules/**/*.md",
        "src/*/.amazonq/rules/**/*.md",
        "src/*/AmazonQ.md",
        "src/*/README.md"
      ],
      "hooks": {}
    },
    "current_profile": "default",
    "profile_config": {
      "paths": [],
      "hooks": {}
    }
  },
  "context_message_length": 20349,
  "latest_summary": null,
  "model": "CLAUDE_SONNET_4_20250514_V1_0"
}